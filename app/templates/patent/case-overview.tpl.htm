<div data-ng-show="$ctrl.loading" class="animate-show">
	<div class="row m-b-md">
		<div class="col-xl-12 text-center">
			<img src="assets/imgs/icons/spinner-loader-sm.gif">
		</div>
	</div>
</div>
<div id="patentAnchor"></div>
<div class="row d-flex align-items-center m-b-sm">
    <div class="col-xl-12 d-flex justify-content-between">
    	<div>
			<p class="font-h2 lh-head font-weight-bold">Application Number:</p>
			<p class="font-h2 lh-head">{{$ctrl.patent.ep_ApplicationNumber}}</p>

    	</div>
    	<div class="d-flex">
    		<div class="text-right">			
				<p class="font-h2 lh-head font-weight-bold text-right">Patent Place Status:<span></span>
				</p>
				<p class="font-h2 lh-head text-right" data-ng-class="{'txt-phase-red': $ctrl.patent.urgentAttentionReq === true}">{{$ctrl.patent.uiStatus}}<span class="txt-phase-black font-weight-medium" data-ng-if="$ctrl.patent.urgentAttentionReq || $ctrl.patent.manualProcess"> - Call +44 203 696 0949</span></p>
    		</div>
	    	<div data-ng-if="$ctrl.statusesAvailable.length > 0">
	    		<div class="m-l-xxxl" data-ng-if="!$ctrl.patent.urgentAttentionReq && !$ctrl.patent.manualProcess">
					<p class="font-h2 lh-head font-weight-bold  text-right" >European Actions available:</p>
					<p class="font-h2 lh-head text-right" data-ng-if="!$ctrl.patent.urgentAttentionReq">
						<span class="txt-phase-green font-weight-medium" data-ng-repeat="service in $ctrl.statusesAvailable">
							<span class="txt-phase-green">{{service.action}}</span>
							<span data-ng-if="$ctrl.statusesAvailable.length > 1 && $index == 0">, </span>
						</span>
					</p>
				</div>
	    	</div>
	    	<div data-ng-if="$ctrl.statusesAvailable.length === 0 && !$ctrl.patent.urgentAttentionReq && !$ctrl.patent.manualProcess" class="m-l-xxxl">
	    		<p class="font-h2 lh-head font-weight-bold  text-right" >European Actions available:</p>
	    		<p class="font-h2 lh-head font-weight-medium  text-right">No actions available</p>
	    	</div>
    	</div>
    </div>
</div>

	
<div class="row">
	<div class="col-md-12 col-lg-6 col-xl-6 m-b-md-md">
		<div class="content-panel">
			<div class="content-panel__body bg-white p-t-none">
				<uib-tabset active="activeLeft">
					<uib-tab index="0" heading="Details" class="case-overview-nav">
						<div ui-view="details" class="m-t-lg"></div>
					</uib-tab>
					<uib-tab index="1" heading="Notifications" class="case-overview-nav">
						<div ui-view="notifications" class="m-t-lg"></div>
					</uib-tab>
					<uib-tab index="2" heading="Form 1200" class="case-overview-nav" data-ng-if="$ctrl.displayForm1200Tab">
						<div ui-view="form1200" class="m-t-lg"></div>
					</uib-tab>
					<uib-tab index="3" heading="Renewal History" class="case-overview-nav" data-ng-if="$ctrl.displayRenewalHistoryTab">
						<div ui-view="renewalhistory" class="m-t-lg"></div>
					</uib-tab>
					<uib-tab index="4" heading="Grant and Publishing" class="case-overview-nav" data-ng-if="$ctrl.displayGrantTab">
						<div ui-view="grantandpublishing" class="m-t-lg"></div>
					</uib-tab>					
				</uib-tabset>
			</div>
		</div>
	</div>

	<div class="col-md-12 col-lg-6">
		<div class="content-panel d-flex">
			<div data-ng-if="$ctrl.servicesAvailable" class="d-flex flex-grow-1">
				<div class="content-panel__body bg-white p-t-none">
					<uib-tabset active="activeRight" class="m-b-md">
						<uib-tab index="0" heading="Fee Breakdown" class="case-overview-nav">
							<div ui-view="fee-breakdown" class="m-t-lg"></div>
						</uib-tab>
						<uib-tab index="1" heading="FX Chart" class="case-overview-nav" data-ng-click="$ctrl.refreshChart()">
							<div ui-view="fxchart" class="m-t-lg"></div>
						</uib-tab>
						<uib-tab index="2" heading="Cost Chart" class="case-overview-nav" data-ng-click="$ctrl.refreshChart()">
							<div ui-view="costchart" class="m-t-lg"></div>
						</uib-tab>
					</uib-tabset>
					<div class="border-grey-xs--btm"></div>
	                <div class="row m-t-md">
	                	<div class="col-xl-12 text-right">
				            <transaction-link trans-id="{{$ctrl.patent.id}}" data-ng-if="$ctrl.patent.portfolioUI.serviceStatus == ('Payment in progress' || 'EPO Instructed')"></transaction-link>
				            <ngcart-addtocart id="{{$ctrl.patent.id}}" class="cartbtn" name="service.form1200" price="{{$ctrl.patent.portfolioUI.serviceList[0].currentStageCostUSD}}" quantity="1" quantity-max="10" data="$ctrl.patent" data-ng-if="$ctrl.patent.form1200FeeUI !== null && $ctrl.patent.epctStatus == 'Epct saved'"></ngcart-addtocart>
				            <ngcart-addtocart id="{{$ctrl.patent.id}}" class="cartbtn" name="service.renewal" price="{{$ctrl.patent.portfolioUI.serviceList[0].currentStageCostUSD}}" quantity="1" quantity-max="10" data="$ctrl.patent" data-ng-if="$ctrl.patent.renewalFeeUI !== null && $ctrl.patent.renewalStatus == 'Show price'"></ngcart-addtocart>             
				        </div>          
	                </div>				
				</div>
			</div>
			<div data-ng-if="!$ctrl.servicesAvailable" class="content-panel__body bg-white d-flex d-flex align-items-center">
				<div class="d-flex flex-grow-1 bg-no-chart align-items-center justify-content-center ng-scope">
	                <div class="row">
	                    <div class="col-xl-12">
	                        <div class="text-center flex-column">
	                            <p class="h4 font-weight-medium">Sorry</p>
	                            <p class="h4 font-weight-medium text-center">No cost breakdown currently available</p>
	                        </div>
	                    </div>
	                </div>
                </div>
			</div>
		</div>
	</div>			
</div>

<div class="row m-t-md">
	<div class="col-xl-12 text-left">
		<input type="button" id="delete" class="btn btn--lg btn--red pill-radius" value="Remove patent" data-ng-click="$ctrl.confirmDeletePatent($ctrl.patent.id)">
	</div>
</div>

