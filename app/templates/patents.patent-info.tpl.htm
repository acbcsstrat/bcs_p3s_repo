<div class="content-panel d-none d-xl-block">	
	<div class="bg-white">
		<div class="content-panel__head border-grey-xs--btm">
			<div class="row d-flex align-items-center">
			    <div class="col-xl-4">
					<p class="font-h4 m-b-xs"><span class="font-weight-bold">Application Number:</span> {{$ctrl.patent.patentApplicationNumber}}</p>
					<p class="font-h4"><span class="font-weight-bold">Status:</span> 
						<span data-ng-if="$ctrl.patent.renewalStatus !== 'Too late to renew' && $ctrl.patent.renewalStatus !== 'Way too late to renew' && $ctrl.patent.renewalStatus !== 'Show price'">{{$ctrl.patent.renewalStatus}}</span>
						<span data-ng-if="$ctrl.patent.renewalStatus === 'Too late to renew'">Call to Renew</span>
						<span data-ng-if="$ctrl.patent.renewalStatus === 'Way too late to renew'">Renewal lapsed</span>
						<span data-ng-if="$ctrl.patent.renewalStatus === 'Show price'">Open for renewal</span>
					</p>
			    </div>
			    <div class="col-xl-5" data-ng-if="$ctrl.patent.renewalStatus == 'Show price'">
					<div class="row">
						<div class="col-xl-12">
							<div class="text-center inline-container m-b-xs" data-ng-style="{'width': $ctrl.patent.progressBar + '%'}">
								<span class="font-h4 font-weight-medium nowrap" data-ng-class="($ctrl.patent.costBandColour == 'Green' ? 'txt-phase-green': '') + '' + ($ctrl.patent.costBandColour == 'Amber' ? 'txt-phase-amber': '') + '' + ($ctrl.patent.costBandColour == 'Red' ? 'txt-phase-blue': '') + '' + ($ctrl.patent.costBandColour == 'Blue' ? 'txt-phase-blue': '') + '' + ($ctrl.patent.costBandColour == 'Black' ? 'txt-phase-white': '')">$ {{$ctrl.patent.currentRenewalCost | number: 2 }}</span>
							</div>
							<div class="text-center inline-container m-b-xs" data-ng-style="{'width': ((100 - $ctrl.patent.progressBar) - 1)  + '%'}">
								<span data-ng-if="$ctrl.patent.costBandColour !== 'Black'" class="font-h4 font-weight-medium nowrap" data-ng-class="($ctrl.patent.costBandColour == 'Green' ? 'txt-phase-amber': '') + '' + ($ctrl.patent.costBandColour == 'Amber' ? 'txt-phase-red': '') + '' + ($ctrl.patent.costBandColour == 'Red' ? 'txt-phase-blue': '') + '' + ($ctrl.patent.costBandColour == 'Blue' ? 'txt-phase-black': '') + '' + ($ctrl.patent.costBandColour == 'Black' ? 'txt-phase-white': '')">$ {{$ctrl.patent.renewalCostNextStageUSD}}</span>
								<span data-ng-if="$ctrl.patent.costBandColour == 'Black'" class="font-h4 font-weight-medium nowrap">LAPSE</span>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-xl-12">
							<uib-progress class="pill-radius progress-bar-tall" data-ng-class="($ctrl.patent.costBandColour == 'Green' ? 'bg-phase-amber': '') + '' + ($ctrl.patent.costBandColour == 'Amber' ? 'bg-phase-red': '') + '' + ($ctrl.patent.costBandColour == 'Red' ? 'bg-phase-blue': '') + '' + ($ctrl.patent.costBandColour == 'Blue' ? 'bg-phase-black': '') + '' + ($ctrl.patent.costBandColour == 'Black' ? 'bg-white': '')"><uib-bar class="pill-radius progress-bar-tall d-flex align-items-center justify-content-center font-weight-medium progress-10 font-body" value="$ctrl.patent.progressBar">{{$ctrl.patent.progressBar}}%</uib-bar></uib-progress>
						</div>
					</div>
			    </div>
			    <div data-ng-class="($ctrl.patent.renewalStatus == 'Show price' ? 'col-xl-3': 'col-xl-8')">
					<div data-ng-if="$ctrl.patent.renewalStatus !== 'Show price'" class="d-flex justify-content-end align-items-center">
						<p class="font-weight-medium font-h4 d-flex justify-content-end align-items-center m-r-sm">
							<span data-ng-if="$ctrl.patent.renewalStatus !== 'Too late to renew' && $ctrl.patent.renewalStatus !== 'Way too late to renew'">{{$ctrl.patent.renewalStatus}}</span>
							<span data-ng-if="$ctrl.patent.renewalStatus === 'Way too late to renew'">Renewal lapsed</span>
							<span data-ng-if="$ctrl.patent.renewalStatus === 'Too late to renew'">Call <span class="font-weight-bold" data-ng-bind="$ctrl.partnerName"></span> on <span class="font-weight-bold" data-ng-bind="$ctrl.partnerPhone"></span>
						</p>
						<div>
							<img data-ng-if="$ctrl.patent.renewalStatus == 'Payment in progress'" src="assets/imgs/icons/progress_icon_lg.png" alt="payment in progress icon">
							<img data-ng-if="$ctrl.patent.renewalStatus == 'EPO Instructed'" src="assets/imgs/icons/epo_instructed__icon_lg.png" alt="epo instructed icon">
							<img data-ng-if="$ctrl.patent.renewalStatus == 'Renewal in place'" src="assets/imgs/icons/complete_icon_lg.png" alt="renewal in place icon">
							<i data-ng-if="$ctrl.patent.renewalStatus == 'Too late to renew'" class="fa fa-phone fa-3x txt-phase-red m-r-xs"></i>
							<img data-ng-if="$ctrl.patent.renewalStatus == 'Way too late to renew'" src="assets/imgs/icons/lapsed_icon_lg.png" alt="not open for renewal icon">
							<img data-ng-if="$ctrl.patent.renewalStatus == 'No renewal needed'" src="assets/imgs/icons/no_renewal_lg.png" alt="no renewal icon">
						</div>
			    	</div>						    			    	
			    	<div data-ng-if="$ctrl.patent.renewalStatus == 'Show price'" class="text-right">
				    	<p class="font-h4 m-b-xs"><span class="font-weight-bold">Next stage: </span> <span data-ng-class="($ctrl.patent.costBandColour == 'Green' ? 'txt-phase-amber': '') + '' + ($ctrl.patent.costBandColour == 'Amber' ? 'txt-phase-red': '') + '' + ($ctrl.patent.costBandColour == 'Red' ? 'txt-phase-blue': '') + '' + ($ctrl.patent.costBandColour == 'Blue' ? 'txt-phase-black': '') + '' + ($ctrl.patent.costBandColour == 'Black' ? 'txt-phase-white': '')">{{$ctrl.patent.nextStage}}</span></p>
				    	<p class="font-h4"><span class="font-weight-bold">Occurs: </span> {{$ctrl.patent.costBandEndDateUI}}</p>
			    	</div>
			    </div>		    		    
		    </div>
	    </div>

		<div class="row">
			<div class="col-xl-9 col-cxl-12 p-r-none">
				<div class="content-panel__body border-grey-xs--right">
	    			<form class="form" name="patentInfoForm" novalidate>
	    				<div class="row">
		    				<div class="col-xl-6 col-cxl-6">
		    					<div class="m-b-lg">
			    					<h4 class="font-h4 font-weight-medium m-b-sm">Details</h4>
									<div class="form-group row">
										<label class="font-weight-medium col-xl-4 d-flex align-items-center">Client Desc: </label>
										<div class="col-xl-8">
											<div class="d-flex justify-content-between align-items-center">
												<span class="font-body" data-ng-hide="$ctrl.editing[1]">{{$ctrl.patent.shortTitle}}</span>
										        <input type="text" name="shortTitle" id="shortTitle" class="form-control m-r-sm" data-ng-show="$ctrl.editing[1]" data-ng-focus="focus.shortTitleFocus = true" data-ng-blur="$ctrl.doneEditing(1); focus.shortTitleFocus = false" data-ng-model="$ctrl.patent.shortTitle" data-ng-maxlength="25" autofocus>
										        <span data-ng-click="$ctrl.editItem(1)"><i class="fa fa-edit fa-2x"></i></span>
											</div>
							        		<p class="txt-phase-red" data-ng-show="patentInfoForm.shortTitle.$error.maxlength && patentInfoForm.shortTitle.$dirty && focus.shortTitleFocus">A maximum of 25 characters is allowed for a Client Description</p>
										</div>
									</div>
									<div class="form-group row">
										<label class="font-weight-medium col-xl-4 d-flex align-items-center">Client Ref: </label>
										<div class="col-xl-8">
											<div class="d-flex justify-content-between align-items-center">
										 		<span class="font-body" data-ng-hide="$ctrl.editing[2]">{{$ctrl.patent.clientRef}}</span>
								        		<input type="text" class="form-control" name="clientRef" id="clientRef" data-ng-show="$ctrl.editing[2]" data-ng-focus="focus.clientRefFocus = true" data-ng-blur="$ctrl.doneEditing(2); focus.clientRefFocus = false" data-ng-model="$ctrl.patent.clientRef" data-ng-maxlength="30" autofocus>
								        		
								        		<span data-ng-click="$ctrl.editItem(2)"><i class="fa fa-edit fa-2x"></i></span>
							        		</div>
							        		<p class="txt-phase-red" data-ng-show="patentInfoForm.clientRef.$error.maxlength && patentInfoForm.clientRef.$dirty && focus.clientRefFocus">A maximum of 30 characters is allowed for a Client Reference</p>
						        		</div>	
									</div>
									<div class="form-group row">
										<label class="font-weight-medium col-xl-4 d-flex align-items-center">Applicant Name: </label>
										<div class="col-xl-8">
							        		<input type="text" class="form-control" data-ng-model="$ctrl.patent.primaryApplicantName" readonly>
							        	</div>
									</div>
									<div class="form-group row">
										<label class="font-weight-medium col-xl-4 d-flex align-items-center">Publication No: </label>
										<div class="col-xl-8">
								        	<input type="text" class="form-control" data-ng-model="$ctrl.patent.patentPublicationNumber" readonly>
								        </div>
									</div>
									<div class="form-group row">
										<label class="font-weight-medium col-xl-4 d-flex align-items-center">Title: </label>
										<div class="col-xl-8">
								        	<input type="text" class="form-control" data-ng-model="$ctrl.patent.title" readonly>
								        </div>
									</div>	
									<div class="form-group row">
										<label class="font-weight-medium col-xl-4 d-flex align-items-center">Filing date: </label>
										<div class="col-xl-8">
								        	<input type="text" class="form-control" data-ng-model="$ctrl.patent.filingDateUI" readonly>
								        </div>
									</div>
								</div>
								<div class="row">
									<div class="col-xl-12 d-flex">
										<div class="btn-submit">
											<input type="submit" id="submit" class="btn btn--lg btn-submit--check bg-phase-green pill-radius m-r-sm" value="Save" data-ng-click="$ctrl.openUpdateConfirmModal($ctrl.patent)">									
										</div>
										<div class="btn-cancel">
											<input type="button" id="delete" class="btn btn--lg btn-error--cross pill-radius bg-phase-red" value="Remove" data-ng-click="$ctrl.openDeleteConfirmModal($ctrl.patent.id)">
										</div>
									</div>
								</div>
							</div>
				    		<div class="col-xl-6 col-cxl-6">
				    			<div class="m-b-md">
				    				<div class="m-b-md">
										<h4 class="font-weight-medium">Notifications</h4>
									</div>
									<p>Simply select the colour and time frame to receive email notifications for this patent prior to each stage. You can select as many or few as you want.</p>					    				
				    			</div>
				    			<div class="row m-b-md">
				    				<div class="col-xl-12 d-flex align-items-center justify-content-between">
				    					<h4 class="font-h4 font-weight-medium">Selected</h4>
<!-- 										<div class="pill-radius pill-tabs btn--lg"  data-ng-style="{ 'background': $ctrl.colourPhaseTitle.color}">
											<span class="font-weight-medium">{{$ctrl.colourPhaseTitle.title}} Stage</span>
										</div> -->
				    				</div>
				    			</div>
								<div class="row">
									<div class="col-xl-12">
										<div class="panel-nav">
											<ul class="nav panel-nav__notification-list d-flex justify-content-between">
												<li class="panel-nav__notification-list-item--green-notification panel-nav__list-item--notifications pill-radius active d-flex justify-content-center align-items-center m-b-xs" data-ng-init="activeNotificationTab = 0;" data-ng-click="activeNotificationTab = 0; $ctrl.displayNotifications('Green');" data-ng-class="{'active bg-phase-green': activeNotificationTab == 0, 'txt-phase-green': activeNotificationTab !== 0}">Green</li>
												<li class="panel-nav__notification-list-item--amber-notification pill-radius panel-nav__list-item--notifications d-flex justify-content-center align-items-center m-b-xs" data-ng-click="activeNotificationTab = 1; $ctrl.displayNotifications('Amber');" data-ng-class="{'active bg-phase-amber': activeNotificationTab == 1, 'txt-phase-amber': activeNotificationTab !== 1}">Amber</li>
												<li class="panel-nav__notification-list-item--red-notification font-weight-medium pill-radius panel-nav__list-item--notifications d-flex justify-content-center align-items-center m-b-xs" data-ng-click="activeNotificationTab = 2; $ctrl.displayNotifications('Red');" data-ng-class="{'active bg-phase-red': activeNotificationTab == 2, 'txt-phase-red': activeNotificationTab !== 2}">Red</li>
												<li class="panel-nav__notification-list-item--blue-notification font-weight-medium pill-radius panel-nav__list-item--notifications d-flex justify-content-center align-items-center m-b-xs" data-ng-click="activeNotificationTab = 3; $ctrl.displayNotifications('Blue');" data-ng-class="{'active bg-phase-blue': activeNotificationTab == 3, 'txt-phase-blue': activeNotificationTab !== 3}">Blue</li>
												<li class="panel-nav__notification-list-item--black-notification font-weight-medium pill-radius panel-nav__list-item--notifications d-flex justify-content-center align-items-center m-b-xs" data-ng-click="activeNotificationTab = 4; $ctrl.displayNotifications('Black');" data-ng-class="{'active bg-phase-black': activeNotificationTab == 4, 'txt-phase-black': activeNotificationTab !== 4}">Black</li>
											</ul>
										</div>
									</div>
									<div class="col-xl-12">
										<uib-tabset active="activeNotificationTab" vertical="true" type="pills" class="flex-column">
											<uib-tab index="0" heading="Green" data-ng-hide="true">
												<div class="row" data-ng-repeat="checkbox in $ctrl.chunkedData">
													<div class="col-xl-3 text-center font-body" data-ng-repeat="item in checkbox">
														{{item.title}}
														<div class="onoffswitch">
															<label class="switch">
															  <input type="checkbox" data-ng-model="item.isOn">
															  <span class="slider round bg-phase-green"></span>
															</label>
														</div>
													</div>
												</div>	
										    </uib-tab>
										    <uib-tab index="1" heading="Amber" data-ng-hide="true">
												<div class="row" data-ng-repeat="checkbox in $ctrl.chunkedData">
													<div class="col-xl-3 text-center font-body" data-ng-repeat="item in checkbox">
														{{item.title}}
														<div class="onoffswitch">
															<label class="switch">
															  <input type="checkbox" data-ng-model="item.isOn">
															  <span class="slider round bg-phase-amber"></span>
															</label>
														</div>
													</div>
												</div>								    
											</uib-tab>
										    <uib-tab index="2" heading="Red" data-ng-hide="true">
												<div class="row" data-ng-repeat="checkbox in $ctrl.chunkedData">
													<div class="col-xl-3 text-center font-body" data-ng-repeat="item in checkbox">
														{{item.title}}
														<div class="onoffswitch">
															<label class="switch">
															  <input type="checkbox" data-ng-model="item.isOn">
															  <span class="slider round bg-phase-red"></span>
															</label>
														</div>
													</div>
												</div>								    
											</uib-tab>
										    <uib-tab index="3" heading="Blue" data-ng-hide="true">
												<div class="row" data-ng-repeat="checkbox in $ctrl.chunkedData">
													<div class="col-xl-3 text-center font-body" data-ng-repeat="item in checkbox">
														{{item.title}}
														<div class="onoffswitch">
															<label class="switch">
															  <input type="checkbox" data-ng-model="item.isOn">
															  <span class="slider round bg-phase-blue"></span>
															</label>
														</div>
													</div>
												</div>								    
											</uib-tab>
										    <uib-tab index="4" heading="Black" data-ng-hide="true">
												<div class="row" data-ng-repeat="checkbox in $ctrl.chunkedData">	
													<div class="col-xl-3 text-center font-body" data-ng-repeat="item in checkbox">
														{{item.title}}
														<div class="onoffswitch">
															<label class="switch">
															  <input type="checkbox" data-ng-model="item.isOn">
															  <span class="slider round bg-phase-black"></span>
															</label>
														</div>
													</div>
												</div>								    
											</uib-tab>	
										</uib-tabset>
									</div>
								</div>
							</div> <!--col-xl-6-->
						</div>								
					</form>
				</div>
			</div>

			<div class="col-xl-3 hidden-cxl p-l-none">
				<div class="content-panel__body">
					<div class="m-b-md">
						<h4 class="font-weight-medium m-b-xs">FX Rate Impact</h4>
					</div>
					<div class="border-grey-xs--btm m-b-md">
						<div class="row p-b-md m-b-md">
							<div class="col-xl-5 text-center">
								<p class="font-h4 font-weight-medium m-b-xs">USD</p>
								<p class="font-h4">$ {{($ctrl.patentFx.getFx().todaysPriceUSD | number: 2 ) || '0.00'}}</p>
							</div>
							<div class="col-xl-2 d-flex justify-content-center align-items-center">
								<img src="assets/imgs/icons/arrows_icons_sm.png" alt="foreign exchange icon">
							</div>
							<div class="col-xl-5 text-center">
								<p class="font-h4 font-weight-medium m-b-xs">EUR</p>
								<p class="font-h4">€ {{($ctrl.patentFx.getFx().todaysPriceEUR | number: 2 ) || '0.00'}}</p>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-xl-12">
							<div class="row m-b-sm">
								<div class="col-xl-6">
									<p class="font-weight-medium">Yesterday's price:</p>
								</div>
								<div class="col-xl-6">
									<p class="text-center">$ {{($ctrl.patentFx.getFx().yesterdaysPriceUSD | number: 2) || '0.00'}}</p>
								</div>																								
							</div>
							<div class="row m-b-sm">
								<div class="col-xl-6">
									<p class="font-weight-medium">Price last week:</p>			
								</div>
								<div class="col-xl-6">
									<p class="text-center">$ {{($ctrl.patentFx.getFx().lastWeeksPriceUSD | number: 2) || '0.00'}}</p>
								</div>												
							</div>
							<div class="row m-b-sm">
								<div class="col-xl-6">
									<p class="font-weight-medium">Price last month:</p>
								</div>
								<div class="col-xl-6">
									<p class="text-center">$ {{($ctrl.patentFx.getFx().lastMonthsPriceUSD | number: 2) || '0.00'}}</p>
								</div>												
							</div>
							<div class="row m-b-sm">
								<div class="col-xl-6">
									<p class="font-weight-bold">4 week variation:</p>	
								</div>
								<div class="col-xl-6">
									<p class="font-h4 font-weight-bold text-center" data-ng-class="$ctrl.patentFx.getFx().variationSave ? 'txt-phase-green': 'txt-phase-red'"><i class="fa fa-caret-down fa-sm" data-ng-if="$ctrl.patentFx.getFx().variationSave"></i><i class="fa fa-caret-up fa-sm" data-ng-if="!$ctrl.patentFx.getFx().variationSave"></i> $ {{($ctrl.patentFx.getFx().fourWeekVariation | number: 2)  || '0.00'}}</p>
								</div>
							</div>
						</div>
					</div> <!-- row end -->
					<div class="row">
						<div class="col-xl-12 d-flex align-items-center flex-column">
							<div data-ng-if="$ctrl.patent.renewalStatus == 'Show price'" class="w-100">
						 		<ngcart-addtocart id="{{$ctrl.patent.id}}" class="cartbtn" name="patent_{{$ctrl.patent.id}}" price="{{$ctrl.patent.currentRenewalCost}}" quantity="1" quantity-max="10" data="$ctrl.patent">
	 							</ngcart-addtocart>
							</div>
				        	<div data-ng-if="$ctrl.patent.renewalStatus == ('Payment in progress' || 'EPO Instructed')" class="w-100">
				        		<button type="button" class="btn btn-block btn--default bg-phase-green pill-radius cartbtn d-flex align-items-center justify-content-center">
							 		<a class="btn__link btn__link--white btn--lg" data-ng-click="$ctrl.fetchItemTransaction($ctrl.patent.id)">View Transaction <img src="assets/imgs/icons/view_transaction_icon.png" alt="transaction icon" class="m-l-xs"></a>
				        		</button>
						 	</div>
				        	<div data-ng-if="$ctrl.patent.renewalStatus == 'Renewal in place'" class="w-100">
				        		<div class="btn btn-block btn--default bg-phase-green pill-radius cartbtn d-flex align-items-center justify-content-center">
						 			<a class="btn__link btn__link--white btn--lg" data-ng-click="$ctrl.fetchItemRenewal()" data-ui-sref="patents.patent({patentId: $ctrl.patent.id})">View Renewal <img src="assets/imgs/icons/view_renewal_icon.png" alt="patent renewal icon" class="m-l-xs"></a>
						 		</div>
						 	</div>											
						</div>
					</div>	
				</div>
			</div>	<!-- DISPLAY COST XL -->
	    </div>
	</div>

	<div class="row hidden-cxl-up m-t-md">
		<div class="col-cxl-6">
			<div class="bg-white border-grey-xs">
				<div class="content-panel__body">
					<div class="border-grey-xs--btm m-b-sm">
						<div class="row m-b-sm">
							<div class="col-cxl-12">
								<h4 class="font-weight-medium">FX Rate Impact</h4>
							</div>
						</div>
						<div class="row m-b-sm">
							<div class="col-cxl-5 d-flex flex-column justify-content-center align-items-center">
								<p class="font-h4 font-weight-medium m-b-xs">USD</p>
								<p class="font-h4">$ {{($ctrl.patentFx.getFx().todaysPriceUSD | number: 2 ) || '0.00'}}</p>
							</div>							
							<div class="col-cxl-2 d-flex justify-content-center align-items-center">
								<img src="assets/imgs/icons/arrows_icons_sm.png" alt="foreign exchange icon">
							</div>
							<div class="col-cxl-5 d-flex flex-column justify-content-center align-items-center">
								<p class="font-h4 font-weight-medium m-b-xs">EUR</p>
								<p class="font-h4">€ {{($ctrl.patentFx.getFx().todaysPriceEUR | number: 2 ) || '0.00'}}</p>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-cxl-12">
							<div class="row m-b-sm">
								<div class="col-cxl-6">
									<p class="font-weight-medium">Yesterday's price:</p>
								</div>
								<div class="col-cxl-6">
									<p class="text-center">$ {{($ctrl.patentFx.getFx().yesterdaysPriceUSD | number: 2) || '0.00'}}</p>
								</div>	
							</div>
							<div class="row m-b-sm">																						
								<div class="col-cxl-6">
									<p class="font-weight-medium">Price last week:</p>			
								</div>
								<div class="col-cxl-6">
									<p class="text-center">$ {{($ctrl.patentFx.getFx().lastWeeksPriceUSD | number: 2) || '0.00'}}</p>
								</div>
							</div>
							<div class="row m-b-sm">											
								<div class="col-cxl-6">
									<p class="font-weight-medium">Price last month:</p>
								</div>
								<div class="col-cxl-6">
									<p class="text-center">$ {{($ctrl.patentFx.getFx().lastMonthsPriceUSD | number: 2) || '0.00'}}</p>
								</div>
							</div>
							<div class="row m-b-sm">											
								<div class="col-cxl-6">
									<p class="font-weight-bold">4 week variation:</p>	
								</div>
								<div class="col-cxl-6">
									<p class="font-h4 font-weight-bold text-center" data-ng-class="$ctrl.patentFx.getFx().variationSave ? 'txt-phase-green': 'txt-phase-red'"><i class="fa fa-caret-down fa-sm" data-ng-if="$ctrl.patentFx.getFx().variationSave"></i><i class="fa fa-caret-up fa-sm" data-ng-if="!$ctrl.patentFx.getFx().variationSave"></i> $ {{($ctrl.patentFx.getFx().fourWeekVariation | number: 2)  || '0.00'}}</p>
								</div>												
							</div>
						</div>	
					</div> <!-- row end -->
					<div class="row m-t-sm">
						<div class="col-cxl-12 d-flex align-items-center justify-content-end">
							<div data-ng-if="$ctrl.patent.renewalStatus == 'Show price'">
						 		<ngcart-addtocart id="{{$ctrl.patent.id}}" class="cartbtn font-weight-bold btn-block" name="patent_{{$ctrl.patent.id}}" price="{{$ctrl.patent.currentRenewalCost}}" quantity="1" quantity-max="10" data="$ctrl.patent">
	 							</ngcart-addtocart>
							</div>
				        	<div data-ng-if="$ctrl.patent.renewalStatus == ('Payment in progress' || 'EPO Instructed')">
				        		<button type="button" class="btn btn--default bg-phase-green pill-radius cartbtn d-flex align-items-center justify-content-center">
						 			<a class="btn__link--white" data-ng-click="$ctrl.fetchItemTransaction($ctrl.patent.id)">View Transaction <img src="assets/imgs/icons/view_transaction_icon.png" alt="transaction icon" class="m-l-xs"></a>
						 		</button>
						 	</div>
				        	<div data-ng-if="$ctrl.patent.renewalStatus == 'Renewal in place'">
						 		<a class="btn btn__link pill-radius d-flex align-items-center justify-content-center" data-ui-sref="patents.patent({patentId: $ctrl.patent.id})" data-ng-click="$ctrl.fetchItemRenewal()">View Renewal <img src="assets/imgs/icons/view_renewal_icon.png" alt="patent renewal icon" class="m-l-xs"></a>
						 	</div>											
						</div>
					</div>	
				</div>
			</div>	
	    </div>
	</div>
</div>



<!--MD AND LG DEVICES-->



<div class="d-xl-none">
	<form class="form">
		<div class="content-panel lg-m-b-md">
			<div class="content-panel__head lg-border-none bg-white">
				<div class="row d-flex align-items-center">
				    <div class="col-md-6 col-lg-6">
						<p class="font-h4 m-b-xs"><span class="font-weight-bold">Application Number:</span> {{$ctrl.patent.patentApplicationNumber}}</p>
						<p class="font-h4"><span class="font-weight-bold">Status:</span> 
							<span data-ng-if="$ctrl.patent.renewalStatus !== 'Too late to renew'">{{$ctrl.patent.renewalStatus}}</span>
							<span data-ng-if="$ctrl.patent.renewalStatus === 'Too late to renew'">Call to Renew</span>
							<span data-ng-if="$ctrl.patent.renewalStatus === 'Way too late to renew'">The renewal window is not open at this time</span>
						</p>			
				    </div>
					<div data-ng-class="($ctrl.patent.renewalStatus == 'Show price' ? 'col-md-6 col-lg-6' : 'col-md-6 col-lg-6')">
						<div data-ng-if="$ctrl.patent.renewalStatus !== 'Show price'" class="d-flex justify-content-end align-items-center">
							<p class="font-weight-medium font-h4 d-flex justify-content-end align-items-center m-r-sm">
								<span data-ng-if="$ctrl.patent.renewalStatus !== 'Too late to renew' && $ctrl.patent.renewalStatus !== 'Way too late to renew'">{{$ctrl.patent.renewalStatus}}</span>
								<span data-ng-if="$ctrl.patent.renewalStatus === 'Way too late to renew'">Renewal lapsed</span>
								<span data-ng-if="$ctrl.patent.renewalStatus === 'Too late to renew'">Call <span class="font-weight-bold" data-ng-bind="$ctrl.partnerName"></span> on <span class="font-weight-bold" data-ng-bind="$ctrl.partnerPhone"></span>
							</p>
							<div>
								<img data-ng-if="$ctrl.patent.renewalStatus == 'Payment in progress'" src="assets/imgs/icons/progress_icon_lg.png" alt="payment in progress icon">
								<img data-ng-if="$ctrl.patent.renewalStatus == 'EPO Instructed'" src="assets/imgs/icons/epo_instructed__icon_lg.png" alt="epo instructed icon">
								<img data-ng-if="$ctrl.patent.renewalStatus == 'Renewal in place'" src="assets/imgs/icons/complete_icon_lg.png" alt="renewal in place icon">
								<i data-ng-if="$ctrl.patent.renewalStatus == 'Too late to renew'" class="fa fa-phone fa-3x txt-phase-red m-r-xs"></i>
								<img data-ng-if="$ctrl.patent.renewalStatus == 'Way too late to renew'" src="assets/imgs/icons/lapsed_icon_lg.png" alt="not open for renewal icon">
								<img data-ng-if="$ctrl.patent.renewalStatus == 'No renewal needed'" src="assets/imgs/icons/no_renewal_lg.png" alt="no renewal icon">
							</div>
				    	</div>						    			    	
				    	<div data-ng-if="$ctrl.patent.renewalStatus == 'Show price'" class="text-right">
					    	<p class="font-h4 m-b-xs"><span class="font-weight-bold">Next stage: </span> <span data-ng-class="($ctrl.patent.costBandColour == 'Green' ? 'txt-phase-amber': '') + '' + ($ctrl.patent.costBandColour == 'Amber' ? 'txt-phase-red': '') + '' + ($ctrl.patent.costBandColour == 'Red' ? 'txt-phase-blue': '') + '' + ($ctrl.patent.costBandColour == 'Blue' ? 'txt-phase-black': '') + '' + ($ctrl.patent.costBandColour == 'Black' ? 'txt-phase-white': '')">{{$ctrl.patent.nextStage}}</span></p>
					    	<p class="font-h4"><span class="font-weight-bold">Occurs: </span> {{$ctrl.patent.costBandEndDateUI}}</p>
				    	</div>
				    </div>		    						    
				    <div class="col-md-12 col-lg-12 col-xl-5 pull-xl-3 lg-m-t-sm" data-ng-if="$ctrl.patent.renewalStatus == 'Show price'">
						<div class="row">
							<div class="col-md-12 col-lg-12">
								<div class="text-center inline-container m-b-xs" data-ng-style="{'width': $ctrl.patent.progressBar + '%'}">
									<span class="font-h4 font-weight-medium nowrap" data-ng-class="($ctrl.patent.costBandColour == 'Green' ? 'txt-phase-green': '') + '' + ($ctrl.patent.costBandColour == 'Amber' ? 'txt-phase-amber': '') + '' + ($ctrl.patent.costBandColour == 'Red' ? 'txt-phase-blue': '') + '' + ($ctrl.patent.costBandColour == 'Blue' ? 'txt-phase-blue': '') + '' + ($ctrl.patent.costBandColour == 'Black' ? 'txt-phase-white': '')">$ {{$ctrl.patent.currentRenewalCost | number: 2 }}</span>
								</div>
								<div class="text-center inline-container m-b-xs" data-ng-style="{'width': ((100 - $ctrl.patent.progressBar) - 1)  + '%'}">
									<span data-ng-if="$ctrl.patent.costBandColour !== 'Black'" class="font-h4 font-weight-medium nowrap" data-ng-class="($ctrl.patent.costBandColour == 'Green' ? 'txt-phase-amber': '') + '' + ($ctrl.patent.costBandColour == 'Amber' ? 'txt-phase-red': '') + '' + ($ctrl.patent.costBandColour == 'Red' ? 'txt-phase-blue': '') + '' + ($ctrl.patent.costBandColour == 'Blue' ? 'txt-phase-black': '') + '' + ($ctrl.patent.costBandColour == 'Black' ? 'txt-phase-white': '')">$ {{$ctrl.patent.renewalCostNextStageUSD}}</span>
									<span data-ng-if="$ctrl.patent.costBandColour == 'Black'" class="font-h4 font-weight-medium nowrap">LAPSE</span>
								</div>	
							</div>
						</div>
						<div class="row">
							<div class="col-md-12 col-lg-12">
								<uib-progress class="pill-radius progress-bar-tall" data-ng-class="($ctrl.patent.costBandColour == 'Green' ? 'bg-phase-amber': '') + '' + ($ctrl.patent.costBandColour == 'Amber' ? 'bg-phase-red': '') + '' + ($ctrl.patent.costBandColour == 'Red' ? 'bg-phase-blue': '') + '' + ($ctrl.patent.costBandColour == 'Blue' ? 'bg-phase-black': '') + '' + ($ctrl.patent.costBandColour == 'Black' ? 'bg-phase-white': '')"><uib-bar class="pill-radius progress-bar-tall d-flex align-items-center justify-content-center font-weight-bold progress-10" value="$ctrl.patent.progressBar">{{$ctrl.patent.progressBar}}%</uib-bar></uib-progress>									
							</div>
						</div>
				    </div>		    
			    </div>
		    </div>					
			<div class="content-panel__body bg-white">
				<div class="row">	
    				<div class="col-md-12 col-lg-12">
    					<div class="xl-m-b-lg">
	    					<h4 class="font-h4 font-weight-medium m-b-sm">Details</h4>
							<div class="row">
								<div class="form-group col-md-6 col-lg-6 p-none">
									<label class="font-weight-medium col-lg-12 col-lg-12 col-xl-4  d-flex align-items-center">Client Description: </label>
									<div class="col-md-12 col-lg-12">
										<div class="d-flex justify-content-between align-items-center">
											<span class="font-body" data-ng-hide="$ctrl.editing[1]">{{$ctrl.patent.shortTitle}}</span>
									        <input type="text" class="form-control m-r-sm" data-id="123" data-ng-show="$ctrl.editing[1]" data-ng-blur="$ctrl.doneEditing(1)" data-ng-model="$ctrl.patent.shortTitle" autofocus>
									        <span data-ng-click="$ctrl.editItem(1)"><i class="fa fa-edit fa-2x"></i></span>
										</div>
									</div>														
								</div>
								<div class="form-group col-md-6 col-lg-6 p-none">
									<label class="font-weight-medium col-lg-4 col-lg-12 d-flex align-items-center">Client Ref: </label>
									<div class="col-md-12 col-lg-12">
										<div class="d-flex justify-content-between align-items-center">
									 		<span class="font-body" data-ng-hide="$ctrl.editing[2]">{{$ctrl.patent.clientRef}}</span>
							        		<input type="text" class="form-control" data-id="123" data-ng-show="$ctrl.editing[2]" data-ng-blur="$ctrl.doneEditing(2)" data-ng-model="$ctrl.patent.clientRef" autofocus>
							        		<span data-ng-click="$ctrl.editItem(2)"><i class="fa fa-edit fa-2x"></i></span>
						        		</div>
					        		</div>												
								</div>													
							</div>
							<div class="row">
								<div class="form-group col-md-6 col-lg-6 p-none">
									<label class="font-weight-medium col-md-12 col-lg-12 d-flex align-items-center">Applicant Name: </label>
									<div class="col-md-12 col-lg-12">
						        		<input type="text" class="form-control" data-id="123" data-ng-model="$ctrl.patent.primaryApplicantName" readonly>
						        	</div>
								</div>
								<div class="form-group col-md-6 col-lg-6 p-none">
									<label class="font-weight-medium col-md-12 col-lg-12 d-flex align-items-center">Publication No: </label>
									<div class="col-md-12 col-lg-12">
							        	<input type="text" class="form-control" data-id="123" data-ng-model="$ctrl.patent.patentPublicationNumber" readonly>
							        </div>
								</div>
							</div>
							<div class="row">
								<div class="form-group col-md-6 col-lg-6 p-none">
									<label class="font-weight-medium col-lg-4 col-lg-12 d-flex align-items-center">Title: </label>
									<div class="col-md-12 col-lg-12">
							        	<input type="text" class="form-control" data-id="123" data-ng-model="$ctrl.patent.title" readonly>
							        </div>
								</div>	
								<div class="form-group col-md-6 col-lg-6 p-none">
									<label class="font-weight-medium col-lg-4 col-lg-12 d-flex align-items-center">Filing date: </label>
									<div class="col-md-12 col-lg-12">
							        	<input type="text" class="form-control" data-id="123" data-ng-model="$ctrl.patent.filingDateUI" readonly>
							        </div>
								</div>
							</div>
						</div>											
						<div class="row m-t-xs">
							<div class="col-md-12 col-lg-12 d-flex">
								<div class="btn-submit">
									<input type="submit" id="submit" class="btn btn--lg btn-submit--check pill-radius bg-phase-green font-weight-medium m-r-sm" value="Save" data-ng-click="$ctrl.openUpdateConfirmModal($ctrl.patent)">									
								</div>
								<div class="btn-cancel">
									<input type="button" id="delete" class="btn btn--lg btn-error--cross pill-radius bg-phase-red" value="Remove" data-ng-click="$ctrl.openDeleteConfirmModal($ctrl.patent.id)">
								</div>
							</div>
						</div>																						
					</div>
				</div>
			</div>
		</div>
		
			<div class="row">
				<div class="col-md-6 col-lg-6  notification-pills">
					<div class="content-panel">
			    			<div class="content-panel__body bg-white">
				    			<div class="m-b-md">
				    				<div class="m-b-md">
										<h4 class="font-weight-medium">Notifications</h4>
									</div>
									<p class="">Simply select the colour and time frame to receive email notifications for this patent prior to each stage. You can select as many or few as you want or click default for all predetermined notifications.</p>					    				
				    			</div>
				    			<div class="row m-b-md">
				    				<div class="col-md-12 col-lg-12 d-flex align-items-center justify-content-between">
				    					<h4 class="font-h4 font-weight-medium">Selected</h4>
<!-- 										<div class="pill-radius pill-tabs btn--lg"  data-ng-style="{ 'background': $ctrl.colourPhaseTitle.color}">
											<span class="font-weight-medium">{{$ctrl.colourPhaseTitle.title}} Stage</span>
										</div> -->
				    				</div>
				    			</div>
								<div class="row">
									<div class="col-md-4 col-lg-4">
										<div class="notification-tabs">
											<ul class="nav d-flex flex-column justify-content-between">
												<li class="panel-nav__notification-list-item--green-notification panel-nav__list-item--notifications pill-radius active d-flex justify-content-center align-items-center m-b-xs" data-ng-init="activeNotificationTab = 0;" data-ng-click="activeNotificationTab = 0; $ctrl.displayNotifications('Green');" data-ng-class="{'active bg-phase-green': activeNotificationTab == 0, 'txt-phase-green': activeNotificationTab !== 0}">Green</li>
												<li class="panel-nav__notification-list-item--amber-notification pill-radius panel-nav__list-item--notifications d-flex justify-content-center align-items-center m-b-xs" data-ng-click="activeNotificationTab = 1; $ctrl.displayNotifications('Amber');" data-ng-class="{'active bg-phase-amber': activeNotificationTab == 1, 'txt-phase-amber': activeNotificationTab !== 1}">Amber</li>
												<li class="panel-nav__notification-list-item--red-notification font-weight-medium pill-radius panel-nav__list-item--notifications d-flex justify-content-center align-items-center m-b-xs" data-ng-click="activeNotificationTab = 2; $ctrl.displayNotifications('Red');" data-ng-class="{'active bg-phase-red': activeNotificationTab == 2, 'txt-phase-red': activeNotificationTab !== 2}">Red</li>
												<li class="panel-nav__notification-list-item--blue-notification font-weight-medium pill-radius panel-nav__list-item--notifications d-flex justify-content-center align-items-center m-b-xs" data-ng-click="activeNotificationTab = 3; $ctrl.displayNotifications('Blue');" data-ng-class="{'active bg-phase-blue': activeNotificationTab == 3, 'txt-phase-blue': activeNotificationTab !== 3}">Blue</li>
												<li class="panel-nav__notification-list-item--black-notification font-weight-medium pill-radius panel-nav__list-item--notifications d-flex justify-content-center align-items-center m-b-xs" data-ng-click="activeNotificationTab = 4; $ctrl.displayNotifications('Black');" data-ng-class="{'active bg-phase-black': activeNotificationTab == 4, 'txt-phase-black': activeNotificationTab !== 4}">Black</li>
											</ul>
										</div>
									</div>
									<div class="col-md-8 col-lg-8">
										<uib-tabset active="activeNotificationTab" vertical="true" type="pills" class="flex-column">
											<uib-tab index="0" heading="Green" data-ng-click="$ctrl.displayNotifications('Green')" data-ng-hide="true">
												<div class="row" data-ng-repeat="checkbox in $ctrl.chunkedData">
													<div class="col-md-6 col-lg-6 text-center font-body" data-ng-repeat="item in checkbox">
														{{item.title}}
														<div class="onoffswitch">
															<label class="switch">
															  <input type="checkbox" data-ng-model="item.isOn">
															  <span class="slider round bg-phase-green"></span>
															</label>
														</div>
													</div>
												</div>	
										    </uib-tab>
										    <uib-tab index="1" heading="Amber" data-ng-click="$ctrl.displayNotifications($ctrl.patentNotifications.amber)" data-ng-hide="true">
												<div class="row" data-ng-repeat="checkbox in $ctrl.chunkedData">
													<div class="col-md-6 col-lg-6 text-center font-body" data-ng-repeat="item in checkbox">
														{{item.title}}
														<div class="onoffswitch">
															<label class="switch">
															  <input type="checkbox" data-ng-model="item.isOn">
															  <span class="slider round bg-phase-amber"></span>
															</label>
														</div>
													</div>
												</div>								    
											</uib-tab>
										    <uib-tab index="2" heading="Red" data-ng-click="$ctrl.displayNotifications($ctrl.patentNotifications.red)" data-ng-hide="true">
												<div class="row" data-ng-repeat="checkbox in $ctrl.chunkedData">
													<div class="col-md-6 col-lg-6 text-center font-body" data-ng-repeat="item in checkbox">
														{{item.title}}
														<div class="onoffswitch">
															<label class="switch">
															  <input type="checkbox" data-ng-model="item.isOn">
															  <span class="slider round bg-phase-red"></span>
															</label>
														</div>
													</div>
												</div>								    
											</uib-tab>
										    <uib-tab index="3" heading="Blue" data-ng-click="$ctrl.displayNotifications($ctrl.patentNotifications.blue)"  data-ng-hide="true">
												<div class="row" data-ng-repeat="checkbox in $ctrl.chunkedData">
													<div class="col-md-6 col-lg-6 text-center font-body" data-ng-repeat="item in checkbox">
														{{item.title}}
														<div class="onoffswitch">
															<label class="switch">
															  <input type="checkbox" data-ng-model="item.isOn">
															  <span class="slider round bg-phase-blue"></span>
															</label>
														</div>
													</div>
												</div>								    
											</uib-tab>
										    <uib-tab index="4" heading="Black" data-ng-click="$ctrl.displayNotifications($ctrl.patentNotifications.blue)" data-ng-hide="true">
												<div class="row" data-ng-repeat="checkbox in $ctrl.chunkedData">	
													<div class="col-md-6 col-lg-6 text-center font-body" data-ng-repeat="item in checkbox">
														{{item.title}}
														<div class="onoffswitch">
															<label class="switch">
															  <input type="checkbox" data-ng-model="item.isOn">
															  <span class="slider round bg-phase-black"></span>
															</label>
														</div>
													</div>
												</div>								    
											</uib-tab>	
										</uib-tabset>
									</div>
								</div>
							</div><!-- content body-->
						</div>
					</div><!--col6 end-->
					<div class="col-md-6 col-lg-6 p-l-none">
						<div class="content-panel h-100">
							<div class="content-panel__body bg-white h-100">
								<div class="m-b-md">
									<h4 class="font-weight-medium m-b-xs">FX Rate Impact</h4>
								</div>
								<div class="border-grey-xs--btm m-b-md">
									<div class="row p-b-md m-b-md">
										<div class="col-md-5 col-lg-5 text-center">
											<p class="font-h4 font-weight-medium m-b-xs">USD</p>
											<p class="font-h4">$ {{($ctrl.patent.feeUI.subTotalUSD | number: 2) || '0.00'}}</p>
										</div>
										<div class="col-md-2 col-lg-2 d-flex justify-content-center align-items-center">
											<img src="assets/imgs/icons/arrows_icons_sm.png" alt="foreign exchange icon">
										</div>
										<div class="col-md-5 col-lg-5 text-center">
											<p class="font-h4 font-weight-medium m-b-xs">EUR</p>
											<p class="font-h4">€ {{($ctrl.patent.feeUI.subTotalEUR | number: 2) || '0.00'}}</p>
										</div>
									</div>
								</div>
								<div class="row">
									<div class="col-md-12 col-lg-12">
										<div class="row m-b-sm">
											<div class="col-md-6 col-lg-6">
												<p class="font-weight-medium">Yesterday's price:</p>
											</div>
											<div class="col-md-6 col-lg-6">
												<p class="text-center">$ {{($ctrl.patentFx.getFx().yesterdaysPriceUSD | number: 2) || '0.00'}}</p>
											</div>																								
										</div>
										<div class="row m-b-sm">
											<div class="col-md-6 col-lg-6">
												<p class="font-weight-medium">Price last week:</p>			
											</div>
											<div class="col-md-6 col-lg-6">
												<p class="text-center">$ {{($ctrl.patentFx.getFx().lastWeeksPriceUSD | number: 2) || '0.00'}}</p>
											</div>												
										</div>
										<div class="row m-b-sm">
											<div class="col-md-6 col-lg-6">
												<p class="font-weight-medium">Price last month:</p>
											</div>
											<div class="col-md-6 col-lg-6">
												<p class="text-center">$ {{($ctrl.patentFx.getFx().lastMonthsPriceUSD | number: 2) || '0.00'}}</p>
											</div>												
										</div>
										<div class="row m-b-sm">
											<div class="col-md-6 col-lg-6">
												<p class="font-weight-bold">4 week variation:</p>	
											</div>
											<div class="col-md-6 col-lg-6">
												<p class="font-h4 font-weight-bold text-center" data-ng-class="$ctrl.patentFx.getFx().variationSave ? 'txt-phase-green': 'txt-phase-red'"><i class="fa fa-caret-down fa-sm" data-ng-if="$ctrl.patentFx.getFx().variationSave"></i><i class="fa fa-caret-up fa-sm" data-ng-if="!$ctrl.patentFx.getFx().variationSave"></i> $ {{($ctrl.patentFx.getFx().fourWeekVariation | number: 2 ) || '0.00'}}</p>
											</div>												
										</div>
									</div>
								</div> <!-- row end -->
								<div class="row">
									<div class="col-md-12 col-lg-12 d-flex align-items-center flex-column">
										<div data-ng-if="$ctrl.patent.renewalStatus == 'Show price'" class="w-100">
											<div class="row">
										 		<ngcart-addtocart id="{{$ctrl.selectedPatent.id}}" class="cartbtn font-weight-bold btn-block" name="patent_{{$ctrl.selectedPatent.id}}" price="{{$ctrl.selectedPatent.currentRenewalCost}}" quantity="1" quantity-max="10" data="$ctrl.selectedPatent">
					 							</ngcart-addtocart>		
											</div>
										</div>
							        	<div data-ng-if="$ctrl.patent.renewalStatus == ('Payment in progress' || 'EPO Instructed')" class="w-100">
									 		<button type="button" class="btn btn-block btn--default bg-phase-green pill-radius cartbtn d-flex align-items-center justify-content-center">
							 					<a class="btn__link btn__link--white btn--lg" data-ng-click="$ctrl.fetchItemTransaction($ctrl.patent.id)">View Transaction <img src="assets/imgs/icons/view_transaction_icon.png" alt="transaction icon" class="m-l-xs"></a>
							 				</button>
									 	</div>
							        	<div data-ng-if="$ctrl.patent.renewalStatus == 'Renewal in place'" class="w-100">
									 		<div class="btn btn-block btn--default bg-phase-green pill-radius cartbtn d-flex align-items-center justify-content-center">
									 			<a class="btn__link btn__link--white btn--lg" data-ui-sref="patents.patent({patentId: $ctrl.patent.id})" data-ng-click="$ctrl.fetchItemRenewal()">View Renewal <img src="assets/imgs/icons/view_renewal_icon.png" alt="patent renewal icon" class="m-l-xs"></a>
									 		</div>
									 	</div>						
									</div>
								</div>	
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</form>
</div>