(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"./app/features/portfolio/controllers/portfolio.controller.js":function(t,e,n){"use strict";(function(t){function a(e,n,a,r,i,s,o,l,c,d,p){var u=this;function f(t){u.selected=t}function m(t){for(var e in t)if(t[e])return!1;return!0}function g(t,e,n){return e.some(function(e){return!0===t[n][e[n]]})}function v(){p.fetchAllPatents().then(function(t){e.portfolioData=t,u.recentlyAdded.push(t.slice(-1).pop())})}e.promise=p.fetchAllPatents(),e.filter={},f(a.patentId),e.filterByPropertiesMatchingAND=function(t){var n=!0;for(var a in e.filter)if(e.filter.hasOwnProperty(a)){if(m(e.filter[a]))continue;if(!g(e.filter,t.p3sServices,a)){n=!1;break}}return n},e.promise.then(function(t){if(e.$$destroyed)throw"Scope destroyed";return t}).then(function(r){r.length||(u.noPatents=!0),r.forEach(function(t){""==t.clientRef&&(t.clientRef="[No Client Reference Provided]")}),u.select=f,u.selected=0,u.stateParams=a.patentId,u.rowSelect=function(e,r){u.stateParams=a,t(e.target).hasClass("generateForm1200")&&n.go("portfolio.modal.patent",{patentId:r.patentID,form1200generate:1,prepareGrant:0},{notify:!1});t(e.target).hasClass("prepareGrant")&&n.go("portfolio.modal.patent",{patentId:r.patentID,prepareGrant:1,form1200generate:0},{notify:!1});if(!t(e.target).hasClass("cartbtn")&&!t(e.target).hasClass("generateForm1200")&&!t(e.target).hasClass("prepareGrant")){var i=t(t(e.currentTarget).find("a"));i[0].id;n.go("portfolio.modal.patent",{patentId:r.patentID,form1200generate:null})}},u.chipOptions=[],u.showFilter=function(t,n){t.open(n),e.categories=["serviceType","currentStageColour"],e.getItems=function(t,e){return(e||[]).map(function(e){return e.p3sServices[0][t]}).filter(function(t,e,n){return void 0!==t&&n.indexOf(t)===e})},e.updateFiltered=function(t,e,n){if(!0===e&&("epct"===n&&(n="Euro-PCT"),u.chipOptions.push({cat:n,value:e,prop:t})),!1===e){var a=u.chipOptions.indexOf(n);u.chipOptions.splice(a,1)}},e.closeDialog=function(){l.hide()}},u.showAddPatent=function(t){var e=o.newPanelPosition().absolute().center(),n={attachTo:angular.element(document.body),controller:["mdPanelRef","$scope",function(t,e){e.recently={added:[]},e.foundPatent=!1,e.findPatent=function(t){e.loadingPatent=!0,d.findPatent(t).then(function(t){e.foundPatent=t.data,e.loadingPatent=!1,e.error=!1;angular.toJson(t)},function(n){console.error("Error finding patent. Error message : ",n),e.queriedPatent=!1,e.loadingPatent=!1,e.error=!0,412==n.status&&(e.searchError="It looks like we've already added Patent Application "+t+" in to the system.  You should be able to find it in the List Patents page using the search boxes."),409==n.status&&(e.searchError="It looks like the provided check digit differs from the check digit found at the European Patent Register. Please make sure the check digit is correct and try again."),400!=n.status&&404!=n.status||(e.searchError="We've not been able to find that patent in the European Patent Register. Please enter an application number such as EP18123456.2")})},e.openConfirmModal=function(t){s.open({templateUrl:"app/templates/modals/modal.confirm-found-patent.tpl.htm",appendTo:void 0,controllerAs:"$ctrl",controller:["$uibModalInstance","$location","$anchorScroll",function(n,a,r){this.addPatent=function(){u.addingPatent=!0,n.close(),p.savePatent(t).then(function(n){v();var a=n.find(function(e){return e.ep_ApplicationNumber==t.ep_ApplicationNumber});e.recently.added.push(a),e.foundPatent=!1,e.searchPatent=""},function(t){console.error("Error while saving Patent")})},this.dismissModal=function(){n.close()},this.cancelAdd=function(){n.close()}}]})},e.$on("$destroy",function(){i.cancel(toPatentTimeout)})}],controllerAs:"$ctrl",position:e,hasBackdrop:!0,targetEvent:t,templateUrl:"app/templates/portfolio/add-patent.tpl.htm",clickOutsideToClose:!0,escapeToClose:!0,focusOnOpen:!0};o.open(n).then(function(t){panelRef=t},function(t){console.error("Error occured when opening panel: ",t)})},u.portfolioLoaded=!0,u.sortBy=function(t){u.reverse=u.propertyName===t&&!u.reverse,u.propertyName=t},e.selectedChip=function(t,n,a){"Euro-PCT"==a&&(a="epct");e.filter[a][t]=!1},e.portfolioData=r,e.portfolioLoaded=!1,u.propertyName="ep_ApplicationNumber",u.reverse=!1})}n.d(e,"a",function(){return a}),a.$inject=["$scope","$state","$stateParams","$rootScope","$timeout","$uibModal","$mdPanel","$mdDialog","$mdMenu","SearchPatentService","PatentsRestService"]}).call(this,n("./node_modules/jquery/dist/jquery.js"))},"./app/features/sidenav/avatar-default.png":function(t,e,n){t.exports=n.p+"56426137b684cf1a7870e159148934a3.png"},"./app/features/sidenav/pp_icon.png":function(t,e,n){t.exports=n.p+"4803db4b92d3112ff026b67d8b01b03a.png"},"./node_modules/empty-module sync js$":function(t,e,n){var a={"./index.js":"./node_modules/empty-module/index.js"};function r(t){var e=i(t);return n(e)}function i(t){var e=a[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}r.keys=function(){return Object.keys(a)},r.resolve=i,t.exports=r,r.id="./node_modules/empty-module sync js$"},"./node_modules/html-loader/index.js!./app/features/dashboard/html/dashboard.actions-available.tpl.htm":function(t,e){t.exports='<div class="container__scrollable-area">\r\n    <div class="row">\r\n        <div class="col-md-12">\r\n            <div class="d-flex align-items-center justify-content-between py-3 px-4">\r\n                <div>\r\n                    <h4 class="font-h4 font-weight-bold">Available European Actions</h4>\r\n                </div>\r\n                <div class="d-flex align-items-center">                \r\n                    <md-chips data-ng-model="$ctrl.chipOptions" readonly="true" md-removable="true" class="text-capitalize font-weight-medium cursor-pointer" md-on-remove="selectedChip($chip.prop, $chip.value, $chip.cat); getItems($chip.cat, availableActions)">\r\n                        <md-chip-template>\r\n                            <strong class="font-body"><span data-ng-show="{{$chip.prop}} == \'epct\'">Euro-PCT</span><span data-ng-hide="{{$chip.prop}} == \'epct\'">{{$chip.prop}}</span></strong>\r\n                            <em class="font-body" data-ng-if="$chip.cat ===\'serviceType\'">(action)</em><em class="font-body" data-ng-if="$chip.cat ===\'currentStageColour\'">(phase)</em>                     \r\n                        </md-chip-template>\r\n                        \x3c!-- <md-icon><i class="d-flex input-group-text pill-radius fa fa-search"></i></md-icon> --\x3e\r\n                    </md-chips>\r\n                    <div class="m-r-lg">\r\n                        <div class="input-group m-r-sm">\r\n                            <input type="text" class="form-control pill-radius" name="availableActionsSearch" data-ng-model="searchAvailableActions" placeholder="Search available actions..." autocomplete="off">  \r\n                            <div class="input-group-append">\r\n                                <i class="d-flex input-group-text pill-radius fa fa-search"></i>\r\n                            </div>\r\n                        </div>\r\n                    </div>                \r\n                    <div>\r\n                        <md-menu md-position-mode="target-right target">\r\n                            <md-button class="icon-stretch icon-stretch--icon black pill-radius" data-ng-click="$ctrl.showFilter($mdMenu, $event)">\r\n                                <span class="icon-text">Filter</span>              \r\n                                <i class="fal fa-filter fa-2x cursor-pointer icon"></i> \r\n                            </md-button>\r\n                            <md-menu-content class="container-filter-list">\r\n                                <md-list class="box" data-ng-repeat="cat in categories" ng-init="filter[cat]={}">\r\n                                    <md-subheader class="md-no-sticky">\r\n                                        <h2 class="font-h3" data-ng-if="cat == \'saleType\'">Processing</h2>\r\n                                        <h2 class="font-h3" data-ng-if="cat == \'currentStageColour\'">Current Stage Colour</h2>\r\n                                        <h2 class="font-h3" data-ng-if="cat == \'nextStageColour\'">Next Stage Colour</h2>\r\n                                        <h2 class="font-h3" data-ng-if="cat == \'serviceType\'">European Action</h2>\r\n                                    </md-subheader>\r\n                                    <md-list-item data-ng-repeat="value in getItems(cat, availableActions)">\r\n                                        <md-checkbox class="md-secondary" data-ng-model="filter[cat][value]" data-ng-change="updateFiltered(value, filter[cat][value], cat);"> \r\n                                        </md-checkbox>\r\n                                        <p>({{(filtered | filter:value:true).length}})&nbsp;\r\n                                            <span class="text-capitalize" data-ng-if="value == \'GREY\'">Grey</span>\r\n                                            <span class="text-capitalize" data-ng-if="value == \'Offline\'">Offline (Manual/Urgent)</span>\r\n                                            <span class="text-capitalize" data-ng-if="value == \'epct\'">Euro-PCT</span>\r\n                                            <span class="text-capitalize" data-ng-if="value !== \'epct\' && value !== \'GREY\' && value !== \'Offline\'">{{value}}</span>\r\n                                        </p>\r\n                                    </md-list-item>\r\n                                    <md-divider></md-divider>\r\n                                </md-list>\r\n                                <div layout="row" class="demo-dialog-button">\r\n                                    <md-button md-autofocus flex class="md-primary" data-ng-click="closeDialog();">\r\n                                        Close\r\n                                    </md-button>\r\n                                </div>\r\n                            </md-menu-content>\r\n                        </md-menu>\r\n                    </div>\r\n                </div> \r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="scrollable-area scrollable-area--set-height-md">\r\n        <table class="t-data sticky-table">\r\n            <thead class="sticky-thead">\r\n                <tr class="t-data__row t-data__row--select">\r\n                    <th class="t-data__th t-data__th--xs sticky-th" data-ng-click="$ctrl.sortBy(\'ep_ApplicationNumber\');">\r\n                        <span>App No.</span>\r\n                        <span data-ng-show="$ctrl.propertyName == \'ep_ApplicationNumber\' && !$ctrl.reverse">\r\n                            <i class="fas fa-angle-down fa-lg"></i>\r\n                        </span>\r\n                        <span data-ng-show="$ctrl.propertyName == \'ep_ApplicationNumber\' && $ctrl.reverse">\r\n                            <i class="fas fa-angle-up fa-lg"></i>\r\n                        </span>\r\n                    </th>             \r\n                    <th class="t-data__th t-data__th--sm">\r\n                        <span>European Action</span>\r\n                    </th>\r\n                    <th class="t-data__th t-data__th--sm">\r\n                        <span>Current Phase</span>\r\n                    </th>\r\n                    <th class="t-data__th t-data__th--sm">\r\n                        <span>Next Phase</span>    \r\n                    </th>                    \r\n                    <th class="t-data__th t-data__th--xs">\r\n                        <span></span>\r\n                    </th>\r\n                </tr>\r\n            </thead>\r\n            \r\n            <tbody class="sticky-tbody">\r\n                <tr data-ng-repeat="patent in filtered=(availableActions | filter:filterByPropertiesMatchingAND | filter:searchAvailableActions) | orderBy:$ctrl.propertyName:$ctrl.reverse as Result" data-ng-click="$ctrl.rowSelect($event, patent); $ctrl.select(patent.patentID)"  class="t-data__row t-data__row--select" data-ng-class="{active: patent.patentID == $ctrl.selected}">\r\n                    <td class="t-data__td t-data__td--xs sticky-td">\r\n                        <a class="t-data__a" data-ng-bind="patent.ep_ApplicationNumber" data-ng-attr-id="{{patent.patentID}}"></a>\r\n                    </td>\r\n                    <td class="t-data__td t-data__td--sm">\r\n                         <table>\r\n                      \r\n                            <div class="d-flex justify-content-left btn-underlined-selector">\r\n                                <span data-ng-bind="patent.p3sServices[0].serviceType" data-ng-if="patent.p3sServices[0].serviceType !== \'postgrant\' && patent.p3sServices[0].serviceType !== \'epct\'" class="text-capitalize"></span>\r\n                                <span data-ng-if="patent.p3sServices[0].serviceType == \'epct\'" class="text-capitalize">Euro-PCT</span>\r\n                                <span data-ng-if="patent.p3sServices[0].serviceType == \'postgrant\'" class="text-capitalize">----</span>\r\n                            </div>\r\n                        \r\n                        </table>\r\n                    </td>\x3c!--when multiple services begin--\x3e                    \r\n                    <td class="t-data__td t-data__td--sm">\r\n                        <table>\r\n                  \r\n                            <div data-ng-if="(patent.p3sServices[0].saleType === \'Online\' || patent.p3sServices[0].saleType === \'Offline\') && patent.p3sServices[0].serviceType !== \'validation\'">\r\n                                <div class="d-flex flex-column">\r\n                                    <div class="d-flex justify-content-start align-patent.p3sServices[0]s-center">\x3c!--display costs--\x3e\r\n                                        <p class="font-weight-bold m-r-sm"><i class="fas fa-circle m-r-xs" data-ng-class="patent.p3sServices[0].cssCurrent"></i>$ {{patent.p3sServices[0].currentStageCostUSD | number: 2}}</p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div data-ng-if="patent.p3sServices[0].serviceType == \'validation\' && (patent.p3sServices[0].serviceStatus == \'Validation available\' || patent.p3sServices[0].serviceStatus == \'Preparing quote\')">\r\n                                <div class="d-flex flex-column">\r\n                                    <div class="d-flex justify-content-start">\x3c!--display costs--\x3e\r\n                                        <p class="font-weight-bold txt-phase-green" data-ng-if="patent.p3sServices[0].serviceStatus == \'Validation available\'">Request Quote</p>\r\n                                        <p class="font-weight-bold txt-phase-green" data-ng-if="patent.p3sServices[0].serviceStatus == \'Preparing quote\'">Preparing Quote</p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>                            \r\n                            <div data-ng-if="patent.p3sServices[0].serviceType == \'validation\' && patent.p3sServices[0].serviceStatus == \'Quote provided\'">\r\n                                <div class="d-flex flex-column">\r\n                                    <div class="d-flex justify-content-start">\x3c!--display costs--\x3e\r\n                                        <p class="font-weight-bold m-r-sm"><i class="fas fa-circle m-r-xs" data-ng-class="patent.p3sServices[0].cssCurrent"></i>$ {{patent.p3sServices[0].currentStageCostUSD | number: 2}}</p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>                                \r\n                            <div data-ng-if="(patent.p3sServices[0].saleType !== \'Online\' && patent.p3sServices[0].saleType !== \'Offline\' && patent.p3sServices[0].serviceStatus !== \'Epct being generated\') || (patent.p3sServices[0].saleType == \'Offline\' && patent.p3sServices[0].serviceType == \'validation\')">\r\n                                <p class="txt-grey">N/A</p>\r\n                            </div>                           \r\n                           \r\n                        </table>                         \r\n                    </td>\x3c!--when multiple services begin--\x3e     \r\n                    <td class="t-data__td t-data__td--sm">\r\n                        <table>\r\n                            \r\n                                <div data-ng-if="(patent.p3sServices[0].saleType === \'Online\' || patent.p3sServices[0].saleType === \'Offline\') && patent.p3sServices[0].serviceType !== \'validation\'">\r\n                                    <div class="d-flex flex-column">\r\n                                        <div class="d-flex justify-content-start align-patent.p3sServices[0]s-center">\x3c!--display costs--\x3e\r\n\r\n                                            <p data-ng-if="(!patent.p3sServices[0].isUrgentAttention && patent.p3sServices[0].currentStageColour !== \'Black\' && (patent.p3sServices[0].saleType === \'Online\' || patent.p3sServices[0].saleType === \'Offline\')) || (!patent.p3sServices[0].isUrgentAttention && patent.p3sServices[0].currentStageColour == \'Black\' && (patent.p3sServices[0].saleType === \'Online\' || patent.p3sServices[0].saleType === \'Offline\')) || \r\n                                            (patent.p3sServices[0].isUrgentAttention && patent.p3sServices[0].currentStageColour == \'Red\' && (patent.p3sServices[0].saleType === \'Online\' || patent.p3sServices[0].saleType === \'Offline\'))" class="font-weight-bold"><i class="fas fa-circle m-r-xs" data-ng-class="patent.p3sServices[0].cssNext"></i> $ {{patent.p3sServices[0].nextStageCostUSD | number: 2}}</p> \r\n                                            <p data-ng-if="patent.p3sServices[0].isUrgentAttention && patent.p3sServices[0].currentStageColour == \'Black\' && patent.p3sServices[0].serviceType === \'renewal\'" class="font-weight-bold">LAPSE</p> \x3c!--if current colour is black and urgent attention required. Means that it is the second stage of black and is renewal--\x3e\r\n                                            <p data-ng-if="patent.p3sServices[0].isUrgentAttention && patent.p3sServices[0].currentStageColour == \'Red\' && patent.p3sServices[0].serviceType !== \'renewal\'" class="font-weight-bold">LAPSE</p> \x3c!--if current colour is black and urgent attention required. Means that it is the second stage of black--\x3e\r\n                                        </div>    \r\n                                    </div>\r\n                                </div>                            \r\n                                <div data-ng-if="(patent.p3sServices[0].saleType !== \'Online\' && patent.p3sServices[0].saleType !== \'Offline\' && patent.p3sServices[0].serviceStatus !== \'Epct being generated\') || patent.p3sServices[0].serviceType == \'validation\'">\r\n                                    <p class="txt-grey">N/A</p>\r\n                                </div>\r\n                           \r\n                        </table>                              \r\n                    </td>\x3c!--when multiple services begin--\x3e     \r\n                    <td class="t-data__td t-data__td--xs">\r\n                        <button class="btn-no-bg btn-underlined pill-radius font-body txt-phase-green font-weight-normal nowrap" data-ui-sref="portfolio.modal.patent({patentId: patent.patentID})">View Patent</button>\r\n                    </td>\r\n                </tr>\r\n                <tr data-ng-show="Result.length==0">\r\n                    <td class="t-data__td text-left" colspan="8">\r\n                        No Results Found\r\n                    </td>\r\n                </tr>                                   \r\n            </tbody>\r\n        </table>\r\n    </div>\x3c!-- response table end--\x3e\r\n</div>'},"./node_modules/html-loader/index.js!./app/features/dashboard/html/dashboard.europcts-graph.tpl.htm":function(t,e){t.exports='<div class="widget-panel widget-panel-sq">\r\n\t<div class="widget-panel__body bg-white d-flex flex-column">\r\n\t\t<div>\t\t\r\n\t\t\t<p class="font-h4 font-weight-bold">Euro-PCT formalities</p>\r\n\t\t</div>\r\n\t\t<div class="row d-flex flex-grow-1 just-content-center align-items-center">\r\n\t\t\t<div class="col-md-12 col-lg-12 col-xl-12">\r\n\t\t\t\t\r\n\t\t\t\t<div data-ng-if="$ctrl.donutData.total !== 0">\r\n\t\t\t\t\t<nvd3 options="$ctrl.donutOptions" data="$ctrl.donutData.phases" class="with-transitions"></nvd3>\r\n\t\t\t\t\t<div class="donut-inner">\r\n\t\t\t\t\t\t<h4 class="font-h4 font-weight-bold">Total</h4>\r\n\t\t\t\t\t\t<span class="font-h2 font-weight-bold">{{$ctrl.donutData.total}}</span>\t\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div data-ng-if="$ctrl.donutData.total === 0">\r\n\t\t\t\t\t<p class="font-body text-center">There are currently no Grant formalities</p>\r\n\t\t\t\t</div>\t\t\r\n\t\t\t\t\x3c!--check whether it works when its back online--\x3e\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>'},"./node_modules/html-loader/index.js!./app/features/dashboard/html/dashboard.fxchart-widget.tpl.htm":function(t,e){t.exports='<div class="widget-panel">\r\n\t<div class="widget-panel__body bg-white">\r\n\t\t<div class="row m-b-md">\r\n\t\t\t<div class="col-md-12">\r\n\t\t\t\t<h3 class="font-h3"><span class="font-weight-bold">FX Chart</span> - USD:EUR</h3>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div data-ng-hide="$ctrl.fxChartLoaded" class=" d-flex flex-column justify-content-center align-items-center h-100">\r\n\t        <i class="fas fa-cog fa-spin fa-2x m-b-xs"></i>\r\n\t        <p>We are just fetching latest FX data</p>\r\n        </div>\r\n\t\t\r\n\t\t<div data-ng-show="$ctrl.fxChartLoaded">\r\n\t\t\t<nvd3 options="$ctrl.lineOptions" data="$ctrl.lineData" class="with-transitions"></nvd3> \x3c!--xAxisTickFormat="xAxisTickFormatFunction()"--\x3e\r\n\t\t</div>\r\n\t</div>\r\n</div>'},"./node_modules/html-loader/index.js!./app/features/dashboard/html/dashboard.grants-graph.tpl.htm":function(t,e){t.exports='<div class="widget-panel widget-panel-sq">\r\n\t<div class="widget-panel__body bg-white d-flex flex-column">\r\n\t\t<div>\t\t\r\n\t\t\t<p class="font-h4 font-weight-bold">Grant formalities</p>\r\n\t\t</div>\r\n\t\t<div class="row d-flex flex-grow-1 just-content-center align-items-center">\r\n\t\t\t<div class="col-md-12 col-lg-12 col-xl-12">\r\n\t\t\t\t\r\n\t\t\t\t<div data-ng-if="$ctrl.donutData.total !== 0">\r\n\t\t\t\t\t<nvd3 options="$ctrl.donutOptions" data="$ctrl.donutData.phases" class="with-transitions"></nvd3>\r\n\t\t\t\t\t<div class="donut-inner">\r\n\t\t\t\t\t\t<h4 class="font-h4 font-weight-bold">Total</h4>\r\n\t\t\t\t\t\t<span class="font-h2 font-weight-bold">{{$ctrl.donutData.total}}</span>\t\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div data-ng-if="$ctrl.donutData.total === 0">\r\n\t\t\t\t\t<p class="font-body text-center">There are currently no Grant formalities on the system</p>\r\n\t\t\t\t</div>\t\t\r\n\t\t\t\t\x3c!--check whether it works when its back online--\x3e\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>'},"./node_modules/html-loader/index.js!./app/features/dashboard/html/dashboard.renewals-graph.tpl.htm":function(t,e){t.exports='<div class="widget-panel widget-panel-sq">\r\n\t<div class="widget-panel__body bg-white d-flex flex-column">\r\n\t\t<div>\t\t\r\n\t\t\t<p class="font-h4 font-weight-bold">Renewal formalities</p>\r\n\t\t</div>\r\n\t\t<div class="row d-flex flex-grow-1 just-content-center align-items-center">\r\n\t\t\t<div class="col-md-12 col-lg-12 col-xl-12">\r\n\t\t\t\t\r\n\t\t\t\t<div data-ng-if="$ctrl.donutData.total !== 0">\r\n\t\t\t\t\t<nvd3 options="$ctrl.donutOptions" data="$ctrl.donutData.phases" class="with-transitions"></nvd3>\r\n\t\t\t\t\t<div class="donut-inner">\r\n\t\t\t\t\t\t<h4 class="font-h4 font-weight-bold">Total</h4>\r\n\t\t\t\t\t\t<span class="font-h2 font-weight-bold">{{$ctrl.donutData.total}}</span>\t\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div data-ng-if="$ctrl.donutData.total === 0">\r\n\t\t\t\t\t<p class="font-body text-center">There are currently no Renewal formalities on the system</p>\r\n\t\t\t\t</div>\t\t\r\n\t\t\t\t\x3c!--check whether it works when its back online--\x3e\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>'},"./node_modules/html-loader/index.js!./app/features/dashboard/html/dashboard.tpl.htm":function(t,e){t.exports='<div class="m-b-xl d-flex flex-column flex-grow-1 animate-show">\r\n\t<div data-ng-hide="dashboardLoaded" class="animate-show h-100">\r\n\t\t<div class=" d-flex flex-column justify-content-center align-items-center h-100">\r\n\t        <i class="fas fa-cog fa-spin fa-2x m-b-xs"></i>\r\n\t        <p>We are just preparing your dashboard</p>\r\n        </div>\r\n\t</div>\r\n\t<div data-ng-show="dashboardLoaded" class="animate-show">\r\n\t\t<div class="row">\r\n\t\t\t<div class="col-sm-12">\r\n\t\t\t\t<h1 class="font-h1 lh-default">Dashboard</h1>\r\n\t\t\t</div>\r\n\t\t</div>\t\t\r\n\t\t<div class="row m-b-xl lg-m-b-md dashboard-row-top">\t\r\n\t\t\t<div class="col-md-4 col-lg-3 col-xl-3">\r\n\t\t\t\t<div ui-view="europctsgraph" class="h-100"></div>\r\n\t\t\t</div>\r\n\t\t\t<div class="col-md-4 col-lg-3 col-xl-3">\r\n\t\t\t\t<div ui-view="renewalsgraph" class="h-100"></div>\r\n\t\t\t</div>\r\n\t\t\t<div class="col-md-4 col-lg-3 col-xl-3">\r\n\t\t\t\t<div ui-view="grantsgraph" class="h-100"></div>\r\n\t\t\t</div>\r\n\t\t\t<div class="col-md-4 col-lg-3 col-xl-3">\r\n\t\t\t\t<div ui-view="validationsgraph" class="h-100"></div>\r\n\t\t\t</div>\t\t\t\t\t\t\t\t\t\r\n\t\t</div>\r\n\t\t<div class="row m-b-xl lg-m-b-md">\r\n\t\t\t<div class="col-md-12 col-lg-12 col-xl-6 md-m-b-md lg-m-b-md">\r\n\t\t\t\t<div ui-view="actionsavailable" class="h-100"></div>\r\n\t\t\t</div>\r\n\t\t\t<div class="col-md-12 col-lg-12 col-xl-6 lg-m-b-md d-md-none d-lg-block" >\r\n\t\t\t\t<div ui-view="fxchartwidget" class="h-100"></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>'},"./node_modules/html-loader/index.js!./app/features/dashboard/html/dashboard.validations-graph.tpl.htm":function(t,e){t.exports='<div class="widget-panel widget-panel-sq">\r\n\t<div class="widget-panel__body bg-white d-flex flex-column">\r\n\t\t<div>\t\t\r\n\t\t\t<p class="font-h4 font-weight-bold">Validation formalities</p>\r\n\t\t</div>\r\n\t\t<div class="row d-flex flex-grow-1 just-content-center align-items-center">\r\n\t\t\t<div class="col-md-12 col-lg-12 col-xl-12">\r\n\t\t\t\t\r\n\t\t\t\t<div data-ng-if="$ctrl.donutData.total !== 0">\r\n\t\t\t\t\t<nvd3 options="$ctrl.donutOptions" data="$ctrl.donutData.phases" class="with-transitions"></nvd3>\r\n\t\t\t\t\t<div class="donut-inner">\r\n\t\t\t\t\t\t<h4 class="font-h4 font-weight-bold">Total</h4>\r\n\t\t\t\t\t\t<span class="font-h2 font-weight-bold">{{$ctrl.donutData.total}}</span>\t\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div data-ng-if="$ctrl.donutData.total === 0">\r\n\t\t\t\t\t<p class="font-body text-center">There are currently no Validation formalities on the system</p>\r\n\t\t\t\t</div>\t\t\r\n\t\t\t\t\x3c!--check whether it works when its back online--\x3e\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>'},"./node_modules/html-loader/index.js!./app/features/portfolio/html/portfolio.tpl.htm":function(t,e){t.exports='<div data-ng-show="data.length === 0" class="col-md-12">\r\n    <div class="bg-white p-a-sm">\r\n        <p class="font-weight-medium">We are sorry but no results were returned from you search criteria. Please try again.</p>\r\n    </div>\r\n</div>\r\n<div data-ng-hide="$ctrl.portfolioLoaded" class="animate-hide d-flex flex-column justify-content-center align-items-center flex-grow-1">\r\n    <i class="fas fa-cog fa-spin fa-2x m-b-xs"></i>\r\n    <p>We are just fetching your patents</p>\r\n</div>\r\n\r\n\r\n<div data-ng-show="$ctrl.portfolioLoaded" class="animate-show container__scrollable-area">\r\n    <div class="p-l-3 p-r-3 p-tb-sm br-tx-1">                            \r\n        <div class="d-flex justify-content-between align-items-center">\r\n            <div class="d-flex">\r\n                <h1 class="font-h1 lh-default m-r-lg">Portfolio</h1>\r\n            </div>\r\n            <div class="d-flex align-items-center">\r\n                <md-chips data-ng-model="$ctrl.chipOptions" readonly="true" md-removable="true" class="text-capitalize font-weight-medium cursor-pointer" md-on-remove="selectedChip($chip.prop, $chip.value, $chip.cat); getItems($chip.cat, portfolioData)">\r\n                    <md-chip-template>\r\n                        <strong class="font-body">\r\n                            <span data-ng-show="$chip.prop == \'Epct\'">Euro-PCT</span>\r\n                            <span data-ng-hide="$chip.prop == \'Epct\'">{{$chip.prop}}</span>\r\n                        </strong>\r\n                        <em class="font-body" data-ng-if="$chip.cat ===\'serviceType\'">(action)</em><em class="font-body" data-ng-if="$chip.cat ===\'currentStageColour\'">(phase)</em>                     \r\n                    </md-chip-template>\r\n                    \x3c!-- <md-icon><i class="d-flex input-group-text pill-radius fa fa-search"></i></md-icon> --\x3e\r\n                </md-chips>\r\n                <div class="m-r-lg">\r\n                    <div class="input-group mb-2 m-r-sm">\r\n                        <input type="text" class="form-control pill-radius" name="portfolioSearch" data-ng-model="searchPortfolio" placeholder="Search Portfolio..." autocomplete="off">\r\n                        <div class="input-group-append">\r\n                            <div class="input-group-text">\r\n                                <i class="fa fa-search fa-2x"></i>\r\n                            </div>\r\n                        </div>\r\n                    </div>                    \r\n                </div>\r\n                <div>\r\n                    <md-menu md-position-mode="target-right target">\r\n                        <md-button class="icon-stretch icon-stretch--icon black pill-radius" data-ng-click="$ctrl.showFilter($mdMenu, $event)">\r\n                            <span class="icon-text">Filter</span>              \r\n                            <i class="fal fa-filter fa-2x cursor-pointer icon"></i> \r\n                        </md-button>\r\n                        <md-menu-content class="container-filter-list">\r\n                            <md-list class="box" data-ng-repeat="cat in categories" ng-init="filter[cat]={}">\r\n                                <md-subheader class="md-no-sticky">\r\n                                    <h2 class="font-h3">{{cat == \'currentStageColour\' ? \'Current Stage Colour\' : \'European Action\'}}</h2>\r\n                                </md-subheader>\r\n                                <md-list-item data-ng-repeat="value in getItems(cat, portfolioData)">\r\n                                    <md-checkbox class="md-secondary" data-ng-model="filter[cat][value]" data-ng-change="updateFiltered(value, filter[cat][value], cat);"> \x3c!--used to update filtered patents totals, not filter portfolio--\x3e\r\n                                    </md-checkbox>\r\n                                    <p>({{(filtered | filter:value:true).length}})&nbsp;\r\n                                        <span class="text-capitalize" data-ng-if="value == \'GREY\'">Grey</span>\r\n                                        <span class="text-capitalize" data-ng-if="value == \'epct\'">Euro-PCT</span>\r\n                                        <span class="text-capitalize" data-ng-if="value !== \'epct\' && value !== \'GREY\'">{{value}}</span>\r\n                                    </p>\r\n                                </md-list-item>\r\n                                <md-divider></md-divider>\r\n                            </md-list>\r\n                            <div layout="row" class="demo-dialog-button">\r\n                                <md-button md-autofocus flex class="md-primary" data-ng-click="closeDialog();">\r\n                                    Close\r\n                                </md-button>\r\n                            </div>\r\n                        </md-menu-content>\r\n                    </md-menu>\r\n                </div>\r\n                <div>\r\n                    <md-button class="icon-stretch icon-stretch--icon green pill-radius" data-ng-click="$ctrl.showAddPatent($event)">\r\n                        <span class="icon-text">Add Patent</span>\r\n\r\n                            <i class="fal fa-plus fa-2x txt-white cursor-pointer icon"></i>\r\n                        </span>\r\n                    </md-button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="scrollable-area scrollable-area--full-height">\r\n        <table class="t-data sticky-table">\r\n            <thead class="sticky-thead">\r\n                <tr class="t-data__row t-data__row--select">\r\n                    <th class="t-data__th t-data__th--sm sticky-th" data-ng-click="$ctrl.sortBy(\'ep_ApplicationNumber\');">\r\n                        <span>App No.</span>\r\n                        <span data-ng-show="$ctrl.propertyName == \'ep_ApplicationNumber\' && !$ctrl.reverse">\r\n                            <i class="fas fa-angle-down fa-lg"></i>\r\n                        </span>\r\n                        <span data-ng-show="$ctrl.propertyName == \'ep_ApplicationNumber\' && $ctrl.reverse">\r\n                            <i class="fas fa-angle-up fa-lg"></i>\r\n                        </span>\r\n                    </th>\r\n                    <th class="t-data__th t-data__th--md" data-ng-click="$ctrl.sortBy(\'clientRef\');">\r\n                        <span>Client Ref</span>\r\n                        <span data-ng-show="$ctrl.propertyName == \'clientRef\' && !$ctrl.reverse">\r\n                            <i class="fas fa-angle-down fa-lg"></i>\r\n                        </span>\r\n                        <span data-ng-show="$ctrl.propertyName == \'clientRef\' && $ctrl.reverse">\r\n                            <i class="fas fa-angle-up fa-lg"></i>\r\n                        </span>                          \r\n                    </th>\r\n                    <th class="t-data__th t-data__th--md" data-ng-click="$ctrl.sortBy(\'shortTitle\');">\r\n                        <span>Client Description</span>\r\n                        <span data-ng-show="$ctrl.propertyName == \'shortTitle\' && !$ctrl.reverse">\r\n                            <i class="fas fa-angle-down fa-lg"></i>\r\n                        </span>\r\n                        <span data-ng-show="$ctrl.propertyName == \'shortTitle\' && $ctrl.reverse">\r\n                            <i class="fas fa-angle-up fa-lg"></i>\r\n                        </span>                          \r\n                    </th>                    \r\n                    <th class="t-data__th t-data__th--sm">\r\n                        <span>European Action</span>\r\n                    </th>\r\n                    <th class="t-data__th t-data__th--md">\r\n                        <span>Patent Place Status</span>                        \r\n                    </th>\r\n                    <th class="t-data__th t-data__th--sm">\r\n                        <span>Current Phase</span>\r\n                    </th>\r\n                    <th class="t-data__th t-data__th--sm">\r\n                        <span>Next Phase</span>    \r\n                    </th>                    \r\n                    <th class="t-data__th t-data__th--md">\r\n                        <span></span>\r\n                    </th>\r\n                </tr>\r\n            </thead>\r\n            \r\n            <tbody class="sticky-tbody">\r\n                <tr data-ng-repeat="patent in filtered=(portfolioData | filter:filterByPropertiesMatchingAND | filter:searchPortfolio) | orderBy:$ctrl.propertyName:$ctrl.reverse as Result" data-ng-click="$ctrl.rowSelect($event, patent); $ctrl.select(patent.patentID)"  class="t-data__row t-data__row--select" data-ng-class="{active: patent.patentID == $ctrl.selected}">\r\n                    <td class="t-data__td t-data__td--sm sticky-td">\r\n                        <a class="t-data__a" data-ng-bind="patent.ep_ApplicationNumber" data-ng-attr-id="{{patent.patentID}}"></a>\r\n                    </td>\r\n                    <td class="t-data__td t-data__td--md">\r\n                        <span class="txt-grey" data-ng-if="patent.clientRef == \'\'">[No client reference provided]</span>\r\n                        <span data-ng-if="patent.clientRef !== \'\'">{{patent.clientRef}}</span>\r\n                    </td>\r\n                    <td class="t-data__td t-data__td--md">\r\n                        <span class="txt-grey" data-ng-if="patent.shortTitle == \'\'">[No client description provided]</span>\r\n                        <span data-ng-if="patent.shortTitle !== \'\'">{{patent.shortTitle}}</span>\r\n                    </td>\r\n                    <td class="t-data__th--sm">\r\n                        <table data-ng-if="patent.p3sServices.length == 1">\r\n                            <tr>\r\n                                <td data-ng-repeat="item in patent.p3sServices track by $index"  class="t-data__td">\r\n                                    <div class="d-flex justify-content-left btn-underlined-selector">\r\n                                        <span data-ng-bind="item.serviceType" data-ng-if="item.serviceType !== \'postgrant\' && item.serviceType !== \'epct\'" class="text-capitalize"></span>\r\n                                        <span data-ng-if="item.serviceType == \'epct\'" class="text-capitalize">Euro-PCT</span>\r\n                                        <span data-ng-if="item.serviceType == \'postgrant\'" class="text-capitalize">----</span>\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n                        </table>\r\n                        <table data-ng-if="patent.p3sServices.length > 1">\r\n                            <tr data-ng-repeat="item in patent.p3sServices track by $index">\r\n                                <td class="t-data__td">\r\n                                    <div class="d-flex justify-content-left btn-underlined-selector">\r\n                                        <span data-ng-bind="item.serviceType" class="text-capitalize"></span>\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n                        </table>                                \r\n                    </td>\x3c!--when multiple services begin--\x3e                    \r\n                    <td class="t-data__td--md p-t-none p-b-none" >\r\n                        <table data-ng-if="patent.p3sServices.length == 1">\r\n                            <tr>\r\n                                <td data-ng-repeat="item in patent.p3sServices track by $index" class="t-data__td">\r\n                                    <div data-ng-if="!item.isUrgentAttention"> \x3c!-- cover manual processing--\x3e\r\n                                        <span data-ng-bind="item.serviceStatusUI" class="font-weight-medium"></span>\r\n                                    </div>\r\n                                    <div data-ng-if="item.isUrgentAttention && item.serviceType !== \'validation\'"> \x3c!-- cover manual processing--\x3e\r\n                                        <p class="txt-phase-red">URGENT ACTION REQUIRED</p>\r\n                                    </div>     \r\n                                    <div data-ng-if="item.isUrgentAttention && item.serviceType == \'validation\'"> \x3c!-- cover manual processing--\x3e\r\n                                        <p>Manual Processing Only</p>\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n                        </table>                       \r\n                        <table data-ng-if="patent.p3sServices.length > 1">\r\n                            <tr data-ng-repeat="item in patent.p3sServices track by $index">\r\n                                <td class="t-data__td">\r\n                                    <div data-ng-if="!item.isUrgentAttention"> \x3c!-- cover manual processing--\x3e\r\n                                        <span data-ng-bind="item.serviceStatusUI" class="font-weight-medium"></span>\r\n                                    </div>\r\n                                    <div data-ng-if="item.isUrgentAttention"> \x3c!-- cover manual processing--\x3e\r\n                                        <p class="txt-phase-red">URGENT ACTION REQUIRED</p>\r\n                                    </div>                                            \r\n                                </td>\r\n                            </tr>\r\n                        </table>                         \r\n                    </td>\x3c!--patent place status--\x3e\r\n                    <td class=" t-data__td--sm">\r\n                        <table data-ng-if="patent.p3sServices.length == 1">\r\n                            <td data-ng-repeat="item in patent.p3sServices track by $index" class="t-data__td">\r\n                                <div data-ng-if="(item.saleType === \'Online\' || item.saleType === \'Offline\') && item.serviceType !== \'validation\'">\r\n                                    <div class="d-flex flex-column">\r\n                                        <div class="d-flex justify-content-start align-items-center">\x3c!--display costs--\x3e\r\n                                            <p class="font-weight-bold m-r-sm"><i class="fas fa-circle m-r-xs" data-ng-class="item.cssCurrent"></i>$ {{item.currentStageCostUSD | number: 2}}</p>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div data-ng-if="item.serviceType == \'validation\'">\r\n                                    <div class="d-flex flex-column">\r\n                                        <div class="d-flex justify-content-start">\x3c!--display costs--\x3e\r\n                                            <p class="font-weight-bold m-r-sm" data-ng-if="item.currentStageCostUSD !== null"><i class="fas fa-circle m-r-xs" data-ng-class="item.cssCurrent"></i>$ {{item.currentStageCostUSD | number: 2}}</p>\r\n                                            <p class="font-weight-bold txt-phase-green" data-ng-if="item.serviceStatus == \'Validation available\'">Request Quote</p>\r\n                                            <p class="font-weight-bold txt-phase-green" data-ng-if="item.serviceStatus == \'Preparing quote\'">Preparing Quote</p>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n\x3c!--                                 <div data-ng-if="item.serviceType == \'validation\' && item.serviceStatus !== \'Quote provided\'">\r\n                                    <p class="txt-grey">N/A</p>\r\n                                </div> --\x3e\r\n                                <div data-ng-if="item.saleType !== \'Online\' && item.saleType !== \'Offline\' && item.serviceStatus !== \'Epct being generated\' && item.serviceStatus !== \'Preparing quote\' && item.serviceStatus !== \'Scanned PoAs received\'  && item.serviceStatus !== \'Blank PoAs downloaded\' && item.serviceStatus !== \'Paper documents received\' &&  item.saleType !== \'In Progress\' ">\r\n                                    <p class="txt-grey">N/A</p>\r\n                                </div>                                \r\n                            </td>\r\n                        </table>\r\n                        <table data-ng-if="patent.p3sServices.length > 1">\r\n                            <tr data-ng-repeat="item in patent.p3sServices track by $index">\r\n                                <td class="t-data__td">\r\n                                    <div data-ng-if="item.saleType === \'Online\' || item.saleType === \'Offline\'">\r\n                                        <div class="d-flex flex-column">\r\n                                            <div class="d-flex justify-content-start align-items-center">\x3c!--display costs--\x3e\r\n                                                <p class="font-weight-bold m-r-sm"><i class="fas fa-circle m-r-xs" data-ng-class="item.cssCurrent"></i>$ {{item.currentStageCostUSD | number: 2}}</p>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div data-ng-if="item.saleType !== \'Online\' && item.saleType !== \'Offline\' && item.serviceStatus !== \'Epct being generated\' && item.serviceStatus !== \'Preparing quote\'">\r\n                                        <p class="txt-grey">N/A</p>\r\n                                    </div>                                \r\n                                </td>\r\n                            </tr>\r\n                        </table>                                \r\n                    </td>\x3c!--when multiple services begin--\x3e     \r\n                    <td class="t-data__th--sm">\r\n                        <table data-ng-if="patent.p3sServices.length == 1">\r\n                            <td data-ng-repeat="item in patent.p3sServices track by $index" class="t-data__td">\r\n                                <div data-ng-if="(item.saleType === \'Online\' || item.saleType === \'Offline\') && item.serviceType !== \'validation\'">\r\n                                    <div class="d-flex flex-column">\r\n                                        <div class="d-flex justify-content-start align-items-center">\x3c!--display costs--\x3e\r\n\r\n                                            <p data-ng-if="(!item.isUrgentAttention && item.currentStageColour !== \'Black\' && (item.saleType === \'Online\' || item.saleType === \'Offline\')) || (!item.isUrgentAttention && item.currentStageColour == \'Black\' && (item.saleType === \'Online\' || item.saleType === \'Offline\'))" class="font-weight-bold"><i class="fas fa-circle m-r-xs" data-ng-class="item.cssNext"></i> $ {{item.nextStageCostUSD | number: 2}}</p> \r\n                                            <p data-ng-if="item.isUrgentAttention && item.currentStageColour == \'Black\' && item.serviceType === \'renewal\'" class="font-weight-bold">LAPSE</p> \x3c!--if current colour is black and urgent attention required. Means that it is the second stage of black and is renewal--\x3e\r\n                                            <p data-ng-if="item.isUrgentAttention && item.currentStageColour == \'Red\' && item.serviceType !== \'renewal\'" class="font-weight-bold">LAPSE</p> \x3c!--if current colour is black and urgent attention required. Means that it is the second stage of black--\x3e\r\n                                        </div>    \r\n                                    </div>\r\n                                </div>                            \r\n                                <div data-ng-if="(item.saleType !== \'Online\' && item.saleType !== \'Offline\' && item.serviceStatus !== \'Epct being generated\') || item.serviceType == \'validation\'">\r\n                                    <p class="txt-grey">N/A</p>\r\n                                </div>\r\n                            </td>\r\n                        </table>\r\n                        <table data-ng-if="patent.p3sServices.length > 1">\r\n                            <tr data-ng-repeat="item in patent.p3sServices track by $index">\r\n                                <td class="t-data__td">\r\n                                    <div data-ng-if="(item.saleType === \'Online\' || item.saleType === \'Offline\') && item.serviceType !== \'validation\'">\r\n                                        <div class="d-flex flex-column">\r\n                                            <div class="d-flex justify-content-start align-items-center">\x3c!--display costs--\x3e\r\n\r\n                                                <p data-ng-if="(!item.isUrgentAttention && item.currentStageColour !== \'Black\' && (item.saleType === \'Online\' || item.saleType === \'Offline\')) || (!item.isUrgentAttention && item.currentStageColour == \'Black\' && (item.saleType === \'Online\' || item.saleType === \'Offline\'))" class="font-weight-bold"><i class="fas fa-circle m-r-xs" data-ng-class="item.cssNext"></i> $ {{item.nextStageCostUSD | number: 2}}</p> \r\n                                                <p data-ng-if="item.isUrgentAttention && item.currentStageColour == \'Black\' && item.serviceType === \'renewal\'" class="font-weight-bold">LAPSE</p> \x3c!--if current colour is black and urgent attention required. Means that it is the second stage of black and is renewal--\x3e\r\n                                                <p data-ng-if="item.isUrgentAttention && item.currentStageColour == \'Red\' && item.serviceType !== \'renewal\'" class="font-weight-bold">LAPSE</p> \x3c!--if current colour is black and urgent attention required. Means that it is the second stage of black--\x3e\r\n                                            </div>    \r\n                                        </div>\r\n                                    </div>                            \r\n                                    <div data-ng-if="(item.saleType !== \'Online\' && item.saleType !== \'Offline\' && item.serviceStatus !== \'Epct being generated\') || item.serviceType == \'validation\'">\r\n                                        <p class="txt-grey">N/A</p>\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n                        </table>                                \r\n                    </td>\x3c!--when multiple services begin--\x3e     \r\n                    <td class="t-data__td t-data__td--md">\r\n                        <table data-ng-if="patent.p3sServices.length == 1">\r\n                            <tr>\r\n                                <td>\r\n                                    <div class="d-flex justify-content-center btn-underlined-selector" data-ng-repeat="item in patent.p3sServices track by $index">\r\n                                        <div data-ng-if="item.serviceType == \'epct\'">\r\n                                            <a data-ng-if="item.saleType == \'Online\' && (item.serviceStatus === \'Epct available\' || item.serviceStatus === \'Epct rejected\')" class="btn btn--bordered btn-underlined generateForm1200">Generate Form 1200</a>\r\n\r\n                                            <ngcart-addtocart id="{{item.actionID}}" class="tablebtn" name="epct" price="{{item.currentStageCostUSD}}" quantity="1" quantity-max="10" data="patent" data-ng-if="item.saleType == \'Online\' && item.serviceStatus == \'Epct saved\'"> \x3c!--secret to different button labels checkngcartdirective.js--\x3e\r\n                                            </ngcart-addtocart>\r\n                                        </div>\r\n                                        <div data-ng-if="item.serviceType == \'renewal\'">\r\n                                            <ngcart-addtocart id="{{item.actionID}}" class="tablebtn" name="renewal" price="{{item.currentStageCostUSD}}" quantity="1" quantity-max="10" data="patent" data-ng-if="item.saleType == \'Online\' && item.serviceStatus == \'Show price\'"> \x3c!--secret to different button labels checkngcartdirective.js--\x3e\r\n                                            </ngcart-addtocart>\r\n                                            \r\n                                        </div>\r\n                                        <div data-ng-if="item.serviceType == \'grant\'">\r\n                                            <a data-ng-if="item.saleType == \'Online\' && item.serviceStatus === \'Grant available\'" class="btn btn--bordered btn-underlined prepareGrant" data-ng-click="$ctrl.prepareGrant(patent.patentID)">Prepare Grant\r\n                                            </a>\r\n                                            <ngcart-addtocart id="{{item.actionID}}" class="tablebtn" name="grant" price="{{item.currentStageCostUSD}}" quantity="1" quantity-max="10" data="patent" data-ng-if="item.saleType == \'Online\' && item.serviceStatus == \'Grant saved\'"> \x3c!--secret to different button labels checkngcartdirective.js--\x3e\r\n                                            </ngcart-addtocart>\r\n                                        </div>          \r\n                                        <div data-ng-if="item.serviceType == \'validation\'">\r\n                                            <ngcart-addtocart id="{{item.actionID}}" class="tablebtn" name="validation" price="{{item.currentStageCostUSD}}" quantity="1" quantity-max="10" data="patent" data-ng-if="item.saleType == \'Online\' && item.serviceStatus == \'Quote provided\'"> \x3c!--secret to different button labels checkngcartdirective.js--\x3e\r\n                                            </ngcart-addtocart>\r\n                                        </div>                                                  \r\n                                        <p class="font-weight-medium" data-ng-class="item.isUrgentAttention && item.serviceType !== \'validation\' ? \'txt-phase-red\' : \'\'" data-ng-if="item.saleType == \'Offline\'">Call +44 203 696 0949</p>\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n                        </table>\r\n                        <table data-ng-if="patent.p3sServices.length > 1">\r\n                            <tr data-ng-repeat="item in patent.p3sServices track by $index">\r\n                                <td class="t-data__td">\r\n                                    <div class="d-flex justify-content-center btn-underlined-selector">\r\n\r\n                                        <div data-ng-if="item.serviceType == \'renewal\'">\r\n                                            <ngcart-addtocart id="{{item.actionID}}" class="tablebtn" name="renewal" price="{{item.currentStageCostUSD}}" quantity="1" quantity-max="10" data="patent" data-ng-if="item.saleType == \'Online\' && item.serviceStatus == \'Show price\'"> \x3c!--secret to different button labels checkngcartdirective.js--\x3e\r\n                                            </ngcart-addtocart>\r\n                                        </div>\r\n                                        <div data-ng-if="item.serviceType == \'grant\'">\r\n                                            <a data-ng-if="item.saleType == \'Online\' && item.serviceStatus === \'Grant available\'" class="btn btn--bordered btn-underlined prepareGrant" data-ng-click="$ctrl.prepareGrant(patent.patentID)">Prepare Grant\r\n                                            </a>\r\n                                            <ngcart-addtocart id="{{item.actionID}}" class="tablebtn" name="grant" price="{{item.currentStageCostUSD}}" quantity="1" quantity-max="10" data="patent" data-ng-if="item.saleType == \'Online\' && item.serviceStatus == \'Grant saved\'"> \x3c!--secret to different button labels checkngcartdirective.js--\x3e\r\n                                            </ngcart-addtocart>\r\n                                        </div>                                                \r\n                                        <p class="font-weight-medium" data-ng-class="item.isUrgentAttention ? \'txt-phase-red\' : \'\'" data-ng-if="item.saleType == \'Offline\'">Call +44 203 696 0949</p>\r\n                                        <p class="invisible" data-ng-if="item.saleType !== \'Online\' && item.serviceStatus !== \'Show price\' && item.serviceStatus !== \'Grant available\'">Fill space</p>\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n                        </table>\r\n                    </td>\r\n                </tr>\r\n                <tr data-ng-show="Result.length==0">\r\n                    <td class="t-data__td text-left" colspan="8">\r\n                        No Results Found\r\n                    </td>\r\n                </tr>                                   \r\n            </tbody>\r\n        </table>\r\n    </div>\x3c!-- response table end--\x3e\r\n</div>\r\n\r\n<div data-ui-view="modal" autoscroll="false"></div>'},"./node_modules/html-loader/index.js!./app/features/sidenav/html/sidenav-li-item.tpl.htm":function(t,e){t.exports='<md-button class="d-flex align-items-center" data-ui-sref-active="active" data-ui-sref="{{section.state}}" ng-click="focusSection()">\r\n\t<i class="{{section.icon}}"></i><span class="m-l-xs font-h4">{{section.name}}</span>\r\n\t<span class="md-visually-hidden" data-ng-if="isSelected()">current page</span>\r\n</md-button>\r\n\r\n'},"./node_modules/html-loader/index.js!./app/features/sidenav/html/sidenav-nav-li.tpl.htm":function(t,e){t.exports='<md-button class="md-button-toggle font-weight-medium justify-content-center align-items-center" data-ng-click="toggle()" aria-controls="side-menu-{{section.name}}" flex layout="row" aria-expanded="{{isOpen()}}">\r\n    <i class="{{section.icon}}"></i><span class="txt-white m-l-xs font-h4">{{section.name}}</span>\r\n\t<md-icon md-font-set="fas fa-chevron-down" class="md-toggle-icon txt-white font-h4 d-flex align-items-center" data-ng-class="{\'toggled\' : isOpen()}"></md-icon>\r\n</md-button>\r\n<ul data-ng-show="isOpen()" id="side-menu-{{section.name}}" class="nav menu-toggle-list w-100">\r\n    <li data-ng-repeat="page in section.pages" class="font-weight-medium">\r\n        <menu-link section="page"></menu-link>\r\n    </li>\r\n</ul>'},"./node_modules/html-loader/index.js!./app/features/sidenav/html/sidenav.tpl.htm":function(t,e,n){t.exports='<div class="fade long-fade show"> \x3c!--top nav--\x3e\r\n    <div layout="row" class="closed-sidenav border-grey-xs--btm">\r\n    \t<div class="closed-sidenav--inner d-flex justify-content-between">\r\n\t\t\t<span class="d-flex cursor-pointer m-r-lg align-items-center" data-ng-click="$ctrl.toggleLeft()">\r\n\t\t    \t<i class="fas fa-bars fa-2x txt-black"></i>\r\n\t\t\t    <p class="txt-black m-l-sm font-h4">Menu</p>\r\n\t\t\t</span>\r\n\t    \t<div class="d-flex">\r\n\t\t\t\t<div class="d-flex justify-content-between align-items-center m-r-lg">\r\n\t\t\t\t\t<span class="m-r-xs font-h4 txt-black"><span class="font-weight-bold">EST:</span> {{$ctrl.est}}</span> \r\n\t\t\t\t\t<span class="font-h4 txt-black"><span class="font-weight-bold">UTC:</span> {{$ctrl.utc}}</span>\r\n\t\t\t\t</div>\t\t\r\n\t\t\t\t<div class="d-flex justify-content-between align-items-center">\r\n\t\t\t\t\t<span class="m-r-md font-h4 txt-black"><span class="font-weight-bold m-r-xs">USD - EUR</span>{{$ctrl.fxRate}}</span> \r\n\t\t\t\t</div>\r\n\t    \t</div>\r\n\t\t\t<div class="d-flex justify-content-end align-items-center">\r\n\t\t\t\t<div class="d-flex justify-content-between align-items-center m-r-md">\t\t\t\r\n\x3c!-- \t\t\t\t\t<i class="far fa-info-circle fa-2x cursor-pointer" data-ng-click="$ctrl.openGuide()"></i> --\x3e\r\n\t\t\t\t\t<md-tooltip md-delay="500" md-direction="bottom">App Guide</md-tooltip>\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t\t<a data-ui-sref="basket" class="m-r-md">\r\n\t\t\t\t\t<ngcart-summary class="font-body txt-black"></ngcart-summary>\r\n\t\t\t\t</a>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p class="txt-black">\r\n\t\t\t\t\t\t<a data-ui-sref="profile" class="font-weight-medium font-h4">{{$root.user.firstName}}</a> | \r\n\t\t\t\t\t\t<a class="font-h4 txt-black inline-link" data-ng-click="$ctrl.empty()" data-ng-href="http://localhost:8080/p3sweb/resources/j_spring_security_logout">Logout</a>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n  \t</div>\r\n</div>\r\n\r\n\r\n<div>\x3c!--side-nav--\x3e\r\n \t<section flex>\r\n\t    <md-sidenav class="md-sidenav-left bg-phase-grey" md-component-id="left" md-disable-backdrop md-whiteframe="3">\r\n      \t\t<div class="row">\r\n\t\t      \t<div class="col-md-12">\r\n\t\t      \t\t<div class="bg-phase-grey p-v-sm-h-lg flex-grow-1 d-flex justify-content-between align-items-center">\r\n\t\t\t      \t\t<img src="'+n("./app/features/sidenav/pp_icon.png")+'" alt="patent place icon small">\r\n\t\t\t      \t\t<span class="cursor-pointer" data-ng-click="$ctrl.toggleLeft()"><i class="fas fa-times fa-2x txt-white"></i></span>\r\n\t\t\t      \t</div>\t\r\n\t      \t\t</div>\r\n\t      \t</div>\t    \t\t\t\r\n      \t \t<md-content class="bg-phase-grey">\r\n\t      \t \t<div layout="column" class="p-pill-tabs m-b-sm p-a-sm">\r\n\t      \t \t\t\r\n\t\t      \t \t<div class="d-flex justify-content-center align-items-center m-b-sm">\t\t      \t \t\r\n\t\t      \t \t\t<a class="nav-link" data-ui-sref="profile">\t\t\t\r\n\t\t      \t \t\t\t<img data-ng-src="{{$ctrl.avatarimage}}" data-ng-if="$ctrl.avatarimage" alt="users profile pic" class="profile-pic-radius" width="104">\r\n\t\t      \t \t\t\t<img src="'+n("./app/features/sidenav/avatar-default.png")+'" data-ng-if="!$ctrl.avatarimage" alt="users profile pic" class="profile-pic-radius" width="104">\r\n\t      \t \t\t\t</a>\r\n\t\t      \t \t</div>\r\n\t      \t \t\t<div class="d-flex justify-content-center align-items-center">\r\n\t      \t \t\t\t<a class="nav-link nav-link--white d-flex justify-content-center align-items-center font-h4 font-weight-bold" data-ui-sref="profile">\r\n\t\t\t      \t \t\t{{$ctrl.user.firstName}} {{$ctrl.user.lastName}}\r\n\t\t      \t \t\t</a>\r\n\t      \t \t\t</div>\r\n\t      \t \t\t<div class="d-flex justify-content-center align-items-center">\r\n\t\t      \t \t\t<span class="font-body text-center">{{$ctrl.user.business.businessName}}</span>\r\n\t\t      \t \t</div>\r\n\t      \t \t</div>\r\n\t      \t \t<div layout="column" class=" d-flex justify-content-center">\r\n\t      \t \t\t<nav class="nav">\r\n\t\t\t\t\t\t<ul class="side-menu w-100">\r\n\t\t\t\t\t\t\t<li data-ng-repeat="section in $ctrl.menu.sections" class="font-body font-weight-medium" data-ui-sref-active="active" data-ng-class="{\'parentActive\' : $ctrl.isSectionSelected(section)}">\r\n\t                        \t<menu-link section="section" data-ng-if="section.type === \'link\'"></menu-link>\r\n\t        \t\t\t\t\t<menu-toggle section="section" data-ng-if="section.type === \'toggle\'" context="$ctrl"></menu-toggle>\r\n\t\t\t\t\t        </li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</nav>\r\n\t\t\t\t</div>\r\n\t\t\t</md-content>\r\n\t    </md-sidenav>\r\n  \t</section>\r\n  \r\n    <div layout="column" class="closed-sidenav-side bg-phase-grey">\r\n\t  \t<div class="text-center w-100 p-tb-20">\r\n\t  \t\t<a data-ui-sref="dashboard">\r\n\t  \t\t\t<img width="35" src="'+n("./app/features/sidenav/pp_icon.png")+'">\r\n\t  \t\t</a>\r\n\t    </div>\r\n\t\t<ul class="nav flex-column">\r\n\t\t\t<li class="nav-item" data-ui-sref-active="active">\r\n\t\t\t\t<a class="nav-link p-tb-md d-flex justify-content-center align-items-center" data-ui-sref="dashboard">\r\n\t\t\t\t\t<i class="far fa-tachometer-alt fa-2x d-none d-xl-block"></i>\r\n\t\t\t\t\t<i class="far fa-tachometer-alt fa-2x d-xl-none"></i>\r\n\t\t\t\t</a>\r\n\t\t\t\t<md-tooltip md-delay="500" md-direction="right">Dashboard</md-tooltip>\r\n\t\t\t</li>\r\n\t\t\t<li class="nav-item" data-ui-sref-active="active">\r\n\t\t\t\t<a class="nav-link p-tb-md d-flex justify-content-center align-items-center" data-ui-sref="portfolio">\r\n\t\t\t\t\t<i class="far fa-folders fa-2x d-none d-xl-block"></i>\r\n\t\t\t\t\t<i class="far fa-folders fa-2x d-xl-none d-lg-inline-block"></i>\r\n\t\t\t\t</a>\r\n\t\t\t\t<md-tooltip md-delay="500" md-direction="right">Portfolio</md-tooltip>\r\n\t\t\t</li>\t\t\t\r\n\t\t\t<li class="nav-item" data-ui-sref-active="active">\r\n\t\t\t\t<a class="nav-link p-tb-md d-flex justify-content-center align-items-center" data-ui-sref="transactions">\r\n\t\t\t\t\t<i class="far fa-money-check-alt fa-2x d-none d-xl-block"></i>\r\n\t\t\t\t\t<i class="far fa-money-check-alt fa-2x d-xl-none d-lg-inline-block"></i>\r\n\t\t\t\t</a>\r\n\t\t\t\t<md-tooltip md-delay="500" md-direction="right">Transactions</md-tooltip>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\t\t<div class="text-center position-bottom w-100 m-b-sm">\r\n\x3c!-- \t\t\t<button data-ng-click="$ctrl.openGuide()" class="m-b-sm btn btn-no-bg">\r\n\t\t\t\t<i class="far fa-info-circle fa-2x txt-white"></i>\r\n\t\t\t\t<md-tooltip md-delay="500" md-direction="right">App Guide</md-tooltip>\r\n\t\t\t</button> --\x3e\r\n\t\t</div>\r\n  \t</div>\r\n</div>\r\n'},"./src/js/app.js":function(t,e,n){"use strict";n.r(e);n("./node_modules/babel-polyfill/lib/index.js");var a=n("./node_modules/jquery/dist/jquery.js"),r=n.n(a),i=(n("./node_modules/jquery/dist/jquery.min.js"),n("./node_modules/angular/angular.min.js"),n("./node_modules/angular-cookies/angular-cookies.min.js"),n("./node_modules/angular-animate/angular-animate.min.js"),n("./node_modules/angular-sanitize/angular-sanitize.js"),n("./node_modules/angular-aria/angular-aria.min.js"),n("./node_modules/angular-material/angular-material.min.js"),n("./node_modules/angular-touch/angular-touch.min.js"),n("./node_modules/angular-local-storage/dist/angular-local-storage.min.js"),n("./node_modules/tether/dist/js/tether.min.js"),n("./node_modules/bootstrap/dist/js/bootstrap.min.js"),n("./node_modules/angular-ui-bootstrap/dist/ui-bootstrap-tpls.js"),n("./node_modules/moment/min/moment.min.js"),n("./node_modules/moment-timezone/builds/moment-timezone.min.js"),n("./node_modules/moment-timezone/builds/moment-timezone-with-data-2012-2022.min.js"),n("./node_modules/d3/d3.min.js"),n("./node_modules/nvd3/build/nv.d3.min.js"),n("./node_modules/angular-nvd3/dist/angular-nvd3.min.js"),n("./node_modules/angular/index.js")),s=n.n(i),o=n("./node_modules/angular-ui-router/lib-esm/index.js"),l=(n("./node_modules/ng-idle/angular-idle.min.js"),angular.module("ngCart.fulfilment",[]).service("fulfilmentProvider",["$injector","$state","$timeout",function(t,e,n){this._obj={service:void 0,settings:void 0},this.setService=function(t){this._obj.service=t},this.setSettings=function(t){this._obj.settings=t},this.checkout=function(e){return t.get("ngCart.fulfilment."+this._obj.service).checkout(this._obj.settings,e)}}]).service("ngCart.fulfilment.http",["$http","$state","$q",function(t,e,n){this.checkout=function(e,a){var r=n.defer();return t.post("http://localhost:8080/p3sweb/rest-prepare-banktransfer/",a).then(function(t){r.resolve(t.data)},function(t){console.error("Error submitting POST request to rest-prepare-banktransfer/. Error: ",t),r.reject(t)}),r.promise}}]).name),c=angular.module("ngCart.directives",[l]).controller("CartController",["$scope","ngCart","$state",function(t,e,n){t.ngCart=e}]).directive("ngcartAddtocart",["ngCart",function(t){return{restrict:"E",controller:"CartController",scope:{id:"@",name:"@",quantity:"@",quantityMax:"@",price:"@",data:"="},transclude:!0,templateUrl:function(t,e){return void 0===e.templateUrl?"../app/global/html/ngCart/addtocart.htm":e.templateUrl},link:function(e,n,a){e.attrs=a,e.inCart=function(){return t.getItemById(a.id)},e.inCart()?e.q=t.getItemById(a.id).getQuantity():e.q=parseInt(e.quantity),e.qtyOpt=[];for(var r=1;r<=e.quantityMax;r++)e.qtyOpt.push(r)}}}]).directive("ngcartCart",[function(){return{restrict:"E",scope:{ngModel:"="},controller:"CartController",templateUrl:function(t,e){return void 0===e.templateUrl?"../app/global/html/ngCart/cart.htm":e.templateUrl},link:function(t,e,n){}}}]).directive("ngcartSummary",[function(){return{restrict:"E",controller:"CartController",scope:{},transclude:!0,templateUrl:function(t,e){return void 0===e.templateUrl?"../app/global/html/ngCart/summary.htm":e.templateUrl}}}]).directive("ngcartCheckout",["ngCart","ngCartItem","basketService","patentsRestService","$rootScope","$timeout","$state",function(t,e,n,a,r,i,s){return{restrict:"E",scope:{service:"@",settings:"=",ngModel:"="},controller:["$scope","ngCart","fulfilmentProvider","basketService","$state",function(t,e,n,a,i){t.ngCart=e,t.productData=e.$cart.items,t.basketItems=function(){return[]=Object.keys(t.productData).map(function(e,n){var a={};return a.ep_ApplicationNo=t.productData[e]._data.ep_ApplicationNumber,a.patentID=t.productData[e]._data.patentID,a.serviceType=t.productData[e]._name,a})},t.checkout=function(){var a={basketItems:t.basketItems(),totalCostUSD:e.totalCost(),dateNowLocalTime:null};n.setService(t.service),n.setSettings(t.settings),n.checkout(a).then(function(e,n,r,s){e.billingDetails=t.summary.billingDetails,i.go("bank-transfer-preparation",{orderObj:a,details:e},{reload:!1})},function(t,e,n,a){r.$broadcast("ngCart:checkout_failed",{statusCode:e,error:t})})}}],link:function(t,e,a){function i(e){(e={}).basketItems=t.basketItems(),n.fetchBasketPatents(e).then(function(e){t.summary={firstName:e.firstName,lastName:e.lastName,billingDetails:{billingStreet:e.billingStreet,billingCity:e.billingCity,billingState:e.billingState,billingZip:e.billingZip},date:e.dateNowLocalTimeUI,fees:{totalProcessingFeesUSD:e.totalProcessingFeesUSD,totalExpressFeesUSD:e.totalExpressFeesUSD,totalUrgentFeesUSD:e.totalUrgentFeesUSD,totalOfficialFeesUSD:e.totalOfficialFeesUSD,totalPatentPlaceFeesUSD:e.totalCostUSD-e.totalOfficialFeesUSD,totalCostUSD:e.totalCostUSD},totalPatents:e.orderedPatentUIs.length}},function(t){console.error("Error: Unable to fetch basket details: ",t)})}r.$on("ngCart:itemRemoved",function(){i()}),i()},transclude:!0,templateUrl:function(t,e){return void 0===e.templateUrl?"../app/global/html/ngCart/checkout.htm":e.templateUrl}}}]).name,d=angular.module("ngCart",[c]).config([function(){}]).provider("$ngCart",function(){this.$get=function(){}}).run(["$rootScope","ngCart","ngCartItem","store",function(t,e,n,a){t.$on("ngCart:change",function(){e.$save()}),angular.isObject(a.get("cart"))?e.$restore(a.get("cart")):e.init()}]).service("ngCart",["$rootScope","$window","ngCartItem","store","$uibModal","$state",function(t,e,n,a,r,i){var s=this;this.init=function(){this.$cart={shipping:null,taxRate:null,tax:null,items:[]}},this.addItem=function(e,a,o,l,c){var d=this.getItemById(e);if(function(t){return"validation"==t?s.getCart().items.some(function(t){return"validation"!==t._name}):"validation"!==t?s.getCart().items.some(function(t){return"validation"==t._name}):void 0}(a))r.open({templateUrl:"app/templates/modals/modal.validation-in-basket.tpl.htm",appendTo:void 0,controllerAs:"$ctrl",controller:["$uibModalInstance",function(t){this.dismissModal=function(){t.close()}}]});else{r.open({templateUrl:"app/templates/modals/modal.confirm-add-action.tpl.htm",appendTo:void 0,controllerAs:"$ctrl",controller:["$uibModalInstance",function(t){this.order={},console.log("price modal: ",o),this.order.price=o,c.p3sServices&&(this.order.euroAction=c.p3sServices.map(function(t){return"epct"===action.serviceType&&(action.serviceType="Euro-PCT"),t.serviceType})),c.p3sServicesWithFees&&(this.order.euroAction=c.p3sServicesWithFees.map(function(t){return"epct"===action.serviceType&&(action.serviceType="Euro-PCT"),t.serviceType})),this.order.ep_ApplicationNumber=c.ep_ApplicationNumber,this.order.totalOrderLength=s.getItems().length,this.order.totalCost=s.totalCost(),this.continueBasket=function(){i.go("basket",{}),t.close()},this.dismissModal=function(){t.close()}}]});if("object"==typeof d)d.setQuantity(l,!1),t.$broadcast("ngCart:itemUpdated",d);else{var p=new n(e,a,o,l,c);this.$cart.items.push(p),t.$broadcast("ngCart:itemAdded",p)}t.$broadcast("ngCart:change",{})}},this.getItemById=function(t){var e=this.getCart().items,n=!1;return angular.forEach(e,function(e){e.getId()===t&&(n=e)}),n},this.setShipping=function(t){return this.$cart.shipping=t,this.getShipping()},this.getShipping=function(){return 0==this.getCart().items.length?0:this.getCart().shipping},this.setTaxRate=function(t){return this.$cart.taxRate=+parseFloat(t).toFixed(2),this.getTaxRate()},this.getTaxRate=function(){return this.$cart.taxRate},this.getTax=function(){return+parseFloat(this.getSubTotal()/100*this.getCart().taxRate).toFixed(2)},this.setCart=function(t){return this.$cart=t,this.getCart()},this.getCart=function(){return this.$cart},this.getItems=function(){return this.getCart().items},this.getTotalItems=function(){var t=0,e=this.getItems();return angular.forEach(e,function(e){t+=e.getQuantity()}),t},this.getTotalUniqueItems=function(){return this.getCart().items.length},this.getSubTotal=function(){var t=0;return angular.forEach(this.getCart().items,function(e){t+=e.getTotal()}),+parseFloat(t).toFixed(2)},this.totalCost=function(){return+parseFloat(this.getSubTotal()+this.getTax()).toFixed(2)},this.removeItem=function(e){var n=this.$cart.items.splice(e,1)[0]||{};t.$broadcast("ngCart:itemRemoved",n),t.$broadcast("ngCart:change",{})},this.removeItemById=function(e){var n=this.getCart();angular.forEach(n.items,function(t,a){t.getId()===e&&(t=n.items.splice(a,1)[0]||{})}),this.setCart(n),t.$broadcast("ngCart:itemRemoved",void 0),t.$broadcast("ngCart:change",{});r.open({templateUrl:"app/templates/modals/modal.confirm-remove-action.tpl.htm",appendTo:void 0,controllerAs:"$ctrl",controller:["$uibModalInstance",function(t){this.dismissModal=function(){t.close()}}]})},this.empty=function(){t.$broadcast("ngCart:change",{}),this.$cart.items=[],e.localStorage.removeItem("cart")},this.isEmpty=function(){return!(this.$cart.items.length>0)},this.toObject=function(){if(0===this.getItems().length)return!1;var t=[];return angular.forEach(this.getItems(),function(e){t.push(e.toObject())}),{shipping:this.getShipping(),tax:this.getTax(),taxRate:this.getTaxRate(),subTotal:this.getSubTotal(),totalCost:this.totalCost(),items:t}},this.$restore=function(t){var e=this;e.init(),e.$cart.shipping=t.shipping,e.$cart.tax=t.tax,angular.forEach(t.items,function(t){e.$cart.items.push(new n(t._id,t._name,t._price,t._quantity,t._data))}),this.$save()},this.$save=function(){var t=this.getCart().items.map(function(t){return t._data.p3sServices||t._data.p3sServicesWithFees.map(function(t){t.form1200FeeUI&&(t.form1200FeeUI.data=null),t.renewalFeeUI&&(t.renewalFeeUI.data=null),t.grantFeeUI&&(t.grantFeeUI.data=null),t.validationFeeUI&&(t.validationFeeUI.data=null)}),t});return a.set("cart",JSON.stringify(t))}}]).factory("ngCartItem",["$rootScope","$log",function(t,e){var n=function(t,e,n,a,r){this.setId(t),this.setName(e),this.setPrice(n),this.setQuantity(a),this.setData(r)};return n.prototype.setId=function(t){t?this._id=t:e.error("An ID must be provided")},n.prototype.getId=function(){return this._id},n.prototype.setName=function(t){t?this._name=t:e.error("A name must be provided")},n.prototype.getName=function(){return this._name},n.prototype.setPrice=function(t){var n=parseFloat(t);n?n<=0?e.error("A price must be over 0"):this._price=n:e.error("A price must be provided")},n.prototype.getPrice=function(){return this._price},n.prototype.setQuantity=function(t,n){var a=parseInt(t);a%1==0?(!0===n?this._quantity+=a:this._quantity=a,this._quantity<1&&(this._quantity=1)):(this._quantity=1,e.info("Quantity must be an integer and was defaulted to 1"))},n.prototype.getQuantity=function(){return this._quantity},n.prototype.setData=function(t){t&&(this._data=t)},n.prototype.getData=function(){if(this._data)return this._data;e.info("This item has no data")},n.prototype.getTotal=function(){return+parseFloat(this.getQuantity()*this.getPrice()).toFixed(2)},n.prototype.toObject=function(){return{id:this.getId(),name:this.getName(),price:this.getPrice(),quantity:this.getQuantity(),data:this.getData(),total:this.getTotal()}},n}]).service("store",["$window",function(t){return{get:function(e){if(t.localStorage.getItem(e)){var n=angular.fromJson(t.localStorage.getItem(e));return JSON.parse(n)}return!1},set:function(e,n){return void 0===n?t.localStorage.removeItem(e):t.localStorage.setItem(e,angular.toJson(n)),t.localStorage.getItem(e)}}}]).controller("CartController",["$scope","ngCart",function(t,e){t.ngCart=e}]).value("version","1.0.0").name;n("./node_modules/angular-moment/angular-moment.js"),n("./node_modules/angular-nvd3/index.js"),n("./node_modules/angular-croppie/angular-croppie.js");function p(t,e,n,a,r,i,s,o,l,c){t.defaults.headers.get||(t.defaults.headers.get={}),window.ppdomain="http://localhost:8080/p3sweb/",t.defaults.headers.get["If-Modified-Since"]="Mon, 26 Jul 1997 05:00:00 GMT",l.defaultFontSet("FontAwesome").fontSet("fa","FontAwesome"),s.idle(500),s.timeout(30),i.interval(20),r.errorOnUnhandledRejections(!1),o.setStorageType("sessionStorage").setDefaultToCookie(!1).setNotify(!0,!0)}p.$inject=["$httpProvider","$urlRouterProvider","$uibModalProvider","$compileProvider","$qProvider","KeepaliveProvider","IdleProvider","localStorageServiceProvider","$mdIconProvider","$mdPanelProvider"];var u=s.a.module("services.user-service",[]).factory("userService",f).name;function f(t,e){var n,a=ppdomain+"rest-user/";return{fetchUser:function(){var n=e.defer();return t.get(a).then(function(t){n.resolve(t.data)},function(t){console.error("Error while fetching user"),n.reject(t)}),n.promise},updateUser:function(r){var i=e.defer();return t.put(a,r,n).then(function(t){i.resolve(t.data)},function(t){i.reject(t)}),i.promise},listUsers:function(){var n=e.defer();return t.get(ppdomain+"rest-users/").then(function(t){n.resolve(t.data)},function(t){n.reject(t)}),n.promise}}}f.$inject=["$http","$q"];var m=angular.module("services.core-service",[]).factory("coreService",g).name;function g(t,e,n){var a=ppdomain+"partner-details/",r={getMessages:function(){var e=t.defer();return n.get(ppdomain+"login-messages/").then(function(t){e.resolve(t.data)},function(t){console.error("Error while fetching messages"),e.reject(t)}),e.promise},supressMessages:function(e){var a=t.defer();return n.post(ppdomain+"suppress-login-messages/",e).then(function(t){a.resolve(t)},function(t){a.reject(t)}),a.promise},ppContact:function(){var e=t.defer();return n.get(a).then(function(t){e.resolve(t.data)},function(t){e.resolve(t)}),e.promise},openAppGuide:function(){return r.appGuideOpen=!r.appGuideOpen},appGuideOpen:!1};return r}g.$inject=["$q","$timeout","$http"];var v=angular.module("services.organise-colour-service",[]).factory("OrganiseColourService",h).name;function h(t,e){return{getNextColour:function(t,e){var n;if("bg"===e)switch(t){case"Green":n="bg-phase-amber";break;case"Amber":n="bg-phase-red";break;case"Red":n="bg-phase-blue";break;case"Blue":n="bg-phase-black";break;case"Black":n="bg-white"}return n},getCurrColour:function(t,e){var n;if("text"===e)switch(t){case"Green":n="txt-phase-green";break;case"Amber":n="txt-phase-amber";break;case"Red":n="txt-phase-red";break;case"Blue":n="txt-phase-blue";break;case"Black":n="txt-phase-black"}if("bg"===e)switch(t){case"Green":n="bg-phase-green";break;case"Amber":n="bg-phase-amber";break;case"Red":n="bg-phase-red";break;case"Blue":n="bg-phase-blue";break;case"Black":n="bg-phase-black"}return n}}}h.$inject=["$http","$q"];var b=angular.module("services.patents-rest-service",[v]).factory("PatentsRestService",y).name;function y(t,e,n){var a,r=ppdomain+"rest-patents/";return{fetchAllPatents:function(){console.log("get patent");var r=e.defer();return t.get(ppdomain+"rest-patents-portfolio/").then(function(t){t.data.map(function(t){return t.p3sServices.map(function(e){return"postvalidation"===e.serviceType&&(e.serviceType="----",e.serviceStatusUI="N/A"),"postgrant"==e.serviceType&&(e.serviceType="----"),e.actionID=t.patentID+function(t){for(var e="",n=0;n<t.length;n++)e+=t.charCodeAt(n).toString();return parseInt(e.substring(2,9))}(e.serviceType),e.currentStageColour&&(e.cssCurrent=n.getCurrColour(e.currentStageColour,"text")),e.nextStageColour&&(e.cssNext=n.getCurrColour(e.nextStageColour,"text")),e})}),a=t.data.map(function(t){return t.p3sServices.map(function(e){var n={};return n.patentID=t.patentID,n.serviceType=e.serviceType,n.actionID=e.actionID,n})}),r.resolve(t.data)},function(t){console.error("Error: Unable to fetch all patents. Error Response:",t),r.reject(t)}),console.log("return"),r.promise},updatePatent:function(n,a){n.p3sServicesWithFees.map(function(t){t.form1200FeeUI=null,t.grantFeeUI=null,t.validationFeeUI=null,t.renewalFeeUI=null});var i=e.defer();return t.put(r+a,n).then(function(t){i.resolve(t.data)},function(t){console.error("Error: Unable to update patent. Error Response:",t),i.reject(t)}),i.promise},savePatent:function(n){var a=e.defer();return t.post(ppdomain+"rest-patents/",n).then(function(t){a.resolve(t.data)},function(t){console.error("Error: Unable to save patent. Error Response:",t),a.reject(t)}),a.promise},deletePatent:function(n){var a=e.defer();return t.delete(r+n).then(function(t){a.resolve(t.data)},function(t){console.error("Error: Unable to delete patent. Error Response:",t),a.reject(t)}),a.promise},fetchPatentItem:function(r){var i=e.defer();return t.get(ppdomain+"rest-patent/"+r).then(function(t){if(void 0!==a&&void 0!==a||i.reject(t.data),a.length){var e=[].concat.apply([],a);t.data.p3sServicesWithFees.map(function(t){t.serviceType="postvalidation"==t.serviceType?"N/A":t.serviceType,t.serviceStatus="postvalidation"==t.serviceType?"validated":t.serviceStatus;var a=e.filter(function(e){return e.serviceType===t.serviceType&&r==e.patentID}).map(function(t){return t.actionID});return t.actionID=a[0],t.currentStageColour&&(t.cssCurrent=n.getCurrColour(t.currentStageColour,"text")),t.nextStageColour&&(t.cssNext=n.getCurrColour(t.nextStageColour,"text")),t}),i.resolve(t.data)}},function(t){console.error("Error: Unable to fetch patent. Error Response:",t),i.reject(t)}),i.promise}}}y.$inject=["$http","$q","OrganiseColourService"];var x=angular.module("ppApp.core",[m,b]).controller("coreCtrl",w).name;function w(t,e,n,a,r,i,s,o,l,c){function d(){e.warning&&(e.warning.close(),e.warning=null),e.timedout&&(e.timedout.close(),e.timedout=null)}e.$on("Keepalive",function(){l.get(ppdomain+"keep-session-alive/")}),e.$on("IdleStart",function(){d(),e.warning=t.open({templateUrl:"app/templates/modals/modal.idle.tpl.htm",windowClass:"modal-danger",appendTo:void 0})}),e.$on("IdleEnd",function(){d()}),e.$on("IdleTimeout",function(){d(),ngCart.empty(),l.post("http://localhost:8080/p3sweb/resources/j_spring_security_logout").then(function(t){window.location.reload("http://localhost:8080/p3sweb/login")},function(t){console.log(t)})}),i.fetchAllPatents().then(function(n){0===n.length&&t.open({templateUrl:"app/templates/modals/modal.welcome-message.tpl.htm",scope:e,controllerAs:"$ctrl",controller:["$uibModalInstance",function(t){this.dismissModal=function(){t.close()}}]})},function(t){console.log(t)})}w.$inject=["$uibModal","$scope","coreService","localStorageService","$timeout","PatentsRestService","Idle","Keepalive","$http","$cookies"];var S=s.a.module("services.DashboardService",[]).factory("DashboardService",$).name;function $(t,e,n){var a={sortPatents:function(t){var e={epct:{Green:[],Amber:[],Red:[],Grey:[]},renewal:{Green:[],Amber:[],Red:[],Blue:[],Black:[],Grey:[]},grant:{Green:[],Amber:[],Red:[],Grey:[]},validation:{Green:[],Grey:[]}},n=t.map(function(t){return t.p3sServices.map(function(e){return{patentID:t.patentID,ep_ApplicationNumber:t.ep_ApplicationNumber,clientRef:t.clientRef,p3sServices:[e]}})});[].concat.apply([],n).forEach(function(t){t.p3sServices.forEach(function(n,a){var r=n.currentStageColour.toLowerCase(),i=r.charAt(0).toUpperCase()+r.slice(1);"validation"==n.serviceType&&e.validation.Green.push(t),"postgrant"!==n.serviceType&&"validation"!==n.serviceType&&"----"!==n.serviceType&&e[n.serviceType][i].push(t)})}),a.getPatents=e},getPatents:{}};return a}$.$inject=["$http","$q","PatentsRestService"];var _=angular.module("services.fx-service",[]).factory("FxService",k).name;function k(t,e){return{fetchFxWeek:function(){var n=t.defer();return e.get(ppdomain+"rest-fxrates/week").then(function(t){n.resolve(t.data)},function(t){n.reject(t.data)}),n.promise},fetchFxMonth:function(){console.log("fetch what");var n=t.defer();return e.get(ppdomain+"rest-fxrates/month").then(function(t){console.log("fetch response",t),n.resolve(t.data)},function(t){n.reject(t.data)}),n.promise},fetchFx:function(){var n=t.defer();return e.get(ppdomain+"rest-fxrate/").then(function(t){n.resolve(t.data)},function(t){n.reject(t.data)}),n.promise}}}k.$inject=["$q","$http"];var T=angular.module("services.calculate",[]).factory("CalculateService",C).name;function C(t,e){return{calculateHours:function(t,e){var n=(new Date).getTime(),a="";switch(t){case"Green":a=n-e.greenStartDate;break;case"Amber":a=n-e.amberStartDate;break;case"Red":a=n-e.redStartDate;break;case"Blue":a=n-e.blueStartDate;break;case"Black":"Show price"==data.renewalStatus&&(a=n-e.blackStartDate)}return a},recentActivity:function(t){var e=(t/1e3).toFixed(0),n=Math.floor(e/60),a="";n>59&&(a=Math.floor(n/60),n=(n-=60*(a=a>=10?a:"0"+a))>=10?n:"0"+n);if(e=(e=Math.floor(e%60))>=10?e:"0"+e,""!==a&&a<48)return!0}}}C.$inject=["$q","$timeout"];var j=angular.module("services.cost-analysis",[]).factory("CostAnalysisService",I).name;function I(t,e){return{fetchCa:function(n,a){var r=[],i=e.defer(),s={};return a.forEach(function(e){"Not In Progress"!=e.saleType&&(s[e.serviceType]=e,"epct"==e.serviceType&&r.push(t.get(ppdomain+"rest-form1200-cost-analysis/"+n)),"renewal"==e.serviceType&&r.push(t.get(ppdomain+"rest-cost-analysis/"+n)),"grant"==e.serviceType&&r.push(t.get(ppdomain+"rest-grant-cost-analysis/"+n)))}),e.all(r).then(function(t){t.map(function(t,e){return t.info=Object.keys(s)[e],t}),i.resolve(t)},function(t){console.error("Error: Unable to fetch cost analysis"),i.reject(t)}),i.promise}}}I.$inject=["$http","$q"];var D=angular.module("services.TransactionService",[]).factory("TransactionService",P).name;function P(t,e){var n=ppdomain+"rest-current-transactions/",a=ppdomain+"rest-historic-transactions/";return{fetchCurrentTransactions:function(){var a=e.defer();return t.get(n).then(function(t){t.data.map(function(t){return t.renewalUIs.length&&t.renewalUIs.map(function(t){t.newType="Renewal"}),t.grantUIs.length&&t.grantUIs.map(function(t){t.newType="Grant"}),t.epctUIs.length&&t.epctUIs.map(function(t){t.newType="Euro-PCT"}),t.validationUIs.length&&t.validationUIs.map(function(t){t.newType="Validation"}),t.serviceUIs=[],t.serviceUIs=t.serviceUIs.concat(t.renewalUIs,t.grantUIs,t.epctUIs,t.validationUIs),t}),a.resolve(t.data)},function(t){console.error("Error: unable to fetch current transactions: Error msg: ",t),a.reject(t)}),a.promise},fetchTransactionHistory:function(){var n=e.defer();return t.get(a).then(function(t){t.data.map(function(t){return t.renewalUIs.length&&t.renewalUIs.map(function(t){t.newType="Renewal"}),t.grantUIs.length&&t.grantUIs.map(function(t){t.newType="Grant"}),t.epctUIs.length&&t.epctUIs.map(function(t){t.newType="Euro-PCT"}),t.validationUIs.length&&t.validationUIs.map(function(t){t.newType="Validation"}),t.serviceUIs=[],t.serviceUIs=t.serviceUIs.concat(t.renewalUIs,t.grantUIs,t.epctUIs,t.validationUIs),t}),n.resolve(t.data)},function(t){console.error("Error: unable to fetch transacrtion history: Error msg: ",t),n.reject(t)}),n.promise},fetchAllTransactions:function(){var t=e.defer();return e.all([this.fetchCurrentTransactions(),this.fetchTransactionHistory()]).then(function(e){var n=e[0].concat(e[1]).map(function(t){t.transTypeUI=!0===t.historic?"Historic":"Current";var e=t.serviceUIs.some(function(t){return"Validation"==t.newType});if(!0===e){var n=t.serviceUIs[0].validationStatus;("Funds Sent"===t.latestTransStatus&&"Payment in progress"==n||"Payment in progress"==n&&"EPO Received"===t.latestTransStatus||"PA instructed"==n&&"EPO Received"===t.latestTransStatus)&&(t.latestTransStatus="Processing Funds"),("Payment in progress"!==n&&"EPO Received"===t.latestTransStatus||"Associates Instructed"===t.latestTransStatus)&&(t.latestTransStatus="Processing")}return t.actionProgress=function(t,e){var n,a=(n=1==t?["Initiated","Awaiting Funds","Processing Funds","Processing","Completed"]:["Initiated","Awaiting Funds","Funds Received","Funds Sent","EPO Received","EPO Instructed","Completed"]).indexOf(e),r=n.length;return Math.round(100*(a+1)/r)}(e,t.latestTransStatus),t.serviceUIs.map(function(t,e){return void 0!==t.patentUI?(t.appAndType=t.patentUI.ep_ApplicationNumber+" ("+t.newType+")",""==t.patentUI.clientRef&&(t.patentUI.clientRef="[No Client Reference Provided]")):(t.patentUI={},t.patentUI.clientRef=t.clientRef,t.appAndType=t.patentApplicationNumber+" ("+t.newType+")",""==t.patentUI.clientRef&&(t.patentUI.clientRef="[No Client Reference Provided]")),t}),t});t.resolve(n)},function(t){console.error("Error fetching all transactions. Error: ",t)}),t.promise},actionProgress:function(t){var e=0;switch(t){case"Initiated":e=14;break;case"Awaiting Funds":e=28;break;case"Funds Received":e=42;break;case"Funds Sent":e=56;break;case"EPO Received":e=70;break;case"EPO Instructed":e=84;break;case"Completed":e=100}return e}}}function U(t,e,n,a,r){n.formalityData={},n.dashboardLoaded=!1,n.graphsLoaded=!1,console.log("init"),n.promise=r.fetchAllPatents(),console.log("next init"),n.promise.then(function(t){if(console.log("first response"),n.$$destroyed)throw"Scope destroyed";return t}).then(function(e){a.sortPatents(e),n.formalityData=a.getPatents,"dashboard"===t.current.name&&(console.log("whattt"),t.go("dashboard.content",{patents:e},{reload:!1}))})}function A(t,e){var n=this;function a(t){for(var e in t)if(t[e])return!1;return!0}function r(t,e,n){return e.some(function(e){return!0===t[n][e[n]]})}t.filter={},t.$parent.promise.then(function(e){console.log("actions available"),e=e.map(function(t){return t.p3sServices.map(function(e){return{patentID:t.patentID,ep_ApplicationNumber:t.ep_ApplicationNumber,clientRef:t.clientRef,p3sServices:[e]}})});var i=[].concat.apply([],e);t.availableActions=i.filter(function(t){return"Online"==t.p3sServices[0].saleType||"Offline"==t.p3sServices[0].saleType}),n.chipOptions=[],n.showFilter=function(e,a){e.open(a),t.categories=["saleType","currentStageColour","nextStageColour","serviceType"],t.getItems=function(t,e){return(e||[]).map(function(e){return e.p3sServices[0][t]}).filter(function(t,e,n){return void 0!==t&&null!==t&&n.indexOf(t)===e})},t.updateFiltered=function(t,e,a){if(!0===e&&("epct"===a&&(a="Euro-PCT"),n.chipOptions.push({cat:a,value:e,prop:t})),!1===e){var r=n.chipOptions.indexOf(a);n.chipOptions.splice(r,1)}},t.closeDialog=function(){$mdDialog.hide()}},t.filterByPropertiesMatchingAND=function(e){var n=!0;for(var i in t.filter)if(t.filter.hasOwnProperty(i)){if(a(t.filter[i]))continue;if(!r(t.filter,e.p3sServices,i)){n=!1;break}}return n}})}function E(t,e,n){console.log("fxchart");var a,r=this;function i(){for(var t=[],e=0;e<n.length;e++)t.push([n[e].rateActiveDate,n[e].rate]);return[{values:t.reverse(),color:"#2ca02c"}]}t.$parent.promise.then(function(t){console.log("f chart"),a=e(function(){r.lineData=i,r.lineOptions={chart:{type:"lineChart",height:450,margin:{top:20,right:20,bottom:55,left:55},clipEdge:!1,tooltip:{hideDelay:0},showLegend:!1,x:function(t,e){return t[0]},y:function(t){return t[1]},useInteractiveGuideline:!0,xAxis:{tickFormat:function(t,e){return d3.time.format("%x")(new Date(t))},showMaxMin:!1,rotateLabels:-30,ticks:24},xScale:d3.time.scale(),yAxis:{tickFormat:function(t){return d3.format(".04f")(t)},axisLabelDistance:-10,ticks:10,showMaxMin:!1},tooltip:{keyFormatter:function(t){return d3.time.format("%x")(new Date(t))}},useVoronoi:!1,lines:{interactive:!0},showXAxis:!0,showYAxis:!0,callback:function(t){}}}}),r.fxChartLoaded=!0}),t.$on("$destroy",function(){e.cancel(a)})}function O(t,e,n){var a,r=this;e.$parent.promise.then(function(t){console.log("europct graph"),a=n(function(){r.donutOptions={chart:{type:"pieChart",height:200,donut:!0,margin:{top:0,right:0,bottom:0,left:0},tooltip:{hideDelay:0},x:function(t){return t.key},y:function(t){return t.y},donutRatio:.6,duration:500,showLabels:!1,showLegend:!1,valueFormat:function(t){return t}}};r.donutData={phases:[{key:"Green",y:e.formalityData.epct.Green.length,color:"#53ab58"},{key:"Amber",y:e.formalityData.epct.Amber.length,color:"#f9b233"},{key:"Red",y:e.formalityData.epct.Red.length,color:"#e30613"},{key:"Grey",y:e.formalityData.epct.Grey.length,color:"#dbdbdb"}],total:function(){var t=0;return Object.keys(e.formalityData.epct).forEach(function(n){t+=e.formalityData.epct[n].length}),t}()};var t=document.createEvent("UIEvents");t.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(t)},300)}),e.$on("$destroy",function(){n.cancel(a)})}function R(t,e,n){var a,r=this;e.$parent.promise.then(function(t){console.log("grants graph"),e.$parent.dashboardLoaded=!0,a=n(function(){r.donutOptions={chart:{type:"pieChart",height:200,donut:!0,margin:{top:0,right:0,bottom:0,left:0},tooltip:{hideDelay:0},x:function(t){return t.key},y:function(t){return t.y},donutRatio:.6,duration:500,showLabels:!1,showLegend:!1,valueFormat:function(t){return t}}};r.donutData={phases:[{key:"Green",y:e.formalityData.grant.Green.length,color:"#53ab58"},{key:"Amber",y:e.formalityData.grant.Amber.length,color:"#f9b233"},{key:"Red",y:e.formalityData.grant.Red.length,color:"#e30613"},{key:"Grey",y:e.formalityData.grant.Grey.length,color:"#dbdbdb"}],total:function(){var t=0;return Object.keys(e.formalityData.grant).forEach(function(n){t+=e.formalityData.grant[n].length}),t}()};var t=document.createEvent("UIEvents");t.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(t)},300)}),e.$on("$destroy",function(){n.cancel(a)})}function F(t,e,n){var a,r=this;e.$parent.promise.then(function(t){console.log("renewals graph"),a=n(function(){r.donutOptions={chart:{type:"pieChart",height:200,donut:!0,margin:{top:0,right:0,bottom:0,left:0},tooltip:{hideDelay:0},x:function(t){return t.key},y:function(t){return t.y},donutRatio:.6,duration:500,showLabels:!1,showLegend:!1,valueFormat:function(t){return t}}};r.donutData={phases:[{key:"Green",y:e.formalityData.renewal.Green.length,color:"#53ab58"},{key:"Amber",y:e.formalityData.renewal.Amber.length,color:"#f9b233"},{key:"Red",y:e.formalityData.renewal.Red.length,color:"#e30613"},{key:"Blue",y:e.formalityData.renewal.Blue.length,color:"#0097ce"},{key:"Black",y:e.formalityData.renewal.Black.length,color:"#3c3c3b"},{key:"Grey",y:e.formalityData.renewal.Grey.length,color:"#dbdbdb"}],total:function(){var t=0;return Object.keys(e.formalityData.renewal).forEach(function(n){t+=e.formalityData.renewal[n].length}),t}()};var t=document.createEvent("UIEvents");t.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(t)},300),e.$on("$destroy",function(){n.cancel(a)})})}function N(t,e,n){var a,r=this;e.$parent.promise.then(function(t){console.log("validations graph"),a=n(function(){r.donutOptions={chart:{type:"pieChart",height:200,donut:!0,margin:{top:0,right:0,bottom:0,left:0},tooltip:{hideDelay:0},x:function(t){return t.key},y:function(t){return t.y},donutRatio:.6,duration:500,showLabels:!1,showLegend:!1,valueFormat:function(t){return t}}};r.donutData={phases:[{key:"Green",y:e.formalityData.validation.Green.length,color:"#53ab58"},{key:"Grey",y:e.formalityData.validation.Grey.length,color:"#dbdbdb"}],total:function(){var t=0;return Object.keys(e.formalityData.validation).forEach(function(n){t+=e.formalityData.validation[n].length}),t}()};var t=document.createEvent("UIEvents");t.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(t)},300)}),e.$on("$destroy",function(){n.cancel(a)})}function G(t){t.state("dashboard",{url:"/dashboard",template:n("./node_modules/html-loader/index.js!./app/features/dashboard/html/dashboard.tpl.htm"),controller:"DashboardController",controllerAs:"$ctrl"}).state("dashboard.content",{params:{patents:null},resolve:{fxRatesMonth:["FxService",function(t){return console.log("shoudl initiate"),t.fetchFxMonth()}]},views:{"europctsgraph@dashboard":{controller:"EuropctsGraphController",controllerAs:"$ctrl",templateUrl:n("./node_modules/html-loader/index.js!./app/features/dashboard/html/dashboard.europcts-graph.tpl.htm")},"renewalsgraph@dashboard":{controller:"RenewalsGraphController",controllerAs:"$ctrl",templateUrl:n("./node_modules/html-loader/index.js!./app/features/dashboard/html/dashboard.renewals-graph.tpl.htm")},"grantsgraph@dashboard":{controller:"GrantsGraphController",controllerAs:"$ctrl",templateUrl:n("./node_modules/html-loader/index.js!./app/features/dashboard/html/dashboard.grants-graph.tpl.htm")},"validationsgraph@dashboard":{controller:"ValidationsGraphController",controllerAs:"$ctrl",templateUrl:n("./node_modules/html-loader/index.js!./app/features/dashboard/html/dashboard.validations-graph.tpl.htm")},"actionsavailable@dashboard":{controller:"AvailableActionsController",controllerAs:"$ctrl",templateUrl:n("./node_modules/html-loader/index.js!./app/features/dashboard/html/dashboard.actions-available.tpl.htm")},"fxchartwidget@dashboard":{controller:"FxChartController",controllerAs:"$ctrl",templateUrl:n("./node_modules/html-loader/index.js!./app/features/dashboard/html/dashboard.fxchart-widget.tpl.htm")}}})}P.$inject=["$http","$q"],U.$inject=["$state","$timeout","$scope","DashboardService","PatentsRestService"],A.$inject=["$scope","$timeout"],E.$inject=["$scope","$timeout","fxRatesMonth"],O.$inject=["$stateParams","$scope","$timeout"],R.$inject=["$stateParams","$scope","$timeout"],F.$inject=["$stateParams","$scope","$timeout"],N.$inject=["$stateParams","$scope","$timeout"],G.$inject=["$stateProvider"],console.log("dashboard");var q=s.a.module("ppApp.dashboard",[S,b,T,j,D,_]).config(G).controller("DashboardController",U).controller("AvailableActionsController",A).controller("FxChartController",E).controller("EuropctsDonutController",O).controller("GrantsDonutController",R).controller("RenewalsDonutController",F).controller("ValidationsDonutController",N).name,M=angular.module("services.search-patent-service",[]).factory("SearchPatentService",L).name;function L(t,e){var n=ppdomain+"rest-search-patents/";return{findPatent:function(a){var r=e.defer(),i=n+a;return t.get(i).then(function(t){r.resolve(t)},function(t){switch(t.status){case 400:t.data="We've not been able to find that patent in the European Patent Register. Please enter an application number such as EP18123456.2";break;case 404:t.data="We’ve not been able to find Patent Application "+a+" in the European Patent Register. Please check the number you’re entering and try again.";break;case 204:t.data="It looks like we've already added Patent Application "+a+" in to the system. You should be able to find it in the List Patents page using the search boxes.";break;default:t.data=null}r.reject(t)}),r.promise}}}L.$inject=["$http","$q"];var B=n("./app/features/portfolio/controllers/portfolio.controller.js");function z(t){t.state("portfolio",{url:"/portfolio",template:n("./node_modules/html-loader/index.js!./app/features/portfolio/html/portfolio.tpl.htm"),controller:"PortfolioController",controllerAs:"$ctrl",params:{navigation:"portfolio"}})}z.$inject=["$stateProvider"];var Q=s.a.module("ppApp.portfolio",[b,M]).config(z).controller("PortfolioController",B.a).name,Y=angular.module("services.sidenav",[]).factory("SidenavService",function(){var t,e=[{name:"Dashboard",type:"link",state:"dashboard",icon:"far fa-tachometer-alt"}];return e.push({name:"Portfolio",type:"link",state:"portfolio",icon:"far fa-folders"}),e.push({name:"Transactions",type:"link",state:"transactions",icon:"far fa-money-check-alt"}),t={sections:e,toggleSelectSection:function(e){t.openedSection=t.openedSection===e?null:e},isSectionSelected:function(e){return t.openedSection===e},selectPage:function(e,n){n&&n.url&&$location.path(n.url),t.currentSection=e,t.currentPage=n}}}).name;var W=s.a.module("directives.sidenav.menutoggle",[]).directive("menuToggle",function(){return{scope:{section:"=",context:"="},template:n("./node_modules/html-loader/index.js!./app/features/sidenav/html/sidenav-nav-li.tpl.htm"),link:function(t,e){var n=t.context;t.isOpen=function(){return n.isOpen(t.section)},t.toggle=function(){n.toggleOpen(t.section)}}}}).name;var V=angular.module("directives.sidenav.menuLink",[]).directive("menuLink",function(){return{scope:{section:"="},template:n("./node_modules/html-loader/index.js!./app/features/sidenav/html/sidenav-li-item.tpl.htm"),link:function(t,e){e.parent().controller()}}}).name;var H=angular.module("components.sidenav",[]).component("sidenav",{template:n("./node_modules/html-loader/index.js!./app/features/sidenav/html/sidenav.tpl.htm"),controller:["$scope","$rootScope","$mdSidenav","$timeout","userService","SidenavService","ngCart","coreService","moment","FxService",function(t,e,n,a,r,i,s,o,l,c){var d=this;function p(t){return function(){n(t).toggle()}}d.toggleLeft=p("left"),d.toggleRight=p("right"),d.isOpen=function(t){return d.menu.isSectionSelected(t)},d.toggleOpen=function(t){d.menu.toggleSelectSection(t)},d.autoFocusContent=!1,d.menu=i,d.status={isFirstOpen:!0,isFirstDisabled:!1},r.fetchUser().then(function(t){d.user=t},function(t){console.log(t)}),c.fetchFx().then(function(t){d.fxRate=t.currentFXRate.rate},function(t){console.log(t)}),a(function(){!function t(){var e=l.tz("Etc/UTC").format("HH:mm MM/DD/YYYY"),n=l.tz("America/New_York").format("HH:mm MM/DD/YYYY");a(function(){d.utcTime=e,d.estTime=n,t()},500)}(),d.timeLoaded=!0}),d.empty=function(){s.empty()}}]}).name,J=s.a.module("ppApp.sidenav",[Y,H,W,V]).name;n("./node_modules/@fortawesome/fontawesome-pro/js/fontawesome.js"),n("./node_modules/@fortawesome/fontawesome-pro/js/solid.js"),n("./node_modules/@fortawesome/fontawesome-pro/js/regular.js"),n("./node_modules/@fortawesome/fontawesome-pro/js/brands.js");function X(t,e,n,a){console.log("startUp"),t.watch()}window.jQuery=r.a,window.$=r.a,s.a.module("ppApp",["ui.router","ngIdle","ngAnimate","ui.bootstrap","ngMaterial","ngTouch","angularMoment","LocalStorageModule","nvd3","ngCookies","angularCroppie","ngSanitize",o.a,u,d,x,q,Q,J]).config(p).run(X),X.$inject=["Idle","userService","$rootScope","$timeout"]}},[["./src/js/app.js",1,0]]]);
//# sourceMappingURL=app.43cc215e5326121a471a.js.map