{"code":"!function(e){var t=window.webpackHotUpdate;window.webpackHotUpdate=function(e,n){!function(e,t){if(y[e]&&w[e]){for(var n in w[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(h[n]=t[n]);0==--m&&0===g&&$()}}(e,n),t&&t(e,n)};var n,a=!0,r=\"a079a916a022e06628a0\",o=1e4,s={},i=[],c=[];function l(e){var t=C[e];if(!t)return j;var a=function(a){return t.hot.active?(C[a]?-1===C[a].parents.indexOf(e)&&C[a].parents.push(e):(i=[e],n=a),-1===t.children.indexOf(a)&&t.children.push(a)):(console.warn(\"[HMR] unexpected require(\"+a+\") from disposed module \"+e),i=[]),j(a)},r=function(e){return{configurable:!0,enumerable:!0,get:function(){return j[e]},set:function(t){j[e]=t}}};for(var o in j)Object.prototype.hasOwnProperty.call(j,o)&&\"e\"!==o&&Object.defineProperty(a,o,r(o));return a.e=function(e){return\"ready\"===p&&d(\"prepare\"),g++,j.e(e).then(t,function(e){throw t(),e});function t(){g--,\"prepare\"===p&&(b[e]||k(e),0===g&&0===m&&$())}},a}var u=[],p=\"idle\";function d(e){p=e;for(var t=0;t<u.length;t++)u[t].call(null,e)}var f,h,v,m=0,g=0,b={},w={},y={};function S(e){return+e+\"\"===e?+e:e}function P(e){if(\"idle\"!==p)throw new Error(\"check() is only allowed in idle status\");return a=e,d(\"check\"),(t=o,t=t||1e4,new Promise(function(e,n){if(\"undefined\"==typeof XMLHttpRequest)return n(new Error(\"No browser support\"));try{var a=new XMLHttpRequest,o=j.p+\"\"+r+\".hot-update.json\";a.open(\"GET\",o,!0),a.timeout=t,a.send(null)}catch(e){return n(e)}a.onreadystatechange=function(){if(4===a.readyState)if(0===a.status)n(new Error(\"Manifest request to \"+o+\" timed out.\"));else if(404===a.status)e();else if(200!==a.status&&304!==a.status)n(new Error(\"Manifest request to \"+o+\" failed.\"));else{try{var t=JSON.parse(a.responseText)}catch(e){return void n(e)}e(t)}}})).then(function(e){if(!e)return d(\"idle\"),null;w={},b={},y=e.c,v=e.h,d(\"prepare\");var t=new Promise(function(e,t){f={resolve:e,reject:t}});return h={},k(1),\"prepare\"===p&&0===g&&0===m&&$(),t});var t}function k(e){y[e]?(w[e]=!0,m++,function(e){var t=document.getElementsByTagName(\"head\")[0],n=document.createElement(\"script\");n.charset=\"utf-8\",n.src=j.p+\"\"+e+\".\"+r+\".hot-update.js\",t.appendChild(n)}(e)):b[e]=!0}function $(){d(\"ready\");var e=f;if(f=null,e)if(a)Promise.resolve().then(function(){return D(a)}).then(function(t){e.resolve(t)},function(t){e.reject(t)});else{var t=[];for(var n in h)Object.prototype.hasOwnProperty.call(h,n)&&t.push(S(n));e.resolve(t)}}function D(t){if(\"ready\"!==p)throw new Error(\"apply() is only allowed in ready status\");var n,a,o,c,l;function u(e){for(var t=[e],n={},a=t.slice().map(function(e){return{chain:[e],id:e}});a.length>0;){var r=a.pop(),o=r.id,s=r.chain;if((c=C[o])&&!c.hot._selfAccepted){if(c.hot._selfDeclined)return{type:\"self-declined\",chain:s,moduleId:o};if(c.hot._main)return{type:\"unaccepted\",chain:s,moduleId:o};for(var i=0;i<c.parents.length;i++){var l=c.parents[i],u=C[l];if(u){if(u.hot._declinedDependencies[o])return{type:\"declined\",chain:s.concat([l]),moduleId:o,parentId:l};-1===t.indexOf(l)&&(u.hot._acceptedDependencies[o]?(n[l]||(n[l]=[]),f(n[l],[o])):(delete n[l],t.push(l),a.push({chain:s.concat([l]),id:l})))}}}}return{type:\"accepted\",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function f(e,t){for(var n=0;n<t.length;n++){var a=t[n];-1===e.indexOf(a)&&e.push(a)}}t=t||{};var m={},g=[],b={},w=function(){console.warn(\"[HMR] unexpected require(\"+k.moduleId+\") to disposed module\")};for(var P in h)if(Object.prototype.hasOwnProperty.call(h,P)){var k;l=S(P);var $=!1,D=!1,A=!1,U=\"\";switch((k=h[P]?u(l):{type:\"disposed\",moduleId:P}).chain&&(U=\"\\nUpdate propagation: \"+k.chain.join(\" -> \")),k.type){case\"self-declined\":t.onDeclined&&t.onDeclined(k),t.ignoreDeclined||($=new Error(\"Aborted because of self decline: \"+k.moduleId+U));break;case\"declined\":t.onDeclined&&t.onDeclined(k),t.ignoreDeclined||($=new Error(\"Aborted because of declined dependency: \"+k.moduleId+\" in \"+k.parentId+U));break;case\"unaccepted\":t.onUnaccepted&&t.onUnaccepted(k),t.ignoreUnaccepted||($=new Error(\"Aborted because \"+l+\" is not accepted\"+U));break;case\"accepted\":t.onAccepted&&t.onAccepted(k),D=!0;break;case\"disposed\":t.onDisposed&&t.onDisposed(k),A=!0;break;default:throw new Error(\"Unexception type \"+k.type)}if($)return d(\"abort\"),Promise.reject($);if(D)for(l in b[l]=h[l],f(g,k.outdatedModules),k.outdatedDependencies)Object.prototype.hasOwnProperty.call(k.outdatedDependencies,l)&&(m[l]||(m[l]=[]),f(m[l],k.outdatedDependencies[l]));A&&(f(g,[k.moduleId]),b[l]=w)}var T,I=[];for(a=0;a<g.length;a++)l=g[a],C[l]&&C[l].hot._selfAccepted&&I.push({module:l,errorHandler:C[l].hot._selfAccepted});d(\"dispose\"),Object.keys(y).forEach(function(e){!1===y[e]&&function(e){delete installedChunks[e]}(e)});for(var x,R,E=g.slice();E.length>0;)if(l=E.pop(),c=C[l]){var M={},F=c.hot._disposeHandlers;for(o=0;o<F.length;o++)(n=F[o])(M);for(s[l]=M,c.hot.active=!1,delete C[l],delete m[l],o=0;o<c.children.length;o++){var O=C[c.children[o]];O&&(T=O.parents.indexOf(l))>=0&&O.parents.splice(T,1)}}for(l in m)if(Object.prototype.hasOwnProperty.call(m,l)&&(c=C[l]))for(R=m[l],o=0;o<R.length;o++)x=R[o],(T=c.children.indexOf(x))>=0&&c.children.splice(T,1);for(l in d(\"apply\"),r=v,b)Object.prototype.hasOwnProperty.call(b,l)&&(e[l]=b[l]);var H=null;for(l in m)if(Object.prototype.hasOwnProperty.call(m,l)&&(c=C[l])){R=m[l];var _=[];for(a=0;a<R.length;a++)if(x=R[a],n=c.hot._acceptedDependencies[x]){if(-1!==_.indexOf(n))continue;_.push(n)}for(a=0;a<_.length;a++){n=_[a];try{n(R)}catch(e){t.onErrored&&t.onErrored({type:\"accept-errored\",moduleId:l,dependencyId:R[a],error:e}),t.ignoreErrored||H||(H=e)}}}for(a=0;a<I.length;a++){var B=I[a];l=B.module,i=[l];try{j(l)}catch(e){if(\"function\"==typeof B.errorHandler)try{B.errorHandler(e)}catch(n){t.onErrored&&t.onErrored({type:\"self-accept-error-handler-errored\",moduleId:l,error:n,originalError:e}),t.ignoreErrored||H||(H=n),H||(H=e)}else t.onErrored&&t.onErrored({type:\"self-accept-errored\",moduleId:l,error:e}),t.ignoreErrored||H||(H=e)}}return H?(d(\"fail\"),Promise.reject(H)):(d(\"idle\"),new Promise(function(e){e(g)}))}var C={};function j(t){if(C[t])return C[t].exports;var a=C[t]={i:t,l:!1,exports:{},hot:function(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:n!==e,active:!0,accept:function(e,n){if(void 0===e)t._selfAccepted=!0;else if(\"function\"==typeof e)t._selfAccepted=e;else if(\"object\"==typeof e)for(var a=0;a<e.length;a++)t._acceptedDependencies[e[a]]=n||function(){};else t._acceptedDependencies[e]=n||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if(\"object\"==typeof e)for(var n=0;n<e.length;n++)t._declinedDependencies[e[n]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=t._disposeHandlers.indexOf(e);n>=0&&t._disposeHandlers.splice(n,1)},check:P,apply:D,status:function(e){if(!e)return p;u.push(e)},addStatusHandler:function(e){u.push(e)},removeStatusHandler:function(e){var t=u.indexOf(e);t>=0&&u.splice(t,1)},data:s[e]};return n=void 0,t}(t),parents:(c=i,i=[],c),children:[]};return e[t].call(a.exports,a,a.exports,l(t)),a.l=!0,a.exports}j.m=e,j.c=C,j.d=function(e,t,n){j.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},j.r=function(e){Object.defineProperty(e,\"__esModule\",{value:!0})},j.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return j.d(t,\"a\",t),t},j.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},j.p=\"\",j.h=function(){return r},l(\"./src/js/index.js\")(j.s=\"./src/js/index.js\")}({\"./app/app.config.js\":function(e,t,n){\"use strict\";function a(e,t,n,a,r,o,s){r.idle(500),r.timeout(30),a.http(ppdomain+\"keep-session-alive/\"),a.interval(20),e.when(\"\",\"/dashboard\").when(\"/\",\"/dashboard\").otherwise(\"/dashboard\"),o.dots=!0,o.autoplay=!1,n.errorOnUnhandledRejections(!1),s.setStorageType(\"sessionStorage\").setDefaultToCookie(!1).setNotify(!0,!0)}n.r(t),n.d(t,\"default\",function(){return a}),angular.module(\"ppApp\").config(a),a.$inject=[\"$urlRouterProvider\",\"$compileProvider\",\"$qProvider\",\"KeepaliveProvider\",\"IdleProvider\",\"slickCarouselConfig\",\"localStorageServiceProvider\"]},\"./app/app.module.js\":function(e,t,n){\"use strict\";function a(e,t,n,a,r,o){n.page=\"\",t.fetchUser().then(function(e){n.user=e},function(e){console.log(e)}),function e(){var t=moment.tz(\"Etc/UTC\").format(\"HH:mm MM/DD/YYYY\"),a=moment.tz(\"America/New_York\").format(\"HH:mm MM/DD/YYYY\");r(function(){n.utcTime=t,n.estTime=a,e()},500)}(),e.watch()}n.r(t),n.d(t,\"default\",function(){return a}),angular.module(\"ppApp\",[\"ui.router\",\"ngIdle\",\"ngAnimate\",\"ui.bootstrap\",\"ngCart\",\"ngMaterial\",\"slickCarousel\",\"angularMoment\",\"LocalStorageModule\",\"nvd3\"]),angular.module(\"ppApp\").run(a),a.$inject=[\"Idle\",\"userService\",\"$rootScope\",\"amMoment\",\"$timeout\"]},\"./app/app.routes.js\":function(e,t,n){\"use strict\";function a(e){e.state(\"dashboard\",{url:\"/dashboard\",resolve:{patents:[\"patentsRestService\",function(e){return e.fetchAllPatents()}],transactionHistory:[\"transactionHistoryService\",function(e){return e.fetchTransactionHistory()}],currentTransactions:[\"currentTransactionsService\",function(e){return e.fetchCurrentTransactions()}],fxRatesWeek:[\"fxService\",function(e){return e.fetchFxWeek()}],fxRatesMonth:[\"fxService\",function(e){return e.fetchFxMonth()}]},views:{\"@\":{templateUrl:\"p3sweb/app/views/dashboard/views/dashboard.htm\",controller:\"dashboardCtrl\",controllerAs:\"$ctrl\"},\"colourkeywidget@dashboard\":{templateUrl:\"p3sweb/app/views/dashboard/views/ui-views/colour-key-widget.htm\",controller:\"colourKeyCtrl\",controllerAs:\"$ctrl\"},\"graphdonutwidget@dashboard\":{controller:\"graphDonutCtrl\",controllerAs:\"$ctrl\",templateUrl:\"p3sweb/app/views/dashboard/views/ui-views/graph-donut-widget.htm\"},\"renewalswidget@dashboard\":{templateUrl:\"p3sweb/app/views/dashboard/views/ui-views/renewals-widget.htm\",controller:\"renewalsCarouselCtrl\",controllerAs:\"$ctrl\"},\"fxrateswidget@dashboard\":{templateUrl:\"p3sweb/app/views/dashboard/views/ui-views/renewal-cost.htm\",controller:\"renewalCostCtrl\",controllerAs:\"$ctrl\"},\"fxrateswidgetmd@dashboard\":{templateUrl:\"p3sweb/app/views/dashboard/views/ui-views/renewal-cost.htm\",controller:\"renewalCostCtrl\",controllerAs:\"$ctrl\"},\"fxchartwidget@dashboard\":{templateUrl:\"p3sweb/app/views/dashboard/views/ui-views/fxchart-widget.htm\",controller:\"fxChartCtrl\",controllerAs:\"$ctrl\"},\"recentactivitywidget@dashboard\":{templateUrl:\"p3sweb/app/views/dashboard/views/ui-views/recent-activity-widget.htm\",controller:\"recentActivityCtrl\",controllerAs:\"$ctrl\"}}}).state(\"profile\",{url:\"/profile\",templateUrl:\"p3sweb/app/views/user/views/user-profile.htm\",controller:\"userProfileCtrl\",controllerAs:\"$ctrl\"}).state(\"patents\",{url:\"/patents\",templateUrl:\"p3sweb/app/views/patents/views/list-patents.htm\",controller:\"listPatentsCtrl\",controllerAs:\"$ctrl\",resolve:{patents:[\"patentsRestService\",function(e){return e.fetchAllPatents()}]},params:{navigation:\"patentnav\"}}).state(\"patents.patent\",{url:\"/{patentId}/:patentHref\",resolve:{patent:[\"patents\",\"$stateParams\",function(e,t){return e.find(function(e){return e.id==t.patentId})}],costAnalysis:[\"patentsRestService\",\"$stateParams\",function(e,t){return e.fetchCostAnalysis(t.patentId)}],renewal:[\"patentsRestService\",\"$stateParams\",function(e,t){return e.fetchRenewalHistory(t.patentId)}]},views:{\"@patents\":{templateUrl:\"p3sweb/app/views/patents/views/patent-item.htm\",controller:\"patentItemCtrl\",controllerAs:\"$ctrl\"},\"patentinfo@patents.patent\":{templateUrl:\"p3sweb/app/views/patents/views/ui-views/patent-info.htm\",controller:\"patentInfoCtrl\",controllerAs:\"$ctrl\"},\"patentcostanalysis@patents.patent\":{templateUrl:\"p3sweb/app/views/patents/views/ui-views/patent-costanalysis.htm\",controller:\"patentCostAnalysisCtrl\",controllerAs:\"$ctrl\"},\"patentrenewals@patents.patent\":{templateUrl:\"p3sweb/app/views/patents/views/ui-views/patent-renewals.htm\",controller:\"patentRenewalsCtrl\",controllerAs:\"$ctrl\"}},params:{patentHref:null}}).state(\"search-patent\",{url:\"/search-patent\",templateUrl:\"p3sweb/app/views/patents/views/search-patent.htm\",controller:\"searchPatentCtrl\",controllerAs:\"$ctrl\",params:{navigation:\"patentnav\"}}).state(\"search-patent.add-patent\",{url:\"?params\",templateUrl:\"p3sweb/app/views/patents/views/ui-views/add-patent.htm\",controller:\"addPatentCtrl\",controllerAs:\"$ctrl\",params:{patent:null}}).state(\"current-transactions\",{url:\"/current-transactions\",templateUrl:\"p3sweb/app/views/transactions/views/current-transactions.htm\",controller:\"currentTransactionsCtrl\",controllerAs:\"$ctrl\",resolve:{currentTransactions:[\"currentTransactionsService\",function(e){return e.fetchCurrentTransactions()}]},params:{navigation:\"transactionnav\"}}).state(\"current-transactions.current-transaction-item\",{url:\"/{transId}/:transHref\",templateUrl:\"p3sweb/app/views/transactions/views/current-transaction-item.htm\",controller:\"currentTransactionItemCtrl\",controllerAs:\"$ctrl\",resolve:{currentTransactionItem:[\"currentTransactions\",\"$stateParams\",function(e,t){return e.find(function(e){return e.id==t.transId})}]},params:{transHref:null}}).state(\"transaction-history\",{url:\"/transaction-history\",templateUrl:\"p3sweb/app/views/transactions/views/transaction-history.htm\",controller:\"transactionHistoryCtrl\",controllerAs:\"$ctrl\",resolve:{transactionHistory:[\"transactionHistoryService\",function(e){return e.fetchTransactionHistory()}]},params:{navigation:\"transactionnav\"}}).state(\"transaction-history.transaction-history-item\",{url:\"/{transHistoryId}\",templateUrl:\"p3sweb/app/views/transactions/views/transaction-history-item.htm\",controller:\"transactionHistoryItemCtrl\",controllerAs:\"$ctrl\",resolve:{transactionHistoryItem:[\"transactionHistory\",\"$stateParams\",function(e,t){return e.find(function(e){return e.id==t.transHistoryId})}]}}).state(\"basket\",{url:\"/basket\",templateUrl:\"p3sweb/app/views/checkout/views/basket.htm\",controller:\"basketCtrl\",controllerAs:\"$ctrl\"}).state(\"bank-transfer-preparation\",{url:\"/bank-transfer-preparation\",templateUrl:\"p3sweb/app/views/checkout/views/bank-transfer-preparation.htm\",controller:\"bankTransferPrepCtrl\",controllerAs:\"$ctrl\",params:{orderObj:null,patentObj:null}}).state(\"bank-transfer-success\",{url:\"/bank-transfer-success\",templateUrl:\"p3sweb/app/views/checkout/views/bank-transfer-success.htm\",controller:\"bankTransferSuccessCtrl\",controllerAs:\"$ctrl\",params:{orderObj:null}})}n.r(t),n.d(t,\"default\",function(){return a}),angular.module(\"ppApp\").config(a),a.$inject=[\"$stateProvider\"]},\"./app/controllers/checkout.bankTransferPrep.ctrl.js\":function(e,t,n){\"use strict\";function a(e,t,n,a,r,o,s){var i=this;if(r.page=\"Confirm Order\",i.patentObj=a.patentObj,null===i.patentObj)t.go(\"patents\");else{var c=a.orderObj;i.openCancelTransModal=function(){o.open({templateUrl:\"p3sweb/app/views/checkout/views/modals/modal-cancel-transaction.htm\",appendTo:void 0,controller:function(e,n){n.dismissModal=function(){e.close()},n.cancelTrans=function(){s.empty(),e.close(),t.go(\"patents\")},n.cancel=function(){e.dismiss(\"cancel\")}}})},i.commitTransfer=function(){i.commitTransferBtn=!0,e.commitTransfer(c).then(function(e){c=e.data},function(e){e&&o.open({templateUrl:\"p3sweb/app/views/checkout/views/modals/modal-commit-error.htm\",appendTo:void 0,controller:function(e,t){t.dismissModal=function(){e.close()},t.cancel=function(){e.dismiss(\"cancel\")}}})})},c.totalCostUSD=a.patentObj.totalCostUSD}}n.r(t),t.default=angular.module(\"ppApp\").controller(\"bankTransferPrepCtrl\",a),a.$inject=[\"bankTransferCommitService\",\"$state\",\"$scope\",\"$stateParams\",\"$rootScope\",\"$uibModal\",\"ngCart\"]},\"./app/controllers/checkout.bankTransferSuccess.ctrl.js\":function(e,t){function n(e,t,n){t.page=\"Bank Transfer Details\",e.orderObj=n.orderObj}angular.module(\"ppApp\").controller(\"bankTransferSuccessCtrl\",n),n.$inject=[\"$scope\",\"$rootScope\",\"$stateParams\"]},\"./app/controllers/checkout.basket.ctrl.js\":function(e,t){function n(e){e.page=\"Basket\"}angular.module(\"ppApp\").controller(\"basketCtrl\",n),n.$inject=[\"$rootScope\"]},\"./app/controllers/core.core.ctrl.js\":function(e,t){function n(e,t,n,a,r,o,s,i,c,l){var u=[],p=!0,d=d;function d(){var o=a.get(\"counter\");null===o&&(a.set(\"counter\",1),o=a.get(\"counter\"),n.getMessages().then(function(n){(new Date).getTime(),n.urgentPatents.length>0&&(n.urgentPatents.forEach(function(e){u.push(e)}),r(function(){e.open({templateUrl:\"p3sweb/app/views/app/views/modals/urgent-message-modal.htm\",scope:t,controller:function(e,n){t.urgentPatents=n,t.urgentOk=function(){e.close()},t.urgentDismissModal=function(){e.dismiss()}},resolve:{message:function(){return u}}})},500))},function(e){console.log(e)}),r(function(){!1===p&&(console.log(\"hello\"),e.open({templateUrl:\"p3sweb/app/views/app/views/modals/welcome-message-modal.htm\",scope:t,controller:function(e){t.dismissWelcomeModal=function(){e.close()}}}))},350))}function f(){t.warning&&(t.warning.close(),t.warning=null),t.timedout&&(t.timedout.close(),t.timedout=null)}o.fetchAllPatents().then(function(e){0===e.length&&(p=!1)},function(e){console.log(e)}),d(),t.$on(\"IdleStart\",function(){f(),t.warning=e.open({templateUrl:\"warning-dialog.html\",windowClass:\"modal-danger\"})}),t.$on(\"IdleEnd\",function(){f()}),t.$on(\"IdleTimeout\",function(){f(),l.empty(),c.post(\"http://localhost:8080/p3sweb/resources/j_spring_security_logout\").then(function(e){window.location.reload(\"http://localhost:8080/p3sweb/login\")},function(e){console.log(e)})})}angular.module(\"ppApp\").controller(\"coreCtrl\",n),n.$inject=[\"$uibModal\",\"$scope\",\"dashboardService\",\"localStorageService\",\"$timeout\",\"patentsRestService\",\"Idle\",\"Keepalive\",\"$http\",\"ngCart\"]},\"./app/controllers/core.mainNav.ctrl.js\":function(e,t){function n(e,t,n,a){function r(e){return function(){t(e).toggle()}}e.toggleLeft=r(\"left\"),e.toggleRight=r(\"right\")}angular.module(\"ppApp\").controller(\"mainNavCtrl\",n),n.$inject=[\"$scope\",\"$mdSidenav\",\"ngCart\",\"$timeout\"]},\"./app/controllers/dashboard.colourKey.ctrl.js\":function(e,t){function n(e,t,n,a,r){if(this.selectedPhase=r,this.setPhase=function(t){e.$emit(\"phaseChange\",{phase:t}),r.setPhase(t,o)},e.$on(\"updatePhase\",function(n,a){t(function(){e.activeTab=r.getPhase().phase.index})}),n){var o=a.phases(n);this.setPhase(\"green\")}}angular.module(\"ppApp\").controller(\"colourKeyCtrl\",n),n.$inject=[\"$scope\",\"$timeout\",\"patents\",\"patentPhasesService\",\"selectPhaseService\"]},\"./app/controllers/dashboard.dashboard.ctrl.js\":function(e,t){function n(e,t,n,a){var r=this;a.page=\"Dashboard\",n(function(){r.animate=!0},100),r.date=(new Date).getTime(),e.$on(\"phaseChange\",function(t,n){e.$broadcast(\"updatePhase\",{phase:n.phase})})}angular.module(\"ppApp\").controller(\"dashboardCtrl\",n),n.$inject=[\"$scope\",\"$state\",\"$timeout\",\"$rootScope\"]},\"./app/controllers/dashboard.fxChart.ctrl.js\":function(e,t){function n(e,t,n,a,r){var o=this;function s(){chartValueArrs=[];for(var e=0;e<r.length;e++)chartValueArrs.push([r[e].rateActiveDate,r[e].rate]);return[{values:chartValueArrs.reverse(),color:\"#2ca02c\"}]}t(function(){o.lineData=s,o.lineOptions={chart:{type:\"lineChart\",height:450,margin:{top:20,right:20,bottom:55,left:55},clipEdge:!1,tooltip:{hideDelay:0},showLegend:!1,x:function(e,t){return e[0]},y:function(e){return e[1]},useInteractiveGuideline:!0,xAxis:{tickFormat:function(e,t){return d3.time.format(\"%x\")(new Date(e))},showMaxMin:!1,rotateLabels:-30,ticks:24},xScale:d3.time.scale(),yAxis:{tickFormat:function(e){return d3.format(\".04f\")(e)},axisLabelDistance:-10,ticks:10,showMaxMin:!1},tooltip:{keyFormatter:function(e){return d3.time.format(\"%x\")(new Date(e))}},useVoronoi:!1,lines:{interactive:!0},showXAxis:!0,showYAxis:!0,callback:function(e){}}}},200)}angular.module(\"ppApp\").controller(\"fxChartCtrl\",n),n.$inject=[\"$scope\",\"$timeout\",\"patents\",\"patentPhasesService\",\"fxRatesMonth\"]},\"./app/controllers/dashboard.graphDonut.ctrl.js\":function(e,t){function n(e,t,n,a,r){var o=this;n&&(o.patents=n,o.patentData=a.phases(n),t(function(){o.donutOptions={chart:{type:\"pieChart\",height:250,donut:!0,margin:{top:0,right:0,bottom:0,left:0},tooltip:{hideDelay:0},x:function(e){return e.key},y:function(e){return e.y},duration:500,showLabels:!1,pie:{dispatch:{elementClick:function(n){var a=n.data.key;switch(t(function(){e.$emit(\"phaseChange\",{phase:a})},10),r.setPhase(a,o.patentData),a){case\"green\":e.activeTab=0;break;case\"amber\":e.activeTab=1;break;case\"red\":e.activeTab=2;break;case\"blue\":e.activeTab=3;break;case\"black\":e.activeTab=4;break;case\"grey\":e.activeTab=5}}},startAngle:function(e){return e.startAngle-Math.PI},endAngle:function(e){return e.endAngle-Math.PI}},growOnHover:!0,showLegend:!1,valueFormat:function(e){return e}}},o.donutData=[{key:\"green\",y:o.patentData.greenRenewals.length,color:\"#53ab58\"},{key:\"amber\",y:o.patentData.amberRenewals.length,color:\"#f9b233\"},{key:\"red\",y:o.patentData.redRenewals.length,color:\"#e30613\"},{key:\"blue\",y:o.patentData.blueRenewals.length,color:\"#0097ce\"},{key:\"black\",y:o.patentData.blackRenewals.length,color:\"#3c3c3b\"},{key:\"grey\",y:o.patentData.greyRenewals.length,color:\"#dbdbdb\"}]},200))}angular.module(\"ppApp\").controller(\"graphDonutCtrl\",n),n.$inject=[\"$scope\",\"$timeout\",\"patents\",\"patentPhasesService\",\"selectPhaseService\"]},\"./app/controllers/dashboard.recentActivity.ctrl.js\":function(e,t){function n(e,t,n,a,r){var o=this,s=(new Date).getTime();o.recentTransArr=[],o.recentRenewalArr=[],o.recentStageArr=[],o.setActivityActiveTab=function(e,t){o.activeActivityTabResp=t,o.activeMenu=e},console.log(),o.activityNotifications=[{activity:\"Stage Change\",index:0},{activity:\"Transactions\",index:1},{activity:\"Renewals\",index:2}],o.activeMenu=o.activityNotifications[0].activity,e&&e.forEach(function(e){r.fetchCostAnalysis(e.id).then(function(t,n){if(\"Show price\"==e.renewalStatus){var r=a.calculateHours(e.costBandColour,t);a.recentActivity(r)&&o.recentStageArr.push(e)}},function(e){})}),n&&n.forEach(function(e){var t=s-e.lastUpdatedDate;a.recentActivity(t)&&o.recentTransArr.push(e)}),t&&t.forEach(function(e){var t=s-e.lastUpdatedDate;a.recentActivity(t)&&\"Completed\"===e.latestTransStatus&&o.recentRenewalArr.push(e)})}angular.module(\"ppApp\").controller(\"recentActivityCtrl\",n),n.$inject=[\"patents\",\"transactionHistory\",\"currentTransactions\",\"calculateService\",\"patentsRestService\"]},\"./app/controllers/dashboard.renewalCost.ctrl.js\":function(e,t){function n(e,t,n,a,r,o,s,i,c){var l=this;l.renewalfxTimeframe=\"Today\",l.patentFx=s,l.fxPeriodActive=function(e){switch(e){case 0:l.renewalfxTimeframe=\"Today\";break;case 1:l.renewalfxTimeframe=\"Yesterday\";break;case 2:l.renewalfxTimeframe=\"Last Week\";break;case 3:l.renewalfxTimeframe=\"Last Mth\"}},l.fetchItemRenewal=function(){c.activePatentItemMenu()},l.fetchItemTransaction=function(e){i.fetchCurrentTransactions().then(function(o){o.forEach(function(o){const s=o.id;o.renewalUIs.forEach(function(o,i){o.patentUI.id==e&&n.go(\"current-transactions.current-transaction-item\",{transId:s}).then(function(e){t(function(){a.hash(\"currTransAnchor\"),r()},300)},function(e){console.log(e)})})})},function(e){})}}angular.module(\"ppApp\").controller(\"renewalCostCtrl\",n),n.$inject=[\"$scope\",\"$timeout\",\"$state\",\"$location\",\"$anchorScroll\",\"patents\",\"fxCalculationService\",\"currentTransactionsService\",\"patentsService\"]},\"./app/controllers/dashboard.renewalsCarousel.ctrl.js\":function(e,t){function n(e,t,n,a,r,o){var s=this;function i(e){s.phaseLoaded=!1,r.setPhase(e,s.sortedPatentData),t(function(){s.phaseLoaded=!0},10)}s.phaseLoaded=!0,s.sortedPatentData=a.phases(n),s.setPhase=function(t){e.$emit(\"phaseChange\",{phase:t}),i(t)},s.selectedPhase=r,s.currentIndex=0,s.slickConfig={accessibility:!1,arrows:!0,enabled:!0,autoplay:!1,draggable:!1,autoplaySpeed:3e3,method:{},event:{afterChange:function(e,t,n,a){s.currentIndex=n,s.currIndexForTitle=n+1,s.selectedPatent=s.selectedPhase.getPhase().patents[s.currentIndex],s.selectedPatent&&s.selectedPatent.feeUI&&o.setFx(s.selectedPatent)},init:function(e,t){t.slickGoTo(s.currentIndex)}}},e.$on(\"updatePhase\",function(e,t){i(t.phase)})}angular.module(\"ppApp\").controller(\"renewalsCarouselCtrl\",n),n.$inject=[\"$scope\",\"$timeout\",\"patents\",\"patentPhasesService\",\"selectPhaseService\",\"fxCalculationService\"]},\"./app/controllers/patents.addPatent.ctrl.js\":function(e,t){function n(e,t,n,a,r,o,s,i,c,l,u){var p=this,d=angular.fromJson(t.patent);function f(e){r(function(){p.chunkedData=c.chunkData(function(e){var t=[];return p.queriedPatent.notificationUIs.forEach(function(n){n.costbandcolor==e&&t.push(n)}),t}(e),8),p.colourPhase=e},10)}p.queriedPatent=d.data,p.displayNotifications=f,p.openCancelSearchModal=function(){u.open({templateUrl:\"p3sweb/app/views/patents/views/modals/modal-cancel-search.htm\",scope:n,appendTo:void 0,controller:function(t,n){n.cancelAdd=function(){e.go(\"search-patent\",{},{reload:!0})},n.cancel=function(){t.close()}}})},p.openConfirmModal=function(t){u.open({templateUrl:\"p3sweb/app/views/patents/views/modals/modal-confirm-found-patent.htm\",scope:n,appendTo:void 0,controller:function(n,a,o,s){a.addPatent=function(){r(function(){l.savePatent(t).then(function(t){var n=t[0];e.go(\"patents.patent\",{patentId:n.id}).then(function(e){r(function(){o.hash(\"patentAnchor\"),s()},300)},function(e){console.log(e)})},function(e){console.error(\"Error while saving Patent\")})},100),r(function(){n.close()},100)},a.dismissModal=function(){n.close()},a.cancelAdd=function(){e.go(\"search-patent\",{},{reload:!0}),n.dismiss(\"cancel\")}}})},p.displayNotifications=f,p.patentNotifications={green:\"Green\",amber:\"Amber\",red:\"Red\",blue:\"Blue\",black:\"Black\"},f(p.patentNotifications.green)}angular.module(\"ppApp\").controller(\"addPatentCtrl\",n),n.$inject=[\"$state\",\"$stateParams\",\"$scope\",\"$rootScope\",\"$timeout\",\"$location\",\"$anchorScroll\",\"searchPatentService\",\"chunkDataService\",\"patentsRestService\",\"$uibModal\"]},\"./app/controllers/patents.listPatents.ctrl.js\":function(e,t){function n(e,t,n,a,r,o,s,i,c,l,u,p){var d=this;a.page=\"List Patents\",t(function(){d.animate=!0},300),t(function(){d.displayPhase(\"all\")},100),d.displayPhase=function(e){if(d.tableData=[],\"all\"!==e)switch(e){case\"green\":d.tableData=d.sortedPatentData.greenRenewals;break;case\"amber\":d.tableData=d.sortedPatentData.amberRenewals;break;case\"red\":d.tableData=d.sortedPatentData.redRenewals;break;case\"blue\":d.tableData=d.sortedPatentData.blueRenewals;break;case\"black\":d.tableData=d.sortedPatentData.blackRenewals;break;case\"grey\":d.tableData=d.sortedPatentData.greyRenewals}else d.tableData=c},d.displayPatents=function(){r.go(\"patents\")},d.fetchItemRenewal=function(){u.activePatentItemMenu()},d.fetchItemTransaction=function(e){l.fetchCurrentTransactions().then(function(n){n.forEach(function(n){const a=n.id;n.renewalUIs.forEach(function(n,i){n.patentUI.id==e&&r.go(\"current-transactions.current-transaction-item\",{transId:a}).then(function(e){t(function(){s.hash(\"currTransAnchor\"),o()},300)},function(e){console.log(e)})})})},function(e){console.log(e)})},d.rowSelect=function(e){if(d.patentInfoContent=!0,!$(e.target).hasClass(\"cartbtn\")){var t=$($(e.currentTarget).find(\"a\"))[0].hash;window.location=\"http://localhost:8080/p3sweb/index.htm\"+t}},d.sortType=function(e){\"dueDate\"==e?d.selectedSortType=(d.sortDate=!0,d.sortReverse,void d.tableData.sort(function(e,t){var n=new Date(e.renewalDueDate);return new Date(t.renewalDueDate)-n})):(d.sortDate=!1,d.selectedSortType=e)},d.selectedSortType=\"patentApplicationNumber\",d.sortReverse=!1,d.sortedPatentData=p.phases(c)}angular.module(\"ppApp\").controller(\"listPatentsCtrl\",n),n.$inject=[\"$scope\",\"$timeout\",\"$http\",\"$rootScope\",\"$state\",\"$anchorScroll\",\"$location\",\"patentsRestService\",\"patents\",\"currentTransactionsService\",\"patentsService\",\"patentPhasesService\"]},\"./app/controllers/patents.patentCostAnalysis.ctrl.js\":function(e,t){function n(e,t,n,a,r,o,s,i,c){var l=this,u=t.lineChart,p=t.fee;function d(){r(function(){window.dispatchEvent(new Event(\"resize\"))},20)}l.chartActive=\"Stage Cost Chart\",l.patent=e,l.fetchItemTransaction=function(e){c.fetchCurrentTransactions().then(function(t){t.forEach(function(t){const n=t.id;t.renewalUIs.forEach(function(t,o){t.patentUI.id==e&&a.go(\"current-transactions.current-transaction-item\",{transId:n}).then(function(e){r(function(){s.hash(\"currTransAnchor\"),i()},300)},function(e){console.log(e)})})})},function(e){console.log(e)})},l.fetchItemRenewal=function(){o.$broadcast(\"renewalHistory\")},l.loadChart=d,p&&(l.feeBreakDown={renewalFeeEUR:p.renewalFeeEUR,renewalFeeUSD:p.renewalFeeUSD,extensionFeeEUR:p.extensionFeeEUR,extensionFeeUSD:p.extensionFeeUSD,processingFeeEUR:p.processingFeeEUR,processingFeeUSD:p.processingFeeUSD,expressFeeUSD:p.expressFeeUSD,expressFeeEUR:p.expressFeeEUR,urgentFeeUSD:p.urgentFeeUSD,urgentFeeEUR:p.urgentFeeEUR,latePayPenaltyUSD:p.latePayPenaltyUSD,fxRate:p.fxRate,subTotalEUR:p.subTotalEUR,subTotalUSD:p.subTotalUSD,bandSaving:function(){var n={};switch(e.costBandColour){case\"Green\":n.savings=Math.round(t.amberStageCost-t.greenStageCost),n.renewBefore=e.costBandEndDate;break;case\"Amber\":n.savings=Math.round(t.redStageCost-t.amberStageCost),n.renewBefore=e.costBandEndDate;break;case\"Red\":n.savings=Math.round(t.blueStageCost-t.redStageCost),n.renewBefore=e.costBandEndDate;break;case\"Blue\":n.savings=Math.round(t.blackStageCost-t.blueStageCost),n.renewBefore=e.costBandEndDate;break;case\"Black\":n.savings=\"N/A\",n.renewBefore=\"N/A\"}return n}}),l.lineData=function(){var e=[];for(var t in u)if(u.hasOwnProperty(t)){const r=u[t];var n=r.feeActiveDate.split(\"/\"),a=new Date(n[2],n[1]-1,n[0]).getTime();e.push([a,r.subTotal_USD])}return[{values:e,color:\"#2ca02c\"}]},l.lineOptions={chart:{type:\"lineChart\",height:350,margin:{top:20,right:50,bottom:70,left:80},clipEdge:!1,duration:500,tooltip:{hideDelay:0},showLegend:!1,x:function(e,t){return e[0]},y:function(e){return e[1]},useInteractiveGuideline:!0,xAxis:{tickFormat:function(e,t){return d3.time.format(\"%x\")(new Date(e))},showMaxMin:!1,rotateLabels:-30,tickPadding:20},yAxis:{tickFormat:function(e){return\"$ \"+d3.format(\".00f\")(e)},showMaxMin:!1,tickPadding:20},tooltip:{keyFormatter:function(e){return d3.time.format(\"%x\")(new Date(e))}},useVoronoi:!1,lines:{interactive:!0},showXAxis:!0,showYAxis:!0}},l.barData=function(){var e=[],n=[],a=[];for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];r.includes(\"StartDate\")&&!r.includes(\"UI\")&&n.push(o),r.includes(\"StageCost\")&&a.push(o)}for(var s=0;n.length&&s<a.length;s++)e[s]=[n[s],a[s]];return e.reverse(),[{key:\"Cost\",values:e}]},l.barOptions={chart:{type:\"multiBarHorizontalChart\",height:350,margin:{top:20,right:50,bottom:70,left:90},duration:500,tooltip:{hideDelay:0},barColor:[\"#3c3c3b\",\"#0097ce\",\"#e30613\",\"#f9b233\",\"#53ab58\"],x:function(e){return e[0]},y:function(e){return e[1]},showControls:!1,showValues:!0,showLegend:!1,stacked:!0,duration:500,multibar:{groupSpacing:.4},xAxis:{showMaxMin:!1,tickFormat:function(e,t){return d3.time.format(\"%x\")(new Date(e))},tickPadding:20},yAxis:{tickFormat:function(e){return\"$ \"+d3.format(\".02f\")(e)},showMaxMin:!1,tickPadding:20},callback:function(e,t){d3.selectAll(\".nvd3 .nv-bar rect\").attr(\"rx\",15)}}},n.$on(\"loadChart\",d)}angular.module(\"ppApp\").controller(\"patentCostAnalysisCtrl\",n),n.$inject=[\"patent\",\"costAnalysis\",\"$scope\",\"$state\",\"$timeout\",\"$rootScope\",\"$location\",\"$anchorScroll\",\"currentTransactionsService\"]},\"./app/controllers/patents.patentInfo.ctrl.js\":function(e,t){function n(e,t,n,a,r,o,s,i,c,l,u,p){var d=this;d.patent=t,d.fetchItemRenewal=function(){n.$broadcast(\"renewalHistory\")},d.fetchItemTransaction=function(e){c.fetchCurrentTransactions().then(function(t){t.forEach(function(t){const n=t.id;t.renewalUIs.forEach(function(t,i){t.patentUI.id==e&&a.go(\"current-transactions.current-transaction-item\",{transId:n}).then(function(e){r(function(){o.hash(\"currTransAnchor\"),s()},300)},function(e){console.log(e)})})})},function(e){console.log(e)})},d.openUpdateConfirmModal=function(t){p.open({templateUrl:\"p3sweb/app/views/patents/views/modals/modal-update-patent-template.htm\",appendTo:void 0,scope:e,controller:function(e,n,a){n.dismissModal=function(){e.close()},a(function(){d.updatePatent(t)})}})},d.openDeleteConfirmModal=function(t){p.open({templateUrl:\"p3sweb/app/views/patents/views/modals/modal-remove-patent-template.htm\",appendTo:void 0,scope:e,controller:function(e,n){n.dismissModal=function(){e.close()},n.deletePatent=function(){d.deletePatent(t),r(function(){e.close()},300)},n.cancelDeletion=function(){e.dismiss(\"cancel\")}}})},d.deletePatent=function(t){l.deletePatent(t).then(function(){a.go(\"patents\",{},{reload:!0}).then(function(){r(function(){l.fetchAllPatents()},400)})},function(n){304===n.status&&p.open({templateUrl:\"p3sweb/app/views/patents/views/modals/modal-delete-patent-error.htm\",appendTo:void 0,scope:e,controller:function(e,n){d.updatePatent(t),n.dismissModal=function(){e.close()}}})})},d.updatePatent=function(e){var t=e.id;l.updatePatent(e,t)},d.editItem=function(e){d.editing[e]=!0},d.doneEditing=function(e){d.editing[e]=!1},d.editing=[],d.displayNotifications=function(e){d.chunkedData=u.chunkData(function(e){var n=[];return t.notificationUIs.forEach(function(t){t.costbandcolor==e&&n.push(t)}),n}(e),8)},function(){if(t){if(\"GREY\"==t.costBandColour||\"grey\"==t.costBandColour)return!1;i.setFx(t),d.patentFx=i,r(function(){d.displayNotifications(\"Green\")},100)}}()}angular.module(\"ppApp\").controller(\"patentInfoCtrl\",n),n.$inject=[\"$scope\",\"patent\",\"$rootScope\",\"$state\",\"$timeout\",\"$location\",\"$anchorScroll\",\"fxCalculationService\",\"currentTransactionsService\",\"patentsRestService\",\"chunkDataService\",\"$uibModal\"]},\"./app/controllers/patents.patentItem.ctrl.js\":function(e,t){function n(e,t){var n=this;n.activePatentItemMenu=\"Patent Info\",n.loadChart=function(){e.$broadcast(\"loadChart\")},t.$on(\"renewalHistory\",function(){n.activePatentItemMenu=\"Renewal History\",n.activeSelectedTab=2})}angular.module(\"ppApp\").controller(\"patentItemCtrl\",n),n.$inject=[\"$rootScope\",\"$scope\"]},\"./app/controllers/patents.patentRenewals.ctrl.js\":function(e,t){function n(e,t){this.renewal=t,this.patent=e}angular.module(\"ppApp\").controller(\"patentRenewalsCtrl\",n),n.$inject=[\"patent\",\"renewal\"]},\"./app/controllers/patents.searchPatent.ctrl.js\":function(e,t){function n(e,t,n,a,r,o){var s=this;a.page=\"Search for Patent\",r(function(){s.animate=!0},300),s.findPatent=function(t){o.findPatent(t).then(function(n){if(204==n.status||\"\"==n.data)s.queriedPatent=null,e.go(\"search-patent\",{},{reload:!0}),s.searchError=\"It looks like we’ve already added Patent Application \"+t+\" in to the system.  You should be able to find it in the List Patents page using the search boxes.\";else{var a=angular.toJson(n);e.go(\"search-patent.add-patent\",{patent:a})}},function(e){switch(s.queriedPatent=null,e.status){case 400:s.searchError=\"We've not been able to find that patent in the European Patent Register.  Please enter an application number such as 18 123456.2\";break;case 404:s.searchError=\"We’ve not been able to find Patent Application \"+t+\" in the European Patent Register.  Please check the number you’re entering and try again.\";break;case 204:s.searchError=\"It looks like we've already added Patent Application \"+t+\" in to the system.  You should be able to find it in the List Patents page using the search boxes.\"}})}}angular.module(\"ppApp\").controller(\"searchPatentCtrl\",n),n.$inject=[\"$state\",\"$stateParams\",\"$scope\",\"$rootScope\",\"$timeout\",\"searchPatentService\"]},\"./app/controllers/transactions.currentTransactionItem.ctrl.js\":function(e,t){function n(e,t,n){var a=this;n.$watch(\"$parent.filter\",function(e,t){void 0!==e&&(n.transactionsFilter=null!==e?e.patentUI.patentApplicationNumber:null)});var r=e.latestTransStatus;a.currentTransactionItem=e,a.checkProgress=function(){var e;a.transStatus.forEach(function(t,n){t.status==r&&(e=n)});for(var t=0;t<=e;t++)a.transStatus[t].complete=!0,r==a.transStatus[t].status&&(a.transStatus[t].active=!0,a.transStatus[t].complete=!1)},a.renewalProgress=t.renewalProgress(r),a.patents=[],a.transStatus=[{status:\"Initiated\",active:!1,complete:!1,tip:\"You've checked out your basket on the Patent Place, and we're now doing our work in the background.  We will now send the request over to our payment partners Moneycorp, requesting that they book the currency exchange, and to expect a payment from you.\",position:\"top-left\"},{status:\"Awaiting Funds\",active:!1,complete:!1,tip:\"MoneyCorp have booked the currency exchange, and are now waiting for your payment.  They'll expect the funds by the date and time specified, and for it to have the correct reference on it so that the payment can be matched to the transation.\",position:\"top-left\"},{status:\"Funds Received\",active:!1,complete:!1,tip:\"MoneyCorp have received your payment and they're now completing the foreign exchange.  This happens the day after your funds were expected by MoneyCorp.\",position:\"top-left\"},{status:\"Funds Sent\",active:!1,complete:!1,tip:\"MoneyCorp have completed the currency exchange and the Euros have been sent to the European Patent Office.\",position:\"top-right\"},{status:\"EPO Received\",active:!1,complete:!1,tip:\"We've had confirmation that the funds have been received by the EPO.\",position:\"top-right\"},{status:\"EPO Instructed\",active:!1,complete:!1,tip:\"Everything is in place, and we’ve instructed the EPO to renew the patent.\",position:\"top-right\"},{status:\"Completed\",active:!1,complete:!1,tip:\"We've had confirmation that your patent has been successfully renewed by the EPO.  You can download copies of the renewal certificate and the invoice from the Transaction history tab under the Transactions menu.\",position:\"top-right\"}],a.$onInit=function(){switch(e.renewalUIs.forEach(function(e,t,n){a.patents.push(e)}),r){case\"Initiated\":a.transactionProgress=0;break;case\"Awaiting Funds\":a.transactionProgress=17.28;break;case\"Funds Received\":a.transactionProgress=34.56;break;case\"Funds Sent\":a.transactionProgress=51.84;break;case\"EPO Received\":a.transactionProgress=69.12;break;case\"EPO Instructed\":a.transactionProgress=86.4;break;case\"Completed\":a.transactionProgress=100}}}angular.module(\"ppApp\").controller(\"currentTransactionItemCtrl\",n),n.$inject=[\"currentTransactionItem\",\"currentTransactionsService\",\"$scope\"]},\"./app/controllers/transactions.currentTransactions.ctrl.js\":function(e,t){function n(e,t,n,a,r,o){var s=this;e.page=\"Current Transactions\",n(function(){s.animate=!0},300),s.tableData=r,s.patentAppData={defaultSelect:null},s.clientRefData={defaultSelect:null},s.sortType=function(e){switch(s.sortTransCost=!1,s.sortPatentApplicationNumber=!1,s.sortClientRef=!1,s.sortTransDate=!1,s.sortTransItems=!1,s.selectedSortType=e,e){case\"transStartDate\":s.sortTransDate=!0,s.selectedSortType=(s.sortReverse,void s.tableData.sort(function(e,t){var n=new Date(e.transStartDate);return new Date(t.transStartDate)-n}));break;case\"clientRef\":s.sortClientRef=!0,s.selectedSortType=function(){var e=[],t=[];s.tableData.forEach(function(e){e.renewalUIs.map(function(e,n){t.push(e.patentUI.clientRef)})}),t.sort(),t.forEach(function(t){var n=!1;s.tableData=s.tableData.filter(function(a){if(1===a.renewalUIs.length)return!(!n&&a.renewalUIs[0].patentUI.clientRef==t&&(e.push(a),n=!0,1));e.push(a)})}),s.tableData=e};break;case\"patentApplicationNumber\":s.sortPatentApplicationNumber=!0,s.selectedSortType=function(){var e=[],t=[];s.tableData.forEach(function(e){e.renewalUIs.map(function(e,n){t.push(e.patentUI.patentApplicationNumber)})}),t.sort(),t.forEach(function(t){var n=!1;s.tableData=s.tableData.filter(function(a){if(1===a.renewalUIs.length)return!(!n&&a.renewalUIs[0].patentUI.patentApplicationNumber==t&&(e.push(a),n=!0,1));e.push(a)})}),s.tableData=e};break;case\"transAmount_USD\":s.sortTransCost=!0,s.selectedSortType=(s.sortReverse,void s.tableData.sort(function(e,t){var n=e.transAmount_USD;return t.transAmount_USD-n}));break;case\"transLength\":s.sortTransItems=!0,s.selectedSortType=void(!1===s.sortReverse?s.tableData.sort(function(e,t){var n=e.renewalUIs.length;return t.renewalUIs.length-n}):!0===s.sortReverse&&s.tableData.sort(function(e,t){var n=e.renewalUIs.length;return t.renewalUIs.length-n}))}},s.sortReverse=!1,s.transactionListFilter=function(e,n,a){\"clientRefFilter\"==n?(t.filter=e,s.patentAppData.defaultSelect=null):(t.filter=e,s.clientRefData.defaultSelect=null)},s.noClientRef=function(){return!0},s.displayTrans=function(){a.go(\"current-transactions\")},s.rowSelect=function(e){if(s.transInfoContent=!0,!$(e.target).hasClass(\"cartbtn\")){var t=$($(e.currentTarget).find(\"a\"))[0].hash;window.location=\"http://localhost:8080/p3sweb/index.htm\"+t}},s.selectedSortType=\"p3S_TransRef\",r.forEach(function(e){e.renewalUIs.length>1&&e.renewalUIs.map(function(e,t){\"\"==e.patentUI.clientRef&&(e.patentUI.clientRef=\"[No Client Description Provided]\")})}),r.map(function(e,t){e.renewalProgress=o.renewalProgress(e.latestTransStatus)})}angular.module(\"ppApp\").controller(\"currentTransactionsCtrl\",n),n.$inject=[\"$rootScope\",\"$scope\",\"$timeout\",\"$state\",\"currentTransactions\",\"currentTransactionsService\"]},\"./app/controllers/transactions.transactionHistory.ctrl.js\":function(e,t){function n(e,t,n){var a=this;e.page=\"Transaction History\",t(function(){a.animate=!0},300),n.forEach(function(e){e.renewalUIs.length>1&&e.renewalUIs.map(function(e,t){\"\"==e.patentUI.clientRef&&(e.patentUI.clientRef=\"[No Client Description Provided]\")})}),a.tableData=n,a.sortType=function(e){switch(a.sortTransCost=!1,a.sortPatentApplicationNumber=!1,a.sortClientRef=!1,a.sortTransDate=!1,a.sortTransItems=!1,a.selectedSortType=e,e){case\"transStartDate\":a.sortTransDate=!0,a.selectedSortType=(a.sortReverse,void a.tableData.sort(function(e,t){var n=new Date(e.transStartDate);return new Date(t.transStartDate)-n}));break;case\"clientRef\":a.sortClientRef=!0,a.selectedSortType=function(){var e=[],t=[];a.tableData.forEach(function(e){e.renewalUIs.map(function(e,n){t.push(e.patentUI.clientRef)})}),t.sort(),t.forEach(function(t){var n=!1;a.tableData=a.tableData.filter(function(a){if(1===a.renewalUIs.length)return!(!n&&a.renewalUIs[0].patentUI.clientRef==t&&(e.push(a),n=!0,1));e.push(a)})}),a.tableData=e};break;case\"patentApplicationNumber\":a.sortPatentApplicationNumber=!0,a.selectedSortType=function(){var e=[],t=[];a.tableData.forEach(function(e){e.renewalUIs.map(function(e,n){t.push(e.patentUI.patentApplicationNumber)})}),t.sort(),t.forEach(function(t){var n=!1;a.tableData=a.tableData.filter(function(a){if(1===a.renewalUIs.length)return!(!n&&a.renewalUIs[0].patentUI.patentApplicationNumber==t&&(e.push(a),n=!0,1));e.push(a)})}),a.tableData=e};break;case\"transAmount_USD\":a.sortTransCost=!0,a.selectedSortType=(a.sortReverse,void a.tableData.sort(function(e,t){var n=e.transAmount_USD;return t.transAmount_USD-n}));break;case\"transLength\":a.sortTransItems=!0,a.selectedSortType=void(!1===a.sortReverse?a.tableData.sort(function(e,t){var n=e.renewalUIs.length;return t.renewalUIs.length-n}):!0===a.sortReverse&&a.tableData.sort(function(e,t){var n=e.renewalUIs.length;return t.renewalUIs.length-n}))}},a.selectedSortType=\"transId\",a.sortReverse=!1,a.transactionListFilter=function(e,t,n){\"clientRefFilter\"==t?($scope.filter=e,a.patentAppData.defaultSelect=null):($scope.filter=e,a.clientRefData.defaultSelect=null)},a.noClientRef=function(){return!0},a.displayTrans=function(){$state.go(\"current-transactions\")},a.rowSelect=function(e){if(!$(e.target).hasClass(\"cartbtn\")){var t=$($(e.currentTarget).find(\"a\"))[0].hash;window.location=\"http://localhost:8080/p3sweb/index.htm\"+t}},a.patentAppData={defaultSelect:null},a.clientRefData={defaultSelect:null}}angular.module(\"ppApp\").controller(\"transactionHistoryCtrl\",n),n.$inject=[\"$rootScope\",\"$timeout\",\"transactionHistory\"]},\"./app/controllers/transactions.transactionHistoryItem.ctrl.js\":function(e,t){function n(e,t,n,a){var r=this,o=n.latestTransStatus;r.transactionHistoryItem=n,r.renewalProgress=a.renewalProgress(o),r.checkProgress=function(){var e;r.transStatus.forEach(function(t,n){t.status==o&&(e=n)});for(var t=0;t<=e;t++)n.hasFailed?(r.transStatus[t].complete=!0,o==r.transStatus[t].status&&(r.transStatus[t].failed=!0,r.transStatus[t].complete=!1,r.transStatus[t].active=!0)):r.transStatus[t].complete=!0},r.patents=[],r.transStatus=[{status:\"Initiated\",active:!1,complete:!1,tip:\"You've checked out your basket on the Patent Place, and we're now doing our work in the background.  We're now send the request over to our payment partners Moneycorp, requesting that they book the currency exchange, and to expect a payment from you.\",position:\"top-left\"},{status:\"Awaiting Funds\",active:!1,complete:!1,tip:\"MoneyCorp have booked the currency exchange, and are now waiting for your payment.  They'll expect the funds by the date and time specified, and for it to have the correct reference on it so that the payment can be matched to the transation.\",position:\"top-left\"},{status:\"Funds Received\",active:!1,complete:!1,tip:\"MoneyCorp have received your payment and they're now completing the foreign exchange.  This happens the day after your funds were expected by MoneyCorp.\",position:\"top-left\"},{status:\"Funds Sent\",active:!1,complete:!1,tip:\"MoneyCorp have completed the currency exchange and the Euros have been sent to the European Patent Office.\",position:\"top-right\"},{status:\"EPO Received\",active:!1,complete:!1,tip:\"We've have had confirmation that the funds have been received by the EPO.\",position:\"top-right\"},{status:\"EPO Instructed\",active:!1,complete:!1,tip:\"Everything is in place, and we’ve instructed the EPO to renew the patent.\",position:\"top-right\"},{status:\"Completed\",active:!1,complete:!1,tip:\"We've had confirmation that your patent has been successfully renewed by the EPO.  You can download copies of the renewal certificate and the invoice from the Transaction history tab under the Transactions menu.\",position:\"top-right\"}],r.$onInit=function(){switch(n.hasFailed&&(r.hasFailed=!0),o){case\"Initiated\":r.transactionProgress=0;break;case\"Awaiting Funds\":n.hasFailed?r.transactionProgress=17.28:r.transactionProgress=34.56;break;case\"Funds Received\":n.hasFailed?r.transactionProgress=34.56:r.transactionProgress=51.84;break;case\"Funds Sent\":n.hasFailed?r.transactionProgress=51.84:r.transactionProgress=69.12;break;case\"EPO Received\":n.hasFailed?r.transactionProgress=69.12:r.transactionProgress=86.4;break;case\"EPO Instructed\":n.hasFailed?r.transactionProgress=86.4:r.transactionProgress=100;break;case\"Completed\":r.transactionProgress=100}n.renewalUIs.forEach(function(e,t,n){switch(r.patents.push(e),e.renewalStatus){case\"Payment in progress\":r.patentProgress=33;break;case\"EPO Instructed\":r.patentProgress=66;break;case\"Renewal In Place\":case\"Show price\":case\"Too late to renew\":r.patentProgress=100;break;case\"No renewal needed\":r.patentProgress=100}})}}angular.module(\"ppApp\").controller(\"transactionHistoryItemCtrl\",n),n.$inject=[\"$rootScope\",\"$timeout\",\"transactionHistoryItem\",\"transactionHistoryService\"]},\"./app/controllers/user.userProfile.ctrl.js\":function(e,t){function n(e,t,n,a,r,o){var s=this;t.page=\"Profile\",n.newPassword=\"\",s.updateTimezone=function(e){s.user.business.timezone=e},s.confirmUpdate=function(t,n){t=s.user,a(function(){e.updateUser(t).then(function(e){r.open({templateUrl:\"p3sweb/app/views/user/views/modals/modal-successfully-updated-profile.htm\",appendTo:void 0,controller:function(e,a){\"\"!==n&&(t.newPassword=n),a.dismissModal=function(){e.close()}}})},function(e){console.log(e)})},200)},s.$onInit=function(){o.fetchUsaTimeZones().then(function(e){s.ustimezones=e},function(e){}),e.fetchUser().then(function(e){s.user=e},function(e){}),e.listUsers().then(function(e){for(var t=0;t<e.length;t++)e[t].index=t+1;s.companyUsers=e;var n=e.length/2+1,a=[];s.chunkedData={chunk:function(e,t){for(var n=0;n<e.length;n+=t)a.push(e.slice(n,n+t));return a}(s.companyUsers,n)}},function(e){console.log(e)})}}angular.module(\"ppApp\").controller(\"userProfileCtrl\",n),n.$inject=[\"userService\",\"$rootScope\",\"$scope\",\"$timeout\",\"$uibModal\",\"timezoneService\"]},\"./app/directives/app.dir.js\":function(e,t){angular.module(\"ppApp\").directive(\"menuToggle\",[\"$timeout\",function(e){return{scope:{section:\"=\",context:\"=\"},templateUrl:\"p3sweb/app/views/app/views/main-nav-li.htm\",link:function(e,t){var n=e.context;e.isOpen=function(){return n.isOpen(e.section)},e.toggle=function(){n.toggleOpen(e.section)}}}}]).directive(\"menuLink\",[\"$timeout\",function(e){return{scope:{section:\"=\"},templateUrl:\"p3sweb/app/views/app/views/main-nav-li-item.htm\",link:function(e,t){var n=t.parent().controller();e.focusSection=function(){n.autoFocusContent=!0}}}}])},\"./app/directives/checkout.dir.js\":function(e,t){angular.module(\"ppApp\").directive(\"validateAddress\",function(){var e=/^[a-zA-z0-9\\s\\-\\(\\).,]*$/;return{require:\"ngModel\",link:function(t,n,a,r){var o=n.controller(\"ngModel\");r.$parsers.push(function(t){return e.test(t)?o.$setValidity(\"validAddress\",!0):o.$setValidity(\"validAddress\",!1),t})}}}).directive(\"validateZip\",function(){var e=/^[0-9\\-]*$/;return{require:\"ngModel\",link:function(t,n,a,r){var o=n.controller(\"ngModel\");r.$parsers.push(function(t){return e.test(t)?o.$setValidity(\"validZip\",!0):o.$setValidity(\"validZip\",!1),t})}}})},\"./app/directives/current-transactions.transactions.dir.js\":function(e,t){angular.module(\"ppApp\").directive(\"fixedTableHeaders\",[\"$timeout\",function(e){return{restrict:\"A\",link:function(t,n,a){var r;e(function(){r=n.parentsUntil(a.fixedTableHeaders),n.stickyTableHeaders({scrollableArea:r,fixedOffset:0})},0)}}}])},\"./app/directives/patents.list-patents.dir.js\":function(e,t){angular.module(\"ppApp\").directive(\"fixedTableHeaders\",[\"$timeout\",function(e){return{restrict:\"A\",link:function(t,n,a){e(function(){var e=n.parentsUntil(a.fixedTableHeaders);n.stickyTableHeaders({scrollableArea:e,fixedOffset:0})},0)}}}])},\"./app/directives/user.dir.js\":function(e,t){angular.module(\"ppApp\").directive(\"validateName\",function(){var e=/^[a-zA-z0-9\\s\\w'-]*$/;return{require:\"ngModel\",link:function(t,n,a,r){r.$parsers.push(function(t){return e.test(t)?r.$setValidity(\"validName\",!0):r.$setValidity(\"validName\",!1),t})}}}).directive(\"validatePhone\",function(){var e=/^[0-9\\s\\+\\-\\(\\) ]*$/;return{require:\"ngModel\",link:function(t,n,a,r){r.$parsers.push(function(t){return e.test(t)?r.$setValidity(\"validPhone\",!0):r.$setValidity(\"validPhone\",!1),t})}}}).directive(\"validateAddress\",function(){var e=/^[a-zA-z0-9\\s\\-\\(\\).,]*$/;return{require:\"ngModel\",link:function(t,n,a,r){var o=n.controller(\"ngModel\");r.$parsers.push(function(t){return e.test(t)?o.$setValidity(\"validAddress\",!0):o.$setValidity(\"validAddress\",!1),t})}}}).directive(\"validateZip\",function(){var e=/^[0-9\\-]*$/;return{require:\"ngModel\",link:function(t,n,a,r){var o=n.controller(\"ngModel\");r.$parsers.push(function(t){return e.test(t)?o.$setValidity(\"validZip\",!0):o.$setValidity(\"validZip\",!1),t})}}}).directive(\"checkStrength\",function(){return{replace:!1,restrict:\"EACM\",link:function(e,t,n){var a={colors:[\"#e30613\",\"#e30613\",\"#f9b233\",\"#f9b233\",\"#53ab58\"],measureStrength:function(e){var t=0,n=[/[a-z]+/.test(e),/[A-Z]+/.test(e),/[0-9]+/.test(e),/[$-/:-?{-~!\"^_`\\[\\]]/g.test(e)],a=$.grep(n,function(e){return!0===e}).length;return t+=2*e.length+(e.length>=10?1:0),t+=10*a,t=e.length<=6?Math.min(t,10):t,t=1==a?Math.min(t,10):t,t=2==a?Math.min(t,20):t,3==a?Math.min(t,40):t},getColor:function(e){var t;return{idx:1+(t=e<=10?0:e<=20?1:e<=30?2:e<=40?3:4),col:this.colors[t]}}},r=function(e){if(e&&\"\"!==e){var n=a.getColor(a.measureStrength(e));t.css({display:\"inline\"}),t.children(\"li\").css({background:\"#DDD\"}).slice(0,n.idx).css({background:n.col})}return e};e.userProfileForm[n.checkStrength].$parsers.unshift(r),e.userProfileForm[n.checkStrength].$formatters.unshift(r)},template:'<li class=\"point md-point lg-point\"></li><li class=\"point md-point lg-point\"></li><li class=\"point md-point lg-point\"></li><li class=\"point md-point lg-point\"></li><li class=\"point md-point lg-point\"></li>'}}).directive(\"pwCheck\",[function(){return{require:\"ngModel\",link:function(e,t,n,a){var r=\"#\"+n.pwCheck;t.add(r).on(\"keyup\",function(){e.$apply(function(){a.$setValidity(\"pwmatch\",t.val()===$(r).val())})})}}}])},\"./app/directives/vendors/ngCart.directives.js\":function(e,t,n){\"use strict\";angular.module(\"ngCart.directives\",[\"ngCart.fulfilment\"]).controller(\"CartController\",[\"$scope\",\"ngCart\",\"$state\",function(e,t,n){e.ngCart=t}]).directive(\"ngcartAddtocart\",[\"ngCart\",function(e){return{restrict:\"E\",controller:\"CartController\",scope:{id:\"@\",name:\"@\",quantity:\"@\",quantityMax:\"@\",price:\"@\",data:\"=\"},transclude:!0,templateUrl:function(e,t){return void 0===t.templateUrl?\"p3sweb/app/views/checkout/views/ngCart/addtocart.htm\":t.templateUrl},link:function(t,n,a){t.attrs=a,t.inCart=function(){return e.getItemById(a.id)},t.inCart()?t.q=e.getItemById(a.id).getQuantity():t.q=parseInt(t.quantity),t.qtyOpt=[];for(var r=1;r<=t.quantityMax;r++)t.qtyOpt.push(r)}}}]).directive(\"ngcartCart\",[function(){return{restrict:\"E\",scope:{ngModel:\"=\"},controller:\"CartController\",templateUrl:function(e,t){return void 0===t.templateUrl?\"p3sweb/app/views/checkout/views/ngCart/cart.htm\":t.templateUrl},link:function(e,t,n){}}}]).directive(\"ngcartSummary\",[function(){return{restrict:\"E\",controller:\"CartController\",scope:{},transclude:!0,templateUrl:function(e,t){return void 0===t.templateUrl?\"p3sweb/app/views/checkout/views/ngCart/summary.htm\":t.templateUrl}}}]).directive(\"ngcartCheckout\",[\"ngCart\",\"ngCartItem\",\"basketService\",function(e,t,n){return{restrict:\"E\",scope:{service:\"@\",settings:\"=\",ngModel:\"=\"},controller:[\"$rootScope\",\"$scope\",\"ngCart\",\"fulfilmentProvider\",\"basketService\",function(e,t,n,a,r){t.ngCart=n;var o=n.$cart.items;function s(){var e=[],n=[],a=[],r=[],s=[],i=[];t.processingFee=0,t.renewalFee=0,t.extensionFee=0,t.urgentFee=0,t.expressFee=0,t.totalCost=0,o.forEach(function(t,o){e.push(t._data.feeUI.processingFeeUSD),n.push(t._data.feeUI.renewalFeeUSD),a.push(t._data.feeUI.extensionFeeUSD),r.push(t._data.feeUI.expressFeeUSD),s.push(t._data.feeUI.urgentFeeUSD),i.push(t._data.feeUI.subTotalUSD)}),e.forEach(function(e,n){t.processingFee+=e}),n.forEach(function(e,n){t.renewalFee+=e}),a.forEach(function(e,n){t.extensionFee+=e}),s.forEach(function(e,n){t.urgentFee+=e}),r.forEach(function(e,n){t.expressFee+=e}),i.forEach(function(e,n){t.totalCost+=e})}e.$on(\"ngCart:itemRemoved\",function(){s(),t.summary.totalPatents=t.summary.totalPatents-1}),s(),t.checkout=function(){var r=[],s={},i=n.totalCost();Object.keys(o).forEach(function(e){s=o[e]._data,r.push(s.id)});var c={patent_ids:r,totalCostUSD:i,dateNowLocalTime:null},l=t.billingDetails,u={billingCity:l.billingCity,billingStreet:l.billingStreet,billingState:l.billingState,billingZip:l.billingZip,firstName:l.firstName,lastName:l.lastName,totalCostUSD:i,patent_ids:r};a.setService(t.service),a.setSettings(t.settings),a.checkout(c,u).then(function(t,n,a,r,o,s){e.$broadcast(\"ngCart\",t)},function(t,n,a,r){e.$broadcast(\"ngCart:checkout_failed\",{statusCode:n,error:t})})}}],link:function(t,a,r){e.getItems();var o,s=[];e.getItems().forEach(function(e,t,n){s.push(e._id)}),o={patent_id:s},n.fetchBasketPatents(o).then(function(e){var n,a=e.orderedPatentUIs;t.billingDetails=e,t.summary={date:e.dateNowLocalTimeUI,patents:(n=[],a.forEach(function(e){n.push(e.patentApplicationNumber)}),n),totalPatents:e.orderedPatentUIs.length}},function(e){console.log(e)})},transclude:!0,templateUrl:function(e,t){return void 0===t.templateUrl?\"p3sweb/app/views/checkout/views/ngCart/checkout.htm\":t.templateUrl}}}])},\"./app/services/app.calculate.serv.js\":function(e,t,n){\"use strict\";function a(e,t,n,a){return{calculateHours:function(e,t){var n=(new Date).getTime(),a=\"\";switch(e){case\"Green\":a=n-t.greenStartDate;break;case\"Amber\":a=n-t.amberStartDate;break;case\"Red\":a=n-t.redStartDate;break;case\"Blue\":a=n-t.blueStartDate;break;case\"Black\":\"Show price\"==data.renewalStatus&&(a=n-t.blackStartDate)}return a},recentActivity:function(e){var t=(e/1e3).toFixed(0),n=Math.floor(t/60),a=\"\";if(n>59&&(n=(n-=60*(a=(a=Math.floor(n/60))>=10?a:\"0\"+a))>=10?n:\"0\"+n),t=(t=Math.floor(t%60))>=10?t:\"0\"+t,a<48)return!0},phaseProgress:function(e,t){n.fetchCostAnalysis(e.id).then(function(t){switch(t.currentcostBand){case\"Green\":return e.progressBar=r(t.greenStartDate,t.amberStartDate);case\"Amber\":return e.progressBar=r(t.amberStartDate,t.redStartDate);case\"Red\":return e.progressBar=r(t.redStartDate,t.blueStartDate);case\"Blue\":return e.progressBar=r(t.blueStartDate,t.blackStartDate);case\"Black\":if(\"Show price\"==e.renewalStatus)return e.progressBar=r(t.blackStartDate,t.blackPhoneUpStart)}},function(e){})}};function r(e,t){var n=t-e,a=(new Date).getTime()-e;return Math.round(a/n*100)}}n.r(t),n.d(t,\"default\",function(){return a}),angular.module(\"ppApp\").factory(\"calculateService\",a),a.$inject=[\"$q\",\"$timeout\",\"patentsRestService\",\"fxService\"]},\"./app/services/app.chunkData.serv.js\":function(e,t,n){\"use strict\";function a(){return{chunkData:function(e,t){var n=[];for(i=0;i<e.length;i+=t)n.push(e.slice(i,i+t));return n}}}n.r(t),n.d(t,\"default\",function(){return a}),angular.module(\"ppApp\").factory(\"chunkDataService\",a)},\"./app/services/app.fx.serv.js\":function(e,t,n){\"use strict\";function a(e,t){return{fetchFxWeek:function(){var n=e.defer();return t.get(ppdomain+\"rest-fxrates/week\").then(function(e){n.resolve(e.data)},function(e){n.reject(response.data)}),n.promise},fetchFxMonth:function(){var n=e.defer();return t.get(ppdomain+\"rest-fxrates/month\").then(function(e){n.resolve(e.data)},function(e){n.reject(e.data)}),n.promise}}}n.r(t),n.d(t,\"default\",function(){return a}),angular.module(\"ppApp\").factory(\"fxService\",a),a.$inject=[\"$q\",\"$http\"]},\"./app/services/app.fxCalculation.serv.js\":function(e,t,n){\"use strict\";function a(e,t,n){return{currentFx:\"\",selectedPatent:\"\",setFx:function(e){if(e.feeUI){this.selectedPatent=e;var a={};a.todaysPriceEUR=e.feeUI.subTotalEUR,n.fetchFxWeek().then(function(t){var n=[];t.forEach(function(e){n.push(e.rateActiveDate)}),n.sort(function(e,t){return e-t}),n.forEach(function(r,o){if(r==n[0]){var s=t[o].rate;a.todaysFx=s,a.todaysPriceUSD=parseFloat(e.feeUI.subTotalEUR*s).toFixed(2)}if(r==n[1]){var i=t[o].rate;a.yesterdaysPriceUSD=parseFloat(e.feeUI.subTotalEUR*i).toFixed(2)}if(r==n[7]){var c=t[o].rate;a.lastWeeksPriceUSD=parseFloat(e.feeUI.subTotalEUR*c).toFixed(2)}})},function(e){}),n.fetchFxMonth().then(function(n){var r=new Date,o=r.setMonth(r.getMonth()-1),s=new Date(o).getDay(),i=new Date(o).getDate();n.forEach(function(t,n){if(new Date(t.rateActiveDate).getDay()==s&&new Date(t.rateActiveDate).getDate()==i){var r=t.rate;a.lastMonthsPriceUSD=parseFloat(e.feeUI.subTotalEUR*r).toFixed(2)}}),t(function(){var e=parseFloat(a.todaysPriceUSD-a.lastMonthsPriceUSD).toFixed(2);e<0?(a.variationSave=!0,a.fourWeekVariation=e.toString().replace(\"-\",\"\")):(a.variationSave=!1,a.fourWeekVariation=e)},300)},function(e){}),this.currentFx=a}},getSelectedPatent:function(){return this.selectedPatent},getFx:function(){return this.currentFx}}}n.r(t),n.d(t,\"default\",function(){return a}),angular.module(\"ppApp\").factory(\"fxCalculationService\",a),a.$inject=[\"$q\",\"$timeout\",\"fxService\"]},\"./app/services/app.mainNav.serv.js\":function(e,t,n){\"use strict\";function a(){var e,t=[{name:\"Dashboard\",type:\"link\",state:\"dashboard\",icon:\"p3sweb/assets/imgs/icons/menu/menu_dashboard_icon.png\"}];return t.push({name:\"Patents\",type:\"toggle\",pages:[{name:\"List Patents\",type:\"link\",state:\"patents\"},{name:\"Add Patents\",type:\"link\",state:\"search-patent\"}],icon:\"p3sweb/assets/imgs/icons/menu/menu_patent_icon.png\"}),t.push({name:\"Transactions\",type:\"toggle\",pages:[{name:\"Current\",state:\"current-transactions\",type:\"link\"},{name:\"History\",state:\"transaction-history\",type:\"link\"}],icon:\"p3sweb/assets/imgs/icons/menu/menu_transaction_icon.png\"}),e={sections:t,toggleSelectSection:function(t){e.openedSection=e.openedSection===t?null:t},isSectionSelected:function(t){return e.openedSection===t},selectPage:function(t,n){n&&n.url&&$location.path(n.url),e.currentSection=t,e.currentPage=n}}}n.r(t),n.d(t,\"default\",function(){return a}),angular.module(\"ppApp\").factory(\"mainNavService\",a)},\"./app/services/app.timezone.serv.js\":function(e,t,n){\"use strict\";function a(e,t){return{fetchUsaTimeZones:function(){var n=t.defer();return e.get(\"/p3sweb/public/ustimezones.json\").then(function(e){n.resolve(e.data.ustimezones)},function(e){n.resolve(e)}),n.promise}}}n.r(t),n.d(t,\"default\",function(){return a}),angular.module(\"ppApp\").factory(\"timezoneService\",a),a.$inject=[\"$http\",\"$q\"]},\"./app/services/checkout.bankTransferCommit.serv.js\":function(e,t,n){\"use strict\";function a(e,t,n){return{commitTransfer:function(a){var r=t.defer();return e.post(ppdomain+\"rest-committed-banktransfer/\",a).then(function(e){n.go(\"bank-transfer-success\",{orderObj:e.data})},function(e){}),r.promise}}}n.r(t),n.d(t,\"default\",function(){return a}),angular.module(\"ppApp\").factory(\"bankTransferCommitService\",a),a.$inject=[\"$http\",\"$q\",\"$state\"]},\"./app/services/checkout.basket.serv.js\":function(e,t,n){\"use strict\";function a(e,t){var n={},a=ppdomain+\"rest-basket/\";return n.fetchBasketPatents=function(n){var r=t.defer();return e.post(a,n).then(function(e){r.resolve(e.data)},function(e){r.reject(e)}),r.promise},n}n.r(t),n.d(t,\"default\",function(){return a}),angular.module(\"ppApp\").factory(\"basketService\",a),a.$inject=[\"$http\",\"$q\"]},\"./app/services/dashboard.dashboard.serv.js\":function(e,t,n){\"use strict\";function a(e,t){return{getMessages:function(){var n=t.defer();return e.get(ppdomain+\"login-messages/\").then(function(e){n.resolve(e.data)},function(e){console.error(\"Error while fetching messages\"),n.reject(e)}),n.promise},fetchCostAnalysis:function(n){var a=t.defer();return e.get(ppdomain+\"rest-cost-analysis/\"+n).then(function(e){a.resolve(e.data)},function(e){console.error(\"Error while fetching cost analysis\"),a.reject(e)}),a.promise}}}n.r(t),n.d(t,\"default\",function(){return a}),angular.module(\"ppApp\").factory(\"dashboardService\",a),a.$inject=[\"$http\",\"$q\"]},\"./app/services/dashboard.selectPhase.serv.js\":function(e,t,n){\"use strict\";function a(){return{selectedPhase:\"\",setPhase:function(e,t){switch(e){case\"green\":this.selectedPhase={patents:t.greenRenewals,phase:{title:\"Green\",bgClass:\"bg-phase-green\",nextBgClass:\"bg-phase-amber\",index:0}};break;case\"amber\":this.selectedPhase={patents:t.amberRenewals,phase:{title:\"Amber\",bgClass:\"bg-phase-amber\",nextBgClass:\"bg-phase-red\",index:1}};break;case\"red\":this.selectedPhase={patents:t.redRenewals,phase:{title:\"Red\",bgClass:\"bg-phase-red\",nextBgClass:\"bg-phase-blue\",index:2}};break;case\"blue\":this.selectedPhase={patents:t.blueRenewals,phase:{title:\"Blue\",bgClass:\"bg-phase-blue\",nextBgClass:\"bg-phase-black\",index:3}};break;case\"black\":this.selectedPhase={patents:t.blackRenewals,phase:{title:\"Black\",bgClass:\"bg-phase-black\",nextBgClass:\"bg-phase-white\",index:4}};break;case\"grey\":this.selectedPhase={patents:[],phase:{title:\"Grey\",bgClass:\"bg-phase-grey\",index:5}};break;case\"reset\":this.selectedPhase={patents:[]}}},getPhase:function(){return this.selectedPhase}}}n.r(t),n.d(t,\"default\",function(){return a}),angular.module(\"ppApp\").factory(\"selectPhaseService\",a)},\"./app/services/patents.patentPhases.serv.js\":function(e,t,n){\"use strict\";function a(e,t,n,a){return{phases:function(t){if(t){var n={greenRenewals:[],redRenewals:[],amberRenewals:[],blueRenewals:[],blackRenewals:[],greyRenewals:[],allRenewals:[],totalRenewals:function(){return t?this.greenRenewals.concat(this.amberRenewals,this.redRenewals,this.amberRenewals,this.blueRenewals,this.blackRenewals,this.greyRenewals).length:0}};return t.forEach(function(e){if(n.allRenewals.push(e),\"Renewal in place\"!==e.renewalStatus&&\"Too late to renew\"!==e.renewalStatus&&\"No renewal needed\"!==e.renewalStatus&&\"Way too late to renew\"!==e.renewalStatus)switch(e.costBandColour){case\"Green\":e.nextStage=\"Amber\",n.greenRenewals.push(e);break;case\"Amber\":e.nextStage=\"Red\",n.amberRenewals.push(e);break;case\"Red\":e.nextStage=\"Blue\",n.redRenewals.push(e);break;case\"Blue\":e.nextStage=\"Black\",n.blueRenewals.push(e);break;case\"Black\":e.nextStage=\"LAPSE\",n.blackRenewals.push(e)}else n.greyRenewals.push(e)}),e(function(){n.greenRenewals.forEach(function(e,t){e.progressBar=a.phaseProgress(e,t)}),n.amberRenewals.forEach(function(e,t){e.progressBar=a.phaseProgress(e,t)}),n.redRenewals.forEach(function(e,t){e.progressBar=a.phaseProgress(e,t)}),n.blueRenewals.forEach(function(e,t){e.progressBar=a.phaseProgress(e,t)}),n.blackRenewals.forEach(function(e,t){e.progressBar=a.phaseProgress(e,t)})},200),n}}}}n.r(t),n.d(t,\"default\",function(){return a}),angular.module(\"ppApp\").factory(\"patentPhasesService\",a),a.$inject=[\"$timeout\",\"$q\",\"$rootScope\",\"calculateService\"]},\"./app/services/patents.patents.serv.js\":function(e,t,n){\"use strict\";function a(e,t){return{activePatentItemMenu:function(){t(function(){e.$broadcast(\"renewalHistory\")},100)}}}n.r(t),n.d(t,\"default\",function(){return a}),angular.module(\"ppApp\").factory(\"patentsService\",a),a.$inject=[\"$rootScope\",\"$timeout\"]},\"./app/services/patents.patentsRest.serv.js\":function(e,t,n){\"use strict\";function a(e,t){var n=ppdomain+\"rest-patents/\";return{fetchAllPatents:function(){var a=t.defer();return e.get(n).then(function(e){a.resolve(e.data)},function(e){console.error(\"Error while fetching patents\"),a.reject(e)}),a.promise},updatePatent:function(a,r){var o=t.defer();return e.put(n+r,a).then(function(e){o.resolve(e.data)},function(e){o.reject(e)}),o.promise},savePatent:function(a){var r=t.defer();return e.post(n,a).then(function(e){r.resolve(e.data)},function(e){r.reject(e)}),r.promise},fetchCostAnalysis:function(n){var a=t.defer();return e.get(ppdomain+\"rest-cost-analysis/\"+n).then(function(e){a.resolve(e.data)},function(e){a.reject(e)}),a.promise},deletePatent:function(a){var r=t.defer();return e.delete(n+a).then(function(e){r.resolve(e.data)},function(e){r.reject(e)}),r.promise},fetchRenewalHistory:function(n){var a=t.defer();return e.get(ppdomain+\"rest-renewal-history/\"+n).then(function(e){a.resolve(e.data)},function(e){console.error(\"Error while fetching renewal history\"),a.reject(e)}),a.promise}}}n.r(t),n.d(t,\"default\",function(){return a}),angular.module(\"ppApp\").factory(\"patentsRestService\",a),a.$inject=[\"$http\",\"$q\"]},\"./app/services/patents.searchPatent.serv.js\":function(e,t,n){\"use strict\";function a(e,t){var n=ppdomain+\"rest-search-patents/\";return{findPatent:function(a){var r=t.defer(),o=n+a;return e.get(o).then(function(e){r.resolve(e)},function(e){r.reject(e)}),r.promise}}}n.r(t),n.d(t,\"default\",function(){return a}),angular.module(\"ppApp\").factory(\"searchPatentService\",a),a.$inject=[\"$http\",\"$q\"]},\"./app/services/transactions.currentTransactions.serv.js\":function(e,t,n){\"use strict\";function a(e,t){var n=ppdomain+\"rest-current-transactions/\";return{fetchCurrentTransactions:function(){var a=t.defer();return e.get(n).then(function(e){a.resolve(e.data)},function(e){a.resolve(e)}),a.promise},renewalProgress:function(e){var t=0;switch(e){case\"Initiated\":t=14;break;case\"Awaiting Funds\":t=28;break;case\"Funds Received\":t=42;break;case\"Funds Sent\":t=56;break;case\"EPO Received\":t=70;break;case\"EPO Instructed\":t=84;break;case\"Completed\":t=100}return t}}}n.r(t),n.d(t,\"default\",function(){return a}),angular.module(\"ppApp\").factory(\"currentTransactionsService\",a),a.$inject=[\"$http\",\"$q\"]},\"./app/services/transactions.transactionHistory.serv.js\":function(e,t,n){\"use strict\";function a(e,t){var n=ppdomain+\"rest-historic-transactions/\";return{fetchTransactionHistory:function(){var a=t.defer();return e.get(n).then(function(e){a.resolve(e.data)},function(e){a.resolve(e)}),a.promise},renewalProgress:function(e){var t=0;switch(e){case\"Initiated\":t=14;break;case\"Pending\":t=28;break;case\"Funds Received\":t=42;break;case\"Funds Sent\":t=56;break;case\"EPO Received\":t=70;break;case\"EPO Instructed\":t=84;break;case\"Completed\":t=100}return t}}}n.r(t),n.d(t,\"default\",function(){return a}),angular.module(\"ppApp\").factory(\"transactionHistoryService\",a),a.$inject=[\"$http\",\"$q\"]},\"./app/services/user.user.serv.js\":function(e,t,n){\"use strict\";function a(e,t){var n=ppdomain+\"rest-user/\";return{fetchUser:function(){var a=t.defer();return e.get(n).then(function(e){a.resolve(e.data)},function(e){console.error(\"Error while fetching user\"),a.reject(e)}),a.promise},updateUser:function(a){var r=t.defer();return e.put(n,a,void 0).then(function(e){r.resolve(e.data)},function(e){r.reject(e)}),r.promise},listUsers:function(){var n=t.defer();return e.get(ppdomain+\"rest-users/\").then(function(e){n.resolve(e.data)},function(e){n.reject(e)}),n.promise}}}n.r(t),n.d(t,\"default\",function(){return a}),angular.module(\"ppApp\").factory(\"userService\",a),a.$inject=[\"$http\",\"$q\"]},\"./app/services/vendors/ngCart.fulfilment.js\":function(e,t){angular.module(\"ngCart.fulfilment\",[]).service(\"fulfilmentProvider\",[\"$injector\",\"$state\",\"$timeout\",function(e,t,n){this._obj={service:void 0,settings:void 0},this.setService=function(e){this._obj.service=e},this.setSettings=function(e){this._obj.settings=e},this.checkout=function(t,n){return e.get(\"ngCart.fulfilment.\"+this._obj.service).checkout(this._obj.settings,t,n)}}]).service(\"ngCart.fulfilment.http\",[\"$http\",\"$state\",\"$q\",function(e,t,n){this.checkout=function(a,r,o){var s={totalCostUSD:r.totalCostUSD,patent_ids:r.patent_ids},i=n.defer();return e.post(\"http://localhost:8080/p3sweb/rest-prepare-banktransfer/\",s).then(function(e){i.resolve(e.data);var n,a={totalCostUSD:e.data.totalCostUSD,dateNowLocalTime:e.data.dateNowLocalTimeUI,transTargetEndDateUI:e.data.transTargetEndDateUI,patents:(n=[],e.data.orderedPatentUIs.forEach(function(e){n.push(e.patentApplicationNumber)}),n),totalPatents:e.data.orderedPatentUIs.length};t.go(\"bank-transfer-preparation\",{orderObj:o,patentObj:a})},function(e){i.reject(e)}),i.promise}}])},\"./assets/js/config.js\":function(e,t){console.log(\"whoop de whoop\")},\"./assets/js/polyfillers.js\":function(e,t){!function(){\"use strict\";Array.prototype.find||Object.defineProperty(Array.prototype,\"find\",{value:function(e){if(null==this)throw new TypeError('\"this\" is null or not defined');var t=Object(this),n=t.length>>>0;if(\"function\"!=typeof e)throw new TypeError(\"predicate must be a function\");for(var a=arguments[1],r=0;r<n;){var o=t[r];if(e.call(a,o,r,t))return o;r++}}}),String.prototype.includes||(String.prototype.includes=function(e,t){return\"number\"!=typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)})}()},\"./src/js/index.js\":function(e,t,n){n(\"./assets/js/config.js\"),n(\"./assets/js/polyfillers.js\"),n(\"./app/app.module.js\"),n(\"./app/app.config.js\"),n(\"./app/app.routes.js\"),n(\"./app/directives/app.dir.js\"),n(\"./app/directives/checkout.dir.js\"),n(\"./app/directives/current-transactions.transactions.dir.js\"),n(\"./app/directives/patents.list-patents.dir.js\"),n(\"./app/directives/user.dir.js\"),n(\"./app/directives/vendors/ngCart.directives.js\"),n(\"./app/services/app.calculate.serv.js\"),n(\"./app/services/app.chunkData.serv.js\"),n(\"./app/services/app.fx.serv.js\"),n(\"./app/services/app.fxCalculation.serv.js\"),n(\"./app/services/app.mainNav.serv.js\"),n(\"./app/services/app.timezone.serv.js\"),n(\"./app/services/checkout.bankTransferCommit.serv.js\"),n(\"./app/services/checkout.basket.serv.js\"),n(\"./app/services/dashboard.dashboard.serv.js\"),n(\"./app/services/dashboard.selectPhase.serv.js\"),n(\"./app/services/patents.patentPhases.serv.js\"),n(\"./app/services/patents.patents.serv.js\"),n(\"./app/services/patents.patentsRest.serv.js\"),n(\"./app/services/patents.searchPatent.serv.js\"),n(\"./app/services/transactions.transactionHistory.serv.js\"),n(\"./app/services/transactions.currentTransactions.serv.js\"),n(\"./app/services/user.user.serv.js\"),n(\"./app/services/vendors/ngCart.fulfilment.js\"),n(\"./app/controllers/checkout.bankTransferPrep.ctrl.js\"),n(\"./app/controllers/checkout.bankTransferSuccess.ctrl.js\"),n(\"./app/controllers/checkout.basket.ctrl.js\"),n(\"./app/controllers/core.core.ctrl.js\"),n(\"./app/controllers/core.mainNav.ctrl.js\"),n(\"./app/controllers/dashboard.colourKey.ctrl.js\"),n(\"./app/controllers/dashboard.dashboard.ctrl.js\"),n(\"./app/controllers/dashboard.fxChart.ctrl.js\"),n(\"./app/controllers/dashboard.graphDonut.ctrl.js\"),n(\"./app/controllers/dashboard.recentActivity.ctrl.js\"),n(\"./app/controllers/dashboard.renewalCost.ctrl.js\"),n(\"./app/controllers/dashboard.renewalsCarousel.ctrl.js\"),n(\"./app/controllers/patents.addPatent.ctrl.js\"),n(\"./app/controllers/patents.listPatents.ctrl.js\"),n(\"./app/controllers/patents.patentCostAnalysis.ctrl.js\"),n(\"./app/controllers/patents.patentInfo.ctrl.js\"),n(\"./app/controllers/patents.patentItem.ctrl.js\"),n(\"./app/controllers/patents.patentRenewals.ctrl.js\"),n(\"./app/controllers/patents.searchPatent.ctrl.js\"),n(\"./app/controllers/transactions.currentTransactionItem.ctrl.js\"),n(\"./app/controllers/transactions.currentTransactions.ctrl.js\"),n(\"./app/controllers/transactions.transactionHistory.ctrl.js\"),n(\"./app/controllers/transactions.transactionHistoryItem.ctrl.js\"),n(\"./app/controllers/user.userProfile.ctrl.js\")}});","extractedComments":[]}