<patentnav></patentnav>
<div class="row m-b-md">
	<div class="col-md-6">
		<div class="phase-tabs">
			<uib-tabset type="pills" active="activePhaseTab">
			
				<uib-tab index="0" class="bg-white pill-radius p-xl-pill-tabs pill-tabs font-sm txt-black border-grey-xs" heading="View All({{$ctrl.allPatentsLength}})" ng-attr-id="$ctrl.patentsTabs.all" ng-click="$ctrl.displayPhase(1)" ui-sref="patents">
		    	
			    </uib-tab>
			    <uib-tab index="1" class="bg-phase-green pill-radius p-xl-pill-tabs pill-tabs font-sm txt-white" heading="Green({{$ctrl.greenPatentsLength}})" ng-attr-id="$ctrl.patentsTabs.green" ng-click="$ctrl.displayPhase(2)" ui-sref="patents">
					
				</uib-tab>
			    <uib-tab index="2" class="bg-phase-amber pill-radius p-xl-pill-tabs pill-tabs font-sm txt-white" heading="Yellow({{$ctrl.amberPatentsLength}})" ng-attr-id="$ctrl.patentsTabs.amber" ng-click="$ctrl.displayPhase(3)" ui-sref="patents">
					
				</uib-tab>
			    <uib-tab index="3" class="bg-phase-red pill-radius p-xl-pill-tabs pill-tabs font-sm txt-white" heading="Red({{$ctrl.redPatentsLength}})" ng-attr-id="$ctrl.patentsTabs.red" ng-click="$ctrl.displayPhase(4)" ui-sref="patents">
					
				</uib-tab>
			    <uib-tab index="4" class="bg-phase-blue pill-radius p-xl-pill-tabs pill-tabs font-sm txt-white" heading="Blue({{$ctrl.bluePatentsLength}})" ng-attr-id="$ctrl.patentsTabs.blue" ng-click="$ctrl.displayPhase(5)" ui-sref="patents">
					
				</uib-tab>
			    <uib-tab index="5" class="bg-phase-black pill-radius p-xl-pill-tabs pill-tabs font-sm txt-white" heading="Black({{$ctrl.blackPatentsLength}})" ng-attr-id="$ctrl.patentsTabs.black" ng-click="$ctrl.displayPhase(6)" ui-sref="patents">
					
				</uib-tab>
			</uib-tabset>
		</div>	
	</div>
	<div class="col-md-4 offset-md-2">
		<form class="form-inline">
			<div class="row">
				<div class="col-md-6">
					<div class="input-group">
						<input type="text" class="form-control pill-radius font-md" name="filter" ng-model="$ctrl.tableParams.filter()['patentApplicationNumber']" placeholder="App No.">
						<div class="input-group-addon pill-radius"><i class="fa fa-search"></i></div>
					</div>					
				</div>
				<div class="col-md-6">
					<div class="input-group">
						<input type="text" class="form-control pill-radius font-md" name="filter" ng-model="$ctrl.tableParams.filter()['clientRef']" placeholder="Client Ref">
						<div class="input-group-addon pill-radius"><i class="fa fa-search"></i></div>
					</div>
				</div>			
			</div>
		</form>
	</div>
</div>

<div class="row m-b-xl">
	<div class="col-md-12" id="scrollable-area" class="table-scroll">
		<table ng-table="$ctrl.tableParams" class="table font-md t-list" show-filter="false" fixed-table-headers="scrollable-area">
		    <tr ng-repeat="row in $data" ng-click="$ctrl.rowSelect($event); $ctrl.colourPhase(row)">
		        <td width="13%" data-title="'Application No.'" filter="{ 'patentApplicationNumber': 'text'}" sortable="'patentApplicationNumber'">
		            <a class="txt-black" ui-sref="patents.patent({patentId: row.id})">{{row.patentApplicationNumber}}</a>
		        </td>
		        <td width="13%" data-title="'Client Ref'" filter="{ 'clientRef': 'text'}" sortable="'clientRef'">
		            {{row.clientRef}}
		        </td>
		        <td width="14%" data-title="'Description'" filter="{ 'title': 'text'}" sortable="'title'">
		            {{row.title}}
		        </td>
		        <td width="8%">
	
					<div ng-if="row.renewalStatus == 'Show price'">
						<span >$ {{row.currentRenewalCost}}</span><br>
						<span>{{date | date:'dd-MM-yy'}}</span>
					</div>		        	
		        </td>
		        <td width="14%" data-title="'Renewal status'" filter="{ 'renewalStatus': 'text'}" sortable="'renewalStatus'">
					<div ng-if="row.renewalStatus !== 'Show price'">
						<p class="font-md font-weight-bold txt-phase-green">{{row.renewalStatus}}</p>
					</div>	
					<div class="progress-phase" ng-if="row.renewalStatus == 'Show price'">
						<uib-progress class="pill-radius font-sm font-weight-bold" ng-class="(row.costBandColour == 'Green' ? 'bg-phase-amber': '') + '' + (row.costBandColour == 'Amber' ? 'bg-phase-red': '') + '' + (row.costBandColour == 'Red' ? 'bg-phase-blue': '') + '' + (row.costBandColour == 'Blue' ? 'bg-phase-black': '') + '' + (row.costBandColour == 'Black' ? 'bg-phase-white': '')">
							<uib-bar class="pill-radius d-flex align-items-center justify-content-center" value="row.progressBar">{{row.progressBar}}%</uib-bar>
						</uib-progress>
					</div>
		        </td>
		        <td width="8%">
					<div ng-if="row.renewalStatus == 'Show price'">
						<span>$ {{row.renewalCostNextStage}}</span>
					</div>		        	
		        </td>

		        	

		        <td width="15%" data-title="'Due date'" filter="{ 'renewalDueDateUI': 'text'}" sortable="'renewalDueDateUI'">
		        	{{row.renewalDueDateUI}}</td>
		        </td>
		        <td width="10%">
		        	<div ng-if="row.renewalStatus == 'Show price'">
				 		<ngcart-addtocart id="{{row.id}}" class="cartbtn" name="patent_{{row.id}}" price="{{row.currentRenewalCost}}" quantity="1" quantity-max="10" data="row" >
				 	</ngcart-addtocart>
				 	</div>
		        </td>                   
		    </tr>
		</table>
	</div>
</div>

<ui-view></ui-view>
<!-- 
		<table class="table table-bordered text-md-center scroll t-list font-md m-b-lg">
			<thead class="font-weight-bold">
				<tr>
					<th width="10%" class="align-middle">
						<a ng-click="$ctrl.sortType = 'patentApplicationNumber'; $ctrl.sortReverse = !$ctrl.sortReverse">Application No. show if not showing(false)
							<span ng-show="$ctrl.sortType == 'patentApplicationNumber' && !$ctrl.sortReverse" class="fa fa-caret-up"></span>
							<span ng-show="$ctrl.sortType == 'patentApplicationNumber' && $ctrl.sortReverse" class="fa fa-caret-down"></span>			
						</a>
					</th>
					<th width="15%">
						<a ng-click="$ctrl.sortType = 'clientRef'; $ctrl.sortReverse = !$ctrl.sortReverse">Client Ref
							<span ng-show="$ctrl.sortType == 'clientRef' && !$ctrl.sortReverse" class="fa fa-caret-up"></span>
							<span ng-show="$ctrl.sortType == 'clientRef' && $ctrl.sortReverse" class="fa fa-caret-down"></span>
						</a>							
					</th>
					<th width="15%">
						<a ng-click="$ctrl.sortType = 'title'; $ctrl.sortReverse = !$ctrl.sortReverse">Description
							<span ng-show="$ctrl.sortType == 'title' && !$ctrl.sortReverse" class="fa fa-caret-up"></span>
							<span ng-show="$ctrl.sortType == 'title' && $ctrl.sortReverse" class="fa fa-caret-down"></span>
						</a>
					</th>
					<th width="30%" colspan="3">
						<a ng-click="$ctrl.sortType = 'renewalCostNextStage'; $ctrl.sortReverse = !$ctrl.sortReverse">Renewal status
							<span ng-show="$ctrl.sortType == 'renewalCostNextStage' && !$ctrl.sortReverse" class="fa fa-caret-up"></span>
							<span ng-show="$ctrl.sortType == 'renewalCostNextStage' && $ctrl.sortReverse" class="fa fa-caret-down"></span>
						</a>
					</th>
					<th width="15%">
						<a ng-click="$ctrl.sortType = 'renewalDueDateUI'; $ctrl.sortReverse = !$ctrl.sortReverse">Due date
							<span ng-show="$ctrl.sortType == 'renewalDueDateUI' && !$ctrl.sortReverse" class="fa fa-caret-up"></span>
							<span ng-show="$ctrl.sortType == 'renewalDueDateUI' && $ctrl.sortReverse" class="fa fa-caret-down"></span>
						</a>
					</th>
					<th width="10%" ></th>
				</tr>
			</thead>

			<tbody>
				<tr ng-repeat="patent in $ctrl.patents | orderBy:$ctrl.sortType:$ctrl.sortReverse | filter:searchPatents" ng-click="$ctrl.rowSelect($event); $ctrl.colourPhase(patent)"  class="t-list-body__t-list-row font-md">
					<td width="10%" >
						<a class="txt-black" ui-sref="patents.patent({patentId: patent.id})" ng-bind="patent.patentApplicationNumber"></a>
					</td>
					<td width="15%" ng-bind="patent.clientRef"></td>
					<td width="20%" class="td-ch-limit">{{patent.title}}</td>
					<td width="8%">
						<div ng-if="patent.renewalStatus == 'Show price'">
							<span>$ {{patent.currentRenewalCost}}</span><br>
							<span>{{date | date:'dd-MM-yy'}}</span>
						</div>
					</td>
					<td width="19%">
						<div class="progress-phase" ng-if="patent.renewalStatus == 'Show price'">
							<uib-progress class="pill-radius font-sm font-weight-bold" ng-class="(patent.costBandColour == 'Green' ? 'bg-phase-amber': '') + '' + (patent.costBandColour == 'Amber' ? 'bg-phase-red': '') + '' + (patent.costBandColour == 'Red' ? 'bg-phase-blue': '') + '' + (patent.costBandColour == 'Blue' ? 'bg-phase-black': '') + '' + (patent.costBandColour == 'Black' ? 'bg-phase-white': '')">
								<uib-bar class="pill-radius d-flex align-items-center justify-content-center" value="patent.progressBar">{{patent.progressBar}}%</uib-bar>
							</uib-progress>
						</div>
						<div ng-if="patent.renewalStatus !== 'Show price'">
							<p class="font-md font-weight-bold">No action required</p>
						</div>						
					</td>
					<td width="8%">
						<div ng-if="patent.renewalStatus == 'Show price'">
							<span>$ {{patent.renewalCostNextStage}}</span><br>
						</div>
					</td>
					<td width="20%" ng-bind="patent.renewalDueDateUI"></td>
					<td width="10%" class="cartbtn">
						<div ng-if="patent.renewalStatus == 'Show price'">
						 	<ngcart-addtocart id="{{patent.id}}" class="cartbtn" name="patent_{{patent.id}}" price="{{patent.currentRenewalCost}}" quantity="1" quantity-max="10" data="patent" >
							 	Add to cart
						 	</ngcart-addtocart>
					 	</div>
				 	</td>
				</tr>
			</tbody>

		</table> -->
		
	</div>
</div> 
