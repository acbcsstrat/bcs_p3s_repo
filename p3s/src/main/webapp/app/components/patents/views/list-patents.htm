<patentnav></patentnav>
<div class="row">
	<div class="col-md-6">
		<p ng-show="$root.currentUser">Hi, {{$root.currentUser.firstname}}</p>
	</div>
</div>
<div class="row">
	<div class="col-md-4">
		<form class="form-inline">
			<div class="form-group">
				<div class="input-group">
					<div class="input-group-addon"><i class="fa fa-search"></i></div>
					<input type="text" class="form-control" name="searchPatents" ng-model="searchPatents">
				</div>
			</div>
		</form>
	</div>
</div>

<div class="row">
	<div class="col-md-12">		
		<table class="table table-bordered table-striped text-md-center">
			<thead class="thead-inverse">
				<tr>
					<td class="align-middle">
						<a ng-click="$ctrl.sortType = 'patentApplicationNumber'; $ctrl.sortReverse = !$ctrl.sortReverse">Application No.  <!--show if not showing(false)-->
							<span ng-show="$ctrl.sortType == 'patentApplicationNumber' && !$ctrl.sortReverse" class="fa fa-caret-up"></span>
							<span ng-show="$ctrl.sortType == 'patentApplicationNumber' && $ctrl.sortReverse" class="fa fa-caret-down"></span>			
						</a>
					</td>
					<td class="align-middle">
						<a ng-click="$ctrl.sortType = 'clientRef'; $ctrl.sortReverse = !$ctrl.sortReverse">Client Ref
							<span ng-show="$ctrl.sortType == 'clientRef' && !$ctrl.sortReverse" class="fa fa-caret-up"></span>
							<span ng-show="$ctrl.sortType == 'clientRef' && $ctrl.sortReverse" class="fa fa-caret-down"></span>			
						</a>							
					</td>
					<td class="align-middle">
						<a ng-click="$ctrl.sortType = 'currentRenewalCost'; $ctrl.sortReverse = !$ctrl.sortReverse">Cost now
							<span ng-show="$ctrl.sortType == 'currentRenewalCost' && !$ctrl.sortReverse" class="fa fa-caret-up"></span>
							<span ng-show="$ctrl.sortType == 'currentRenewalCost' && $ctrl.sortReverse" class="fa fa-caret-down"></span>
						</a>
					</td>
					<td class="align-middle">
						<a ng-click="$ctrl.sortType = 'costBandEndDateUI'; $ctrl.sortReverse = !$ctrl.sortReverse">Cost band end
							<span ng-show="$ctrl.sortType == 'costBandEndDateUI' && !$ctrl.sortReverse" class="fa fa-caret-up"></span>
							<span ng-show="$ctrl.sortType == 'costBandEndDateUI' && $ctrl.sortReverse" class="fa fa-caret-down"></span>
						</a>
					</td>
					<td class="align-middle">
						<a ng-click="$ctrl.sortType = 'renewalCostNextStage'; $ctrl.sortReverse = !$ctrl.sortReverse">Cost next
							<span ng-show="$ctrl.sortType == 'renewalCostNextStage' && !$ctrl.sortReverse" class="fa fa-caret-up"></span>
							<span ng-show="$ctrl.sortType == 'renewalCostNextStage' && $ctrl.sortReverse" class="fa fa-caret-down"></span>
						</a>
					</td>						
					<td class="align-middle">
						<a ng-click="$ctrl.sortType = 'renewalDueDateUI'; $ctrl.sortReverse = !$ctrl.sortReverse">Renewal Date
							<span ng-show="$ctrl.sortType == 'renewalDueDateUI' && !$ctrl.sortReverse" class="fa fa-caret-up"></span>
							<span ng-show="$ctrl.sortType == 'renewalDueDateUI' && $ctrl.sortReverse" class="fa fa-caret-down"></span>	
						</a>
					</td>							
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="patent in $ctrl.patents | orderBy:$ctrl.sortType:$ctrl.sortReverse | filter:searchPatents">
					<td>
						<a ui-sref="patents.patent({patentId: patent.id})" ng-bind="patent.patentApplicationNumber"></a>
					</td>
					<td ng-bind="patent.clientRef"></td>
					<td>$ {{patent.currentRenewalCost}}</td>
					<td ng-bind="patent.costBandEndDateUI"></td>
					<td>$ {{patent.renewalCostNextStage}}</td>
					<td ng-bind="patent.renewalDueDateUI"></td>
				</tr>
			</tbody>
		</table>
		<ui-view></ui-view>
	</div>
</div> 